#base robot_standard.pop
#base robot_giant.pop

#base robot_giant_red.pop
#base robot_standard_red.pop

#base reverse_timer_text.pop
#base reverse_isolation_yuugi.pop

// Reverse Mvm. Map Isolation rc3
// An Expert mission made by Yuugi Hoshiguma
// Steam Link: https://steamcommunity.com/id/LittleDumbOni/
// Good lord Help me
// This is what happens when a person plays too much Uber Upgrades


// Changelog: https://pastebin.com/g7TRWpne
I_Have_No_Idea_How_To_Do_A_Reverse_Mission_Help
{
    StartingCurrency 650
    CanBotsAttackWhileInSpawnRoom Yes
    Advanced 1
    //RespawnWaveTime 6
	RespawnWaveTimeBlue 4 [$SIGSEGV]
	FixedRespawnWaveTimeBlue 1 [$SIGSEGV]
	//FixedRespawnWaveTime	Yes
    AddSentryBusterWhenDamageDealtExceeds 100000
	AddSentryBusterWhenKillCountExceeds 100000
	//CustomUpgradesFile "mvm_upgrades_no_upgrades.txt"

    // Essential Stuff
	AllowBotExtraSlots 0 				[$SIGSEGV] // Allows you to set RobotLimit up to 33 bots instead of 27. Experimental. Can cause client and server crashes.
    RobotLimit 26                       [$SIGSEGV] // Increases the amount of Robots on the server
    ReverseWinConditions 1              [$SIGSEGV] // Required for Blu to deploy their bomb to the hatch 				 
	AllowJoinTeamBlueMax 6              [$SIGSEGV] // Max 6 players on Blu			 
	AllowJoinTeamBlue 1                 [$SIGSEGV] // Option to join the Blu team 				 
	HumansMustJoinTeam blue             [$SIGSEGV] // Set to blue to force players join the blu team	  	
	SetCreditTeam 3	                    [$SIGSEGV]		
	BluHumanFlagPickup 1                [$SIGSEGV] // Can blu humans pickup flags? Yes 
    BluHumanFlagCapture 1               [$SIGSEGV] // Can blu humans capture the flag? Yes
	FlagCarrierMovementPenalty 1		[$SIGSEGV]
    BluHumanInfiniteAmmo 1              [$SIGSEGV] // Enable infinite ammo for blu humans (default: 1)
    NoReanimators 1                     [$SIGSEGV] // Disable reanimators
    NoSapUnownedBuildings 1             [$SIGSEGV] 
    BotPushaway 1                       [$SIGSEGV] // Should bots push each other away (default: 1)
    //MaxTotalPlayers 6                 [$SIGSEGV] 
	//FixedBuybacks 1                  	[$SIGSEGV] // If set, the player can only use a number of free buybacks, as specified in BuybacksPerWave
	//BuybacksPerWave 0                	[$SIGSEGV] // How many buybacks can a player use, when FixedBuybacks is set to 1 (default: 0)
	BonusRatioHalf 1.1  				[$SIGSEGV] // No Bonus Cash
	BonusRatioFull 1.1					[$SIGSEGV]

    // Not so Essential stuff
    TextPrintTime 5                     [$SIGSEGV]
    NoRomevisionCosmetics 1             [$SIGSEGV] // Fuck romevision
    ImprovedAirblast 1			        [$SIGSEGV] // If set, bot pyros can deflect arrows grenades and stickybombs
    SniperAllowHeadshots 1              [$SIGSEGV] // sniper and amby don't work without this
    MedigunShieldDamage 1               [$SIGSEGV]
    BotsRandomCrit 1                    [$SIGSEGV]
    SendBotsToSpectatorImmediately 1    [$SIGSEGV]
    BluPlayersAreRobots 1               [$SIGSEGV]
	BluHumanInfiniteCloak 0 			[$SIGSEGV] 
    DisplayRobotDeathNotice 1           [$SIGSEGV]
    PlayerMiniBossMinRespawnTime 30     [$SIGSEGV]
    WaveStartCountdown 5                [$SIGSEGV]
    SentryBusterFriendlyFire 0          [$SIGSEGV] 
    //ForceHoliday 2                      [$SIGSEGV]
    //NoHolidayPickups 1                  [$SIGSEGV]
	ExtendedUpgradesOnly 1				[$SIGSEGV] 
	//PlayerRobotsUsePlayerAnimation 1 	[$SIGSEGV]
	FlagEscortCountOffset 5				[$SIGSEGV]
	ConchHealthOnHit 0.25 				[$SIGSEGV] // Silent Nerf of the conch
	StealthDamageReduction 0.1			[$SIGSEGV]
	//HealOnKillOverhealMelee 0 			[$SIGSEGV] // Why is this a thing
	BotsUsePlayerTeleporters 0 			[$SIGSEGV] // Why is this a thing
	AllowMultipleSappers 1 				[$SIGSEGV] // Allow spies to place multiple active sappers
	RemoveBluVelocityLimit 1			[$SIGSEGV] // Remove 1000 hu velocity limit for BLU team
	UpgradeStationKeepWeapons 1 		[$SIGSEGV] // Prevent upgrading from changing weapons to current loadout items
	BluHumanSpawnNoShoot 0 				[$SIGSEGV]
	ForceRedMoney 1						[$SIGSEGV]
	AutoWeaponStrip 1					[$SIGSEGV] // AAAAA
	//MaxSpeedLimit 99999
	//MaxEntitySpeed 99999

    // Engineer stuff // No
    //BotTeleportUberDuration 2    		 
	//BluHumanTeleportOnSpawn 1     			 
	//BluHumanBotTeleporter 1   // For some reason it also teleports RED too
	
	//FlagResetTime  
	//{
	//	Name "intel" 
	//	ResetTime 45
	//}
	
	// PrecacheModels
	PrecacheModel "models/props_mining/support_wall001a.mdl"
	PrecacheModel "models\props_mvm\reversemvm_redwall_112x152.mdl"
	PrecacheModel "models\props_mvm\reversemvm_redwall_512x320.mdl"
    PrecacheModel "models\props_mvm\mvm_upgrade_blu_tools.mdl"	 
	PrecacheModel "models/props_mvm/robot_spawnpoint.mdl"
	PrecacheModel "models/props_mvm/no_entry.mdl"
	PrecacheModel "models/weapons/c_models/c_critbanner/c_critbanner_red.mdl"
	PrecacheModel "models/bots/sniper_boss/bot_sniper_boss.mdl" 
	PrecacheModel "models/buildables/amplifier_test/amplifier.mdl"
	PrecacheModel "models/props_gameplay/cap_square_512.mdl"
	PrecacheModel "models/props_mvm/hatch_shield.mdl"
	PrecacheModel "models/weapons/c_models/c_pilot_flaregun/c_pilot_flaregun.mdl"
	PrecacheModel "models\weapons\c_models\c_wasp_launcher\c_wasp_launcher_1.mdl"
	PrecacheModel "models\weapons\c_models\c_big_man\c_big_man.mdl"
	PrecacheModel "models\weapons\c_models\c_biobreaker\c_biobreaker.mdl"
	PrecacheModel "models\weapons\c_models\c_gamma_gazer\c_gamma_gazer.mdl"
	PrecacheModel "models\weapons\c_models\c_scrap_sentinel\c_spikewrench.mdl"
	PrecacheModel "models/workshop/weapons/c_models/c_tokamak/c_tomislav.mdl"
	PrecacheModel "models/bots/boss_bot/boss_tank_ubered.mdl"
	PrecacheModel "models/bots/boss_bot/tank_red_drill.mdl" // Old Model
	//PrecacheModel "models/bots/boss_bot/tank_drill.mdl" // This new model broke
	PrecacheModel "models/bots/boss_bot/boss_tankred.mdl"
	PrecacheModel "models/bots/boss_bot/boss_tankred_damage1.mdl"
	PrecacheModel "models/bots/boss_bot/boss_tankred_damage2.mdl"
	PrecacheModel "models/bots/boss_bot/boss_tankred_damage3.mdl"
	PrecacheModel "models/bots/boss_bot/boss_tankred_part1_destruction.mdl"
	PrecacheModel "models/bots/boss_bot/boss_blimp.mdl"
	PrecacheModel "models/bots/boss_bot/boss_blimp_damage1.mdl"	 
	PrecacheModel "models/bots/boss_bot/boss_blimp_damage2.mdl"	 
	PrecacheModel "models/bots/boss_bot/boss_blimp_damage3.mdl"
	PrecacheModel "models/bots/boss_bot/boss_blimp_damage_explode.mdl"
	PrecacheModel "models/bots/boss_bot/boss_blimp_explode.mdl"

	// PrecacheSounds
	PrecacheSound "sound/tokamak_wind_up.wav"
	PrecacheSound "sound/tokamak_wind_down.wav"
	//PrecacheSound "sound/desolated_death_beginning.mp3"
	//PrecacheSound "sound/desolated_death_warning.mp3"
	//PrecacheSound "sound/desolated_death_silence.mp3"
	//PrecacheSound "sound/desolated_death_zero_gravity.mp3"
	//PrecacheSound "sound/desolated_death_badlands.mp3"
	//PrecacheSound "sound/desolated_death_breakthrough.mp3"
	PrecacheSound "sound/desolated_death_elder_hymn.mp3"
	PrecacheSound "sound/desolated_death_i_am_unbreakable.mp3"
	PrecacheSound "sound/desolated_death_calling_of_the_north.mp3"
	//PrecacheSound "sound/desolated_death_judgement.mp3"
	//PrecacheSound "sound/desolated_death_thermosphere.mp3"
	PrecacheSound "sound/desolated_death_unconquered.mp3"

	// Disable Sounds
	DisableSound "music.mvm_end_last_wave"
	DisableSound "music.mvm_end_mid_wave"
	DisableSound "music.mvm_end_tank_wave"
	DisableSound "music.mvm_end_wave"
	DisableSound "music.mvm_lost_wave"
	DisableSound "music.mvm_start_last_wave"
	DisableSound "music.mvm_start_mid_wave"
	DisableSound "music.mvm_start_tank_wave"
	DisableSound "music.mvm_start_wave"
    DisableSound "Announcer.MVM_Get_To_Upgrade"
	DisableSound "Announcer.MVM_Spy_Alert"
	DisableSound "Announcer.mvm_spybot_death"
	DisableSound "Announcer.mvm_spybot_death_all"
	DisableSound "Announcer.MVM_First_Wave_Start"
	DisableSound "Announcer.MVM_Wave_Start"
    DisableSound "Announcer.MVM_Wave_End"
    DisableSound "Announcer.MVM_Wave_Lose"
	DisableSound "Announcer.MVM_Final_Wave_Start"
	DisableSound "Announcer.MVM_Final_Wave_End"
	DisableSound "Announcer.MVM_Robots_Planted"
	DisableSound "Announcer.MVM_All_Dead"
	DisableSound "Announcer.MVM_Bomb_Alert_Entered"
	DisableSound "Announcer.MVM_Bomb_Alert_Near_Hatch"
	DisableSound "Announcer.MVM_Bomb_Alert_Deploying"
	DisableSound "Announcer.MVM_General_Wave_Start"
	DisableSound "Announcer.MVM_Game_Over_Loss"
	DisableSound "Announcer.MVM_Tank_Planted"
	DisableSound "Announcer.MVM_Tank_Alert_Spawn"
	DisableSound "Announcer.MVM_Tank_Alert_Another"
	DisableSound "Announcer.MVM_Tank_Alert_Multiple"
	DisableSound "Announcer.MVM_Tank_Alert_Halfway"
	DisableSound "Announcer.MVM_Tank_Alert_Halfway_Multiple"
	DisableSound "Announcer.MVM_Tank_Alert_Near_Hatch"
	DisableSound "Announcer.MVM_Tank_Alert_Deploying"

    OverrideSounds // it work :)
	{
		"MVM.BombWarning"			"#combine_bank_alarm.mp3"
	//	"MVM.GiantHeavyStep"		"#mvm\giant_heavy\giant_heavy_step02.wav"
	//	"MVM.GiantScoutStep"		"#mvm\giant_scout\giant_scout_step_01.wav"
	//	"MVM.GiantSoldierStep"		"#mvm\giant_soldier\giant_soldier_step03.wav"
	//	"MVM.GiantDemomanStep"		"#mvm\giant_demoman\giant_demoman_step_03.wav"
	//	"MVM.GiantPyroStep"			"#mvm\giant_pyro\giant_pyro_step_04.wav"
	//	"mvm\giant_common\giant_common_step_01.wav"		"mvm\giant_heavy\giant_heavy_step02.wav"
	//	"mvm\giant_common\giant_common_step_02.wav"		"mvm\giant_scout\giant_scout_step_01.wav"
	//	"mvm\giant_common\giant_common_step_03.wav"		"mvm\giant_soldier\giant_soldier_step03.wav"
	//	"mvm\giant_common\giant_common_step_04.wav"		"mvm\giant_demoman\giant_demoman_step_03.wav"
	//	"mvm\giant_common\giant_common_step_05.wav"		"mvm\giant_pyro\giant_pyro_step_04.wav"
		"MVM.GiantHeavyLoop"		"common/null.wav"
		"MVM.GiantScoutLoop"		"common/null.wav"
		"MVM.GiantSoldierLoop"		"common/null.wav"
		"MVM.GiantDemomanLoop"		"common/null.wav"
		"MVM.GiantPyroLoop"			"common/null.wav"
	//	"Regenerate.Touch" "misc/null.wav"
	//	"Announcer.MVM_Spy_Alert"	"empty.wav"			 
	//	"Announcer.mvm_spybot_death" 	"empty.wav"				 
	//	"Announcer.mvm_spybot_death_all"	"empty.wav"
		"Announcer.MVM_All_Dead" "common/null.wav" // It ain't work
	//	"Announcer.MVM_Get_To_Upgrade" "empty.wav" // That also It ain't work
	}	

    // Stats and stuff
    ClassLimit   // Limits the number of specified classes
	{
		Scout 2
		Soldier 2
		Pyro 2
		Demoman 2
		Heavyweapons 2
		//Engineer 2
		//Medic 2
		//Sniper 2
		//Spy 2
	}
	// Player Attributes
	PlayerAttributes  
	{
		Scout
		{
			//"cannot upgrade" 1
			//"min respawn time" 16
			"is miniboss" 1
			"model scale" 1.75
			"damage force reduction" 0.7
			"airblast vulnerability multiplier" 0.7
			"override footstep sound set" 0
			"max health additive bonus" 1475
			"patient overheal penalty" 0
			"health from packs increased" 0.5
			"voice pitch scale" 0.7
			"crit mod disabled" 0
		}
		Soldier
		{
			//"cannot upgrade" 1
			//"min respawn time" 16
			"is miniboss" 1
			"model scale" 1.75
			"move speed bonus"	0.5
			"damage force reduction" 0.4
			"airblast vulnerability multiplier" 0.4
			"override footstep sound set" 0
			"max health additive bonus" 3600
			"patient overheal penalty" 0
			"health from packs increased" 0.5
			"voice pitch scale" 0.7
			"crit mod disabled" 0
		}
		Pyro
		{
			//"cannot upgrade" 1
			//"min respawn time" 16
			"is miniboss" 1
			"model scale" 1.75
			"move speed bonus"	0.5
			"damage force reduction" 0.6
			"airblast vulnerability multiplier" 0.6
			"override footstep sound set" 0
			"max health additive bonus" 3125
			"patient overheal penalty" 0
			"health from packs increased" 0.5
			"voice pitch scale" 0.7
			"crit mod disabled" 0
		}
		Demoman
		{
			//"cannot upgrade" 1
			//"min respawn time" 16
			"is miniboss" 1
			"model scale" 1.75
			"move speed bonus"	0.5
			"damage force reduction" 0.5
			"airblast vulnerability multiplier" 0.5
			"override footstep sound set" 0
			"max health additive bonus" 3125
			"patient overheal penalty" 0
			"health from packs increased" 0.5
			"voice pitch scale" 0.7
			"crit mod disabled" 0
		}
		Heavyweapons
		{
			//"cannot upgrade" 1
			//"min respawn time" 16
			"is miniboss" 1
			"model scale" 1.75
			"move speed bonus"	0.5
			"damage force reduction" 0.3
			"airblast vulnerability multiplier" 0.3
			"override footstep sound set" 0
			"max health additive bonus" 4700
			"patient overheal penalty" 0
			"health from packs increased" 0.5
			"voice pitch scale" 0.7
			"crit mod disabled" 0
		}
		Engineer
		{
			"max health additive bonus" 150
			//"build rate bonus" 0.75
			"mult teleporter recharge rate" 0.5
			//"engy dispenser radius increased" 4
			//"upgrade rate decrease" 2
			"mod teleporter speed boost" 1
		}
	}
	//HandModelOverride [$SIGSEGV] // Overwrite first person arms models
    //{
	//	Scout			"models\weapons\c_models\c_scout_bot_arms.mdl"
	//	Soldier			"models\weapons\c_models\c_soldier_bot_arms.mdl"
	//	Pyro			"models\weapons\c_models\c_pyro_bot_arms.mdl"
	//	Demoman			"models\weapons\c_models\c_demo_bot_arms.mdl"
	//	Engineer		"models\weapons\c_models\c_engineer_bot_arms.mdl"
	//	HeavyWeapons	"models\weapons\c_models\c_heavy_bot_arms.mdl"
	//	Sniper			"models\weapons\c_models\c_sniper_bot_arms.mdl"
	//	Medic			"models\weapons\c_models\c_medic_bot_arms.mdl"
    //    Spy				"models\weapons\c_models\c_spy_bot_arms.mdl"
    //}

	// Custom Upgrades
	ExtendedUpgrades 
	{
		// All Giant Class
		upgrade // Blast Resistance
		{
			Name "+10% Blast resistance"
			Attribute "dmg taken from blast reduced"
			cap 0.60
			Increment -0.1
			cost 300
			Playerupgrade 1
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Demoman
			AllowPlayerClass HeavyWeapons
		}
		upgrade // Bullet Resistance
		{
			Name "+10% Bullet resistance"
			Attribute "dmg taken from bullets reduced"
			cap 0.60
			Increment -0.1
			cost 300
			Playerupgrade 1
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Demoman
			AllowPlayerClass HeavyWeapons
		}
		upgrade // Fire Resistance
		{
			Name "+10% Fire resistance"
			Attribute "dmg taken from fire reduced"
			cap 0.60
			Increment -0.1
			cost 200
			Playerupgrade 1
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Demoman
			AllowPlayerClass HeavyWeapons
		}
		upgrade // Crit Resistance
		{
			Name "+15% Crit resistance"
			Attribute "dmg taken from crit reduced"
			cap 0.4
			Increment -0.15
			cost 200
			Playerupgrade 1
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Demoman
			AllowPlayerClass HeavyWeapons
		}
		upgrade // Jump Height
		{
			Name "+20% Jump height"
			Attribute "increased jump height"
			cap 1.6
			Increment 0.2
			Cost 150
			Playerupgrade 1
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Demoman
			AllowPlayerClass HeavyWeapons
		}
		upgrade // Damage Upgrade Primary
        {
            Name "+25% Damage bonus"
            Attribute "damage bonus"
            Cap 2
			Increment 0.25
			Cost 400 
			AllowPlayerClass Scout
            AllowPlayerClass Soldier
			//AllowPlayerClass Pyro // Special treatment
			//AllowPlayerClass Sniper
            AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "Rocket Jumper"
			}
        }
		upgrade // Damage Upgrade Demoman Only
        {
            Name "+20% Damage bonus"
            Attribute "damage bonus"
            Cap 1.8
			Increment 0.2
			Cost 400 //500
			AllowPlayerClass Demoman
            AllowedWeapons
			{
				Slot "Primary"
				Slot "Secondary"
			}
			DisallowedWeapons
			{
				ItemName "Ali Baba's Wee Booties"
				ItemName "The Bootlegger"
				ItemName "The Chargin' Targe"
				ItemName "The Splendid Screen"
				ItemName "The Tide Turner"
			}
        }
		upgrade // Projectile Penetration
		{
			Name "Projectile penetration"
			Attribute "Projectile Penetration"
			Cap 1
			Increment 1
			Cost 300
			AllowPlayerClass Scout
			//AllowPlayerClass Engineer
			//AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		upgrade // Melee Damage bonus Swords only
        {
            Name "+25% Damage bonus"
            Attribute "damage bonus"
            Cap 2
			Increment 0.25 
			Cost 300
            AllowPlayerClass Soldier
			AllowPlayerClass Demoman
            AllowedWeapons // Restricts upgrade to specified weapons
			{
				ItemName "The Half-Zatoichi"
				ItemName "The Eyelander"
				ItemName "The Scotsman's Skullcutter"
				ItemName "The Claidheamohmor"
				ItemName "The Persian Persuader"
				ItemName "Nessie's Nine Iron"
				ItemName "Festive Eyelander"
				ItemName "The Horseless Headless Horseman's Headtaker"
				ItemName "The Ullapool Caber"
			}
        }
		upgrade // Melee Attack Cleave
        {
            Name "Melee cleave attack"
            Attribute "melee cleave attack"
            Cap 1
			Increment 1 
			Cost 650
            AllowPlayerClass Soldier
			AllowPlayerClass Demoman
            AllowedWeapons // Restricts upgrade to specified weapons
			{
				ItemName "The Half-Zatoichi"
				ItemName "The Eyelander"
				ItemName "The Scotsman's Skullcutter"
				ItemName "The Claidheamohmor"
				ItemName "The Persian Persuader"
				ItemName "Nessie's Nine Iron"
				ItemName "Festive Eyelander"
				ItemName "The Horseless Headless Horseman's Headtaker"
			}
        }
		upgrade // Health on Kill (Giant)
		{
			Name "+50 Health on kill"
			Attribute "heal on kill"
			Cap 250
			Increment 50
			Cost 200
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Demoman
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				Slot "Primary"
				Slot "Secondary"
				Slot "Melee"
			}
			DisallowedWeapons
			{
				// Scout
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Flying Guillotine"

				// Soldier
				ItemName "Rocket Jumper"
				ItemName "The Buff Banner"
				ItemName "Festive Buff Banner"
				ItemName "The Battalion's Backup"
				ItemName "The Concheror"
				ItemName "The B.A.S.E. Jumper"
				ItemName "The Mantreads"
				ItemName "The Gunboats"

				// Pyro
				ItemName "The Gas Passer"
				ItemName "The Thermal Thruster"

				// Demoman
				ItemName "Ali Baba's Wee Booties"
				ItemName "The Bootlegger"
				ItemName "The Chargin' Targe"
				ItemName "The Splendid Screen"
				ItemName "The Tide Turner"

				// Heavy
				ItemName "The Sandvich"
				ItemName "Festive Sandvich"
				ItemName "The Buffalo Steak Sandvich"
				ItemName "The Dalokohs Bar"
				ItemName "Sandvich Promo Package"
				ItemName "The Second Banana"
			} 
		}
		critboost // Crit on Kill, Demo and spy Only
		{
			Name "+2s Crits on kill"
			Attribute "critboost on kill"
			Cap 4
			Increment 2
			Cost 350
			AllowPlayerClass Demoman
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Melee"
			}
			DisallowedUpgrade
			{
				upgrade speedboost
				level 1
			}
		}
		speedboost // Speedboost on Kill, Demo Only
		{
			Name "+2s Speed Boost on kill"
			Attribute "speed_boost_on_kill"
			Cap 4
			Increment 2
			Cost 350
			AllowPlayerClass Demoman
			AllowedWeapons
			{
				Slot "Melee"
			}
			DisallowedUpgrade
			{
				upgrade critboost
				level 1
			}
		}
		upgrade // Crits on Kill, Soldier Only
		{
			Name "+2s Crits on kill"
			Attribute "critboost on kill"
			Cap 4
			Increment 2
			Cost 350
			AllowPlayerClass Soldier
			AllowedWeapons
			{
				ItemName "The Half-Zatoichi"
			}
		}
		// Common bots Upgrade 
		upgrade // Blast Resistance
		{
			Name "+25% Blast resistance"
			Attribute "dmg taken from blast reduced"
			cap 0.25
			Increment -0.25
			cost 300
			Playerupgrade 1
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
		}
		upgrade // Bullet Resistance
		{
			Name "+25% Bullet resistance"
			Attribute "dmg taken from bullets reduced"
			cap 0.25
			Increment -0.25
			cost 300
			Playerupgrade 1
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
		}
		upgrade // Movement speed
		{
			Name "+10% Movement speed"
			Attribute "move speed bonus"
			cap 1.3
			Increment 0.1
			Cost 200
			Playerupgrade 1
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
		}
		upgrade // Health Regen
		{
			Name "+4 Health regen"
			Attribute "Health Regen"
			cap 12
			Increment 4
			Cost 200
			Playerupgrade 1
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
		}
		upgrade // Fire Resistance
		{
			Name "+25% Fire resistance"
			Attribute "dmg taken from fire reduced"
			cap 0.25
			Increment -0.25
			cost 150
			Playerupgrade 1
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
		}
		upgrade // Crit Resistance
		{
			Name "+30% Crit resistance"
			Attribute "dmg taken from crit reduced"
			cap 0.01
			Increment -0.33
			cost 150
			Playerupgrade 1
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
		}
		upgrade // Jump Height
		{
			Name "+20% Jump height"
			Attribute "increased jump height"
			cap 1.6
			Increment 0.2
			Cost 100
			Playerupgrade 1
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
		}
		upgrade // Damage Upgrade Secondary
        {
            Name "+25% Damage bonus"
            Attribute "damage bonus"
            Cap 1.5
			Increment 0.25
			Cost 300 
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass HeavyWeapons
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
            AllowedWeapons
			{
				Slot "Secondary"
			}
			DisallowedWeapons
			{
				// Scout
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Flying Guillotine"
				ItemName "The Winger"
				// Soldier
				ItemName "The Righteous Bison" // Doesn't work?
				ItemName "The Buff Banner"
				ItemName "Festive Buff Banner"
				ItemName "The Battalion's Backup"
				ItemName "The Concheror"
				ItemName "The B.A.S.E. Jumper"
				ItemName "The Mantreads"
				ItemName "The Gunboats"
				// Pyro
				ItemName "The Gas Passer"
				ItemName "The Thermal Thruster"
				ItemName "The Flare Gun"
				ItemName "The Detonator"
				ItemName "The Scorch Shot"
				ItemName "The Manmelter"
				ItemName "Spitfire Flare Gun"
				// Heavy
				ItemName "The Sandvich"
				ItemName "Festive Sandvich"
				ItemName "The Buffalo Steak Sandvich"
				ItemName "The Dalokohs Bar"
				ItemName "Sandvich Promo Package"
				ItemName "The Second Banana"

				// Engineer
				ItemName "The Short Circuit"
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
				ItemName "Gamma Gazer"
				// Sniper
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Razorback"
				ItemName "The Cozy Camper"
				ItemName "Darwin's Danger Shield"
			} 
        }
		upgrade // Reload speed Primary
		{
			Name "+20% Reload speed"
			Attribute "faster reload rate"
			Cap 0.4
			Increment -0.2
			Cost 250
			AllowPlayerClass Scout
			//AllowPlayerClass Demoman
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper 
			AllowedWeapons
			{
				slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Soda Popper"
				ItemName "The Force-a-Nature"
				ItemName "Festive Force-a-Nature"
				ItemName "The Shortstop"
				ItemName "The Widowmaker" 
			}
		}
		upgrade // Faster firing speed Primary
		{
			Name "+10% Faster firing speed"
			Attribute "Fire Rate Bonus"
			Cap 0.6
			Increment -0.1
			Cost 200
			AllowPlayerClass Scout
			//AllowPlayerClass Engineer
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Soda Popper"
				ItemName "The Force-a-Nature"
				ItemName "Festive Force-a-Nature"
			}
		}
		upgrade // Faster firing speed Primary Engineer
		{
			Name "+10% Faster firing speed"
			Attribute "Fire Rate Bonus"
			Cap 0.6
			Increment -0.1
			Cost 100
			//AllowPlayerClass Scout
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		upgrade // Recharge rate 
		{
			Name "+15% Recharge rate"
			Attribute "effect bar recharge rate increased"
			Cap 0.4
			Increment -0.15
			Cost 250
			AllowedWeapons
			{
				// Scout 
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Flying Guillotine"
				// Sniper
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Razorback"
			}
		}
		upgrade // Slow Jar
		{
			Name "-35% Speed On target"
			Attribute "applies snare effect"
			Cap 0.65
			Increment -0.35
			Cost 200
			AllowedWeapons
			{
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Gas Passer"
			}
		}
		upgrade // Melee Attack Speed
		{
			Name "+10% Melee attack speed"
			Attribute "melee attack rate bonus"
			cap 0.6
			Increment -0.1
			cost 200
			AllowedWeapons
			{
				slot "Melee"
			}
		}
		upgrade // Health on Kill (Regular)
		{
			Name "+25 Health on kill"
			Attribute "heal on kill"
			Cap 100
			Increment 25
			Cost 200
			AllowPlayerClass Sniper
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		upgrade // Health on Kill Engineer Primary (Regular)
		{
			Name "+25 Health on kill"
			Attribute "heal on kill"
			Cap 100
			Increment 25
			Cost 100
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		upgrade // Health on Kill Engineer and Spy (Regular)
		{
			Name "+25 Health on kill"
			Attribute "heal on kill"
			Cap 100
			Increment 25
			Cost 200
			AllowPlayerClass Engineer
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Melee"
			}
		}
		upgrade // Health on Kill Secondary (Regular)
		{
			Name "+25 Health on kill"
			Attribute "heal on kill"
			Cap 100
			Increment 25
			Cost 100
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Secondary"
				//Slot "Melee"
			}
			DisallowedWeapons
			{
				// Engineer
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
				// Sniper
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Razorback"
				ItemName "The Cozy Camper"
				ItemName "Darwin's Danger Shield"
			}
		}
		upgrade // Health on Kill Melee Medic (Regular)
		{
			Name "+25 Health on kill"
			Attribute "heal on kill"
			Cap 100
			Increment 25
			Cost 100
			AllowPlayerClass Medic
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Melee"
			}
		}
		upgrade // Projectile Penetration Secondary
		{
			Name "Projectile penetration"
			Attribute "Projectile Penetration"
			Cap 1
			Increment 1
			Cost 200
			AllowPlayerClass Scout
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Secondary"
			}
			DisallowedWeapons
			{
				// Scout
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Flying Guillotine"
				// Engineer
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
				// Sniper
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Razorback"
				ItemName "The Cozy Camper"
				ItemName "Darwin's Danger Shield"
			}
		}
		upgrade // faster firing rate Secondary
		{
			Name "+10% Faster firing speed"
			Attribute "fire rate bonus"
			Cap 0.6
			Increment -0.1
			Cost 100
			AllowPlayerClass Scout
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Secondary"
			}
			DisallowedWeapons
			{
				// Scout
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Flying Guillotine"
				// Engineer
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
				// Sniper
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Razorback"
				ItemName "The Cozy Camper"
				ItemName "Darwin's Danger Shield"
			}
		}
		upgrade // Clip size Secondary
		{
			Name "+50% Clip size"
			Attribute "clip size bonus upgrade"
			Cap 3
			Increment 0.5
			Cost 200
			AllowPlayerClass Scout
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Secondary"
			}
			DisallowedWeapons
			{
				// Scout
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Flying Guillotine"
				// Engineer
				ItemName "The Short Circuit"
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
				// Sniper
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Razorback"
				ItemName "The Cozy Camper"
				ItemName "Darwin's Danger Shield"
			}
		}
		// Scout
		upgrade // Clip size Primary
		{
			Name "+50% Clip size"
			Attribute "clip size bonus upgrade"
			Cap 3
			Increment 0.5
			Cost 400
			AllowPlayerClass Scout
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		armoryboy
		{
			Name "Armored sandman module"
			//Description "Restricts Melee usage only! Reduced ammo capacity of your Primary and Secondary" // Fuck that, combo it!
			Attribute "max health additive bonus"
			Cap 1400
			Increment 1400
			Cost 500
			AllowedWeapons
			{
				ItemName "The Sandman"
			}
			SecondaryAttributes
			{
				"provide on active" 1
				//"max health additive penalty" 0
				"damage bonus" 0.5
				"mark for death" 1
				//"cannot upgrade" 1
				//"effect bar recharge rate increased" 0.05
				"move speed penalty" -0.25
				//"max health additive bonus" 1400
				//"provide on active" 1
				//"disable weapon switch" 1
				//"maxammo primary reduced" -1
				//"maxammo secondary reduced" -1
				"health from packs decreased" -0.25
			}
			DisallowedUpgrade
			{
				upgrade jumpyboy
				level 1
			}
			OnUpgrade
			{
				Output "!activator,$ForceRespawn,,1"
			}
		}
		jumpyboy
		{
			Name "Jump height sandman module"
			Attribute "max health additive penalty"
			Cap -400
			Increment -400
			Cost 300
			AllowedWeapons
			{
				ItemName "The Sandman"
			}
			SecondaryAttributes
			{
				//"max health additive penalty" 0
				"damage bonus" 1
				"provide on active" 1
				"increased jump height" 1
				//"head scale" 0.5
				//"no double jump" 1
				"cancel falling damage" 1
				"critboost on kill" 3
			}
			DisallowedUpgrade
			{
				upgrade armoryboy
				level 1
			}
		}
		supershotgun
		{
			Name "Super shotgun module"
			Attribute "damage penalty"
			Cap 0.5
			Increment -0.5
			Cost 350
			AllowPlayerClass Scout
			SecondaryAttributes
			{
				"bullets per shot bonus" 3
				//"damage penalty" -0.5 // Oops
				"reload time increased" 1
				"fire rate penalty" 0.5
			}
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedUpgrade
			{
				upgrade anotherheadshot
				level 1
			}
		}
		anotherheadshot // Boom headshot!
		{
			Name "Headshot bullet module"
			Description "Allows your weapon deal crit damage on headshot."
			Attribute "can headshot"
			Cap 1
			Increment 1
			Cost 400
			AllowPlayerClass Scout
			AllowedWeapons
			{
				Slot "Primary"
			}
			SecondaryAttributes
			{
				"headshot damage increase" 0.5 // This is a bad idea
				"revolver use hit locations" 1
				"weapon spread bonus" -0.5
				"fire rate penalty" 1
			}
			DisallowedUpgrade
			{
				upgrade supershotgun
				level 1
			}
		}
		upgrade // Super Scout Module
		{
			Name "Super speed module"
			Description "Only provides faster movement speed when melee is active!"
			Attribute "move speed bonus"
			Cap 2
			Increment 1
			Cost 400
			AllowedWeapons
			{
				ItemName "The Holy Mackerel"
				ItemName "Festive Holy Mackerel"
			}
			SecondaryAttributes
			{
				"provide on active" 1
				"max health additive penalty" -400
				//"move speed bonus" 2
			}
		}
		upgrade // Winger
		{
			Name "+25% Damage bonus"
			Attribute "damage bonus"
			Cap 1.65
			Increment 0.25
			Cost 300
			AllowedWeapons
			{
				ItemName "The Winger"
				ItemName "Gamma Gazer"
			}
		}
		upgrade // Boom headshot!
		{
			Name "Headshot bullet module"
			Description "Allows your weapon deal crit damage on headshot."
			Attribute "can headshot"
			Cap 1
			Increment 1
			Cost 300
			AllowPlayerClass Scout
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Secondary"
			}
			SecondaryAttributes
			{
				"CARD: damage bonus" 0.5
				"revolver use hit locations" 1
				"weapon spread bonus" -0.5
				"fire rate penalty" 1
			}
			DisallowedWeapons
			{
				// Scout
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Flying Guillotine"
				// Engineer
				ItemName "The Short Circuit"
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
				ItemName "Gamma Gazer"
				// Sniper
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
				ItemName "The Razorback"
				ItemName "The Cozy Camper"
				ItemName "Darwin's Danger Shield"
			}
		}
		upgrade // Bleed damage
		{
			Name "+100% Bleed damage"
			Attribute "dmg penalty vs players"
			Cap 5
			Increment 1
			Cost 300
			AllowedWeapons
			{
				ItemName "The Flying Guillotine"
				ItemName "The Boston Basher"
				ItemName "Three-Rune Blade"
				ItemName "The Wrap Assassin"
			}
		}
		// Soldier 
		rocketspecialist // Rocket Specialist
		{
			Name "Rocket specialist"
			Attribute "rocket specialist"
			Cap 4
			Increment 1
			Cost 300
			AllowPlayerClass Soldier
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedUpgrade { upgrade homingprojectile }
			DisallowedUpgrade { upgrade homingprojectile_airstrike }
			DisallowedUpgrade { upgrade homingprojectile_liberty }
		}
		homingprojectile // Homing Module
        {
            Name "Homing module"
            Attribute "damage penalty"
            //Description "Take control of your rockets by aiming with your crosshair" // Manual thing off, now automatic
            Cap 0.85
            Increment -0.15
            Cost 650
            AllowPlayerClass Soldier
            AllowedWeapons
            {
                Slot "Primary"
            }
            SecondaryAttributes
            {
                //"projectile speed decreased" -0.35
                //"damage penalty" -0.2
				"Blast radius decreased" -0.2
                "mod projectile heat seek power"      120
			    "mod projectile heat aim error"       45
			    "mod projectile heat aim time"        10
				//"mod projectile heat follow crosshair" 1
				//"projectile spread angle penalty" 3
				"projectile trail particle" eyeboss_projectile
            }
			DisallowedWeapons
			{
				//ItemName "The Cow Mangler 5000"
				ItemName "The Liberty Launcher"
				ItemName "The Air Strike"
				ItemName "The Beggar's Bazooka"
				ItemName "W.A.S.P Launcher"
			}
			DisallowedUpgrade { upgrade rocketspecialist }
			DisallowedUpgrade { upgrade blackbox_heal }
        }
		homingprojectile_airstrike // Homing Module Air Strike
        {
            Name "Homing module"
            Attribute "Blast radius decreased"
            //Description "Take control of your rockets by aiming with your crosshair"
            Cap 0.8
            Increment -0.1
            Cost 650
            //AllowPlayerClass Soldier
            AllowedWeapons
            {
				ItemName "The Air Strike"
            }
            SecondaryAttributes
            {
                //"projectile speed decreased" -0.35
                //"damage penalty" -0.20
				//"Blast radius decreased" -0.1
                "mod projectile heat seek power"      120
			    "mod projectile heat aim error"       45
			    "mod projectile heat aim time"        10
				//"mod projectile heat follow crosshair" 1
				//"projectile spread angle penalty" 3
				"projectile trail particle" eyeboss_projectile
            }
			DisallowedUpgrade { upgrade rocketspecialist }
        }
		homingprojectile_liberty // Homing Module Liberty
        {
            Name "Homing module"
            Attribute "Blast radius decreased"
            //Description "Take control of your rockets by aiming with your crosshair"
            Cap 0.8
            Increment -0.2
            Cost 650
            //AllowPlayerClass Soldier
            AllowedWeapons
            {
				ItemName "The Liberty Launcher"
            }
            SecondaryAttributes
            {
                //"projectile speed decreased" 0.65
                //"damage penalty" -0.20
				//"Blast radius decreased" -0.2
                "mod projectile heat seek power"      120
			    "mod projectile heat aim error"       45
			    "mod projectile heat aim time"        10
				//"mod projectile heat follow crosshair" 1
				//"projectile spread angle penalty" 3
				"damage penalty" 0.1
				"projectile trail particle" eyeboss_projectile
            }
			DisallowedUpgrade { upgrade rocketspecialist }
		}
		charged_soldier // Charged Module
		{
			Name "Charged module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 450
			AllowPlayerClass Soldier
            AllowedWeapons
            {
                Slot "Primary"
            }
			SecondaryAttributes
            {
				"CARD: damage bonus" 0.5
				"always crit" 1
                "faster reload rate" -0.8
				"fire rate bonus" 1
				"Projectile speed decreased" -0.5
				"self dmg push force increased" 4
				"apply z velocity on damage" 250
            }
			DisallowedWeapons
			{
				ItemName "The Beggar's Bazooka"
				ItemName "The Cow Mangler 5000"
				ItemName "W.A.S.P Launcher"
			}
			DisallowedUpgrade { upgrade rapid_soldier }
			DisallowedUpgrade { upgrade burst_soldier }
			DisallowedUpgrade { upgrade rocketrain_soldier }
			DisallowedUpgrade { upgrade blackbox_heal }
			DisallowedUpgrade { upgrade blackbox_atomic }
		}
		rapid_soldier // Rapid Fire Module
		{
			Name "Rapid fire module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 650
			AllowPlayerClass Soldier
            AllowedWeapons
            {
               slot "Primary"
            }
			SecondaryAttributes
            {
                "faster reload rate" -1.8
				"fire rate bonus" -0.5
				"Projectile speed decreased" -0.35
            }
			DisallowedWeapons
			{
				ItemName "The Beggar's Bazooka"
				//ItemName "The Cow Mangler 5000"
			}
			DisallowedUpgrade { upgrade charged_soldier }
			DisallowedUpgrade { upgrade burst_soldier }
			DisallowedUpgrade { upgrade rocketrain_soldier }
			DisallowedUpgrade { upgrade cow_burst_soldier }
			DisallowedUpgrade { upgrade cow_rocketrain_soldier }
			DisallowedUpgrade { upgrade blackbox_heal }
			DisallowedUpgrade { upgrade blackbox_atomic }
		}
		burst_soldier // Burst Fire Module
		{
			Name "Burst fire module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 800
			AllowPlayerClass Soldier
            AllowedWeapons
            {
                slot "Primary"
            }
			SecondaryAttributes
            {
                "faster reload rate" -0.4
				"fire rate bonus" -0.9
				"clip size upgrade atomic" 5.0
				"Projectile speed decreased" -0.35
            }
			DisallowedWeapons
			{
				ItemName "The Beggar's Bazooka"
				ItemName "The Cow Mangler 5000"
			}
			DisallowedUpgrade { upgrade charged_soldier }
			DisallowedUpgrade { upgrade rapid_soldier }
			DisallowedUpgrade { upgrade rocketrain_soldier }
			DisallowedUpgrade { upgrade blackbox_heal }
			DisallowedUpgrade { upgrade blackbox_atomic }
		}
		cow_burst_module // Burst Fire Module (Cow Mangler)
		{
			Name "Burst fire module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 800
			//AllowPlayerClass Soldier
			SecondaryAttributes
            {
                "faster reload rate" -0.4
				"fire rate bonus" -0.9
				"clip size bonus upgrade" 1
				"Projectile speed decreased" -0.35
            }
			AllowedWeapons
			{
				ItemName "The Cow Mangler 5000"
			}
			DisallowedUpgrade { upgrade rapid_soldier }
			DisallowedUpgrade { upgrade cow_rocketrain_soldier }
		}
		rocketrain_soldier // Rocket Rain Module
		{
			Name "Rocket rain module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 1100
			AllowPlayerClass Soldier
            AllowedWeapons
            {
                Slot "Primary"
            }
			SecondaryAttributes
            {
                "reload time increased" 6
				"reload full clip at once" 1
				"fire rate bonus" -0.999
				"clip size upgrade atomic" 8
				"Projectile speed decreased" -0.4
				"projectile spread angle penalty" 6
				"blast radius increased" 0.35
            }
			DisallowedWeapons
			{
				ItemName "The Beggar's Bazooka"
				ItemName "The Cow Mangler 5000"
			}
			DisallowedUpgrade { upgrade charged_soldier }
			DisallowedUpgrade { upgrade rapid_soldier }
			DisallowedUpgrade { upgrade burst_soldier }
			DisallowedUpgrade { upgrade blackbox_heal }
			DisallowedUpgrade { upgrade blackbox_atomic }
		}
		cow_rocketrain_soldier // Rocket Rain Module (Cow Mangler)
		{
			Name "Rocket rain module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 1100
			//AllowPlayerClass Soldier
			SecondaryAttributes
            {
            	"reload time increased" 6
				"reload full clip at once" 1
				"fire rate bonus" -0.999
				"clip size bonus upgrade" 2
				"Projectile speed decreased" -0.4
				"projectile spread angle penalty" 6
				"blast radius increased" 0.35
            }
			AllowedWeapons
			{
				ItemName "The Cow Mangler 5000"
			}
			DisallowedUpgrade { upgrade rapid_soldier }
			DisallowedUpgrade { upgrade cow_burst_soldier }
		}
		beggars_burst_soldier // Beggars is getting some love too
		{
			Name "Burst fire module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 800
			//AllowPlayerClass Soldier
			SecondaryAttributes
            {
				"can overload" -1
				"auto fires full clip" 1
				"auto fires when full" 1
                "faster reload rate" -0.6
				"fire rate bonus" -0.7
				"clip size upgrade atomic" 6.0
				"Projectile speed decreased" -0.35
            }
			AllowedWeapons
			{
                ItemName "The Beggar's Bazooka"
			}
			DisallowedUpgrade { upgrade beggars_rocketrain_soldier }
		}
		beggars_rocketrain_soldier // Beggars is getting some love too
		{
			Name "Rocket rain module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 1100
			//AllowPlayerClass Soldier
			SecondaryAttributes
            {
				"can overload" -1
				"auto fires full clip" 1
				"auto fires when full" 1
				"reload time increased" 6
				"reload full clip at once" 1
				"fire rate bonus" -0.999
				"clip size upgrade atomic" 9
				"Projectile speed decreased" -0.4
				"projectile spread angle penalty" 3
				"blast radius increased" 0.35
				"reload time increased hidden" -0.2
            }
			AllowedWeapons
			{
                ItemName "The Beggar's Bazooka"
			}
			DisallowedUpgrade { upgrade beggars_burst_soldier }
		}
		blackbox_heal
		{
			Name "Healing missile module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 700
			AllowedWeapons
			{
				ItemName "The Black Box"
				ItemName "Festive Black Box"
			}
			SecondaryAttributes
			{
				"damage penalty" -0.35
				"mult dmg vs tanks" 0.75
				"fire rate bonus" -0.999
				"reload time increased" 0.6
				"blast radius increased" 0.25
				"projectile spread angle penalty" 4
				"health on radius damage" 480
			}
			DisallowedUpgrade { upgrade rapid_soldier }
			DisallowedUpgrade { upgrade charged_soldier }
			DisallowedUpgrade { upgrade burst_soldier }
			DisallowedUpgrade { upgrade rocketrain_soldier }
			DisallowedUpgrade { upgrade blackbox_atomic }
			DisallowedUpgrade { upgrade homingprojectile }
		}
		blackbox_atomic
		{
			Name "Atomic missile module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 1100
			AllowedWeapons
			{
				ItemName "The Black Box"
				ItemName "Festive Black Box"
			}
			SecondaryAttributes
			{
				//"always crit" 1
				"reload time increased" 1.8
				"fire rate penalty" 1
				"clip size penalty" -0.25
				"Projectile speed decreased" -0.5
				"CARD: damage bonus" 2
				"blast radius increased" 1
				"use large smoke explosion" 1
				"health on radius damage" -20
				"mult crit dmg" -0.25
				"custom impact sound" "ambient\explosions\explode_4.wav"
			}
			DisallowedUpgrade { upgrade rapid_soldier }
			DisallowedUpgrade { upgrade charged_soldier }
			DisallowedUpgrade { upgrade burst_soldier }
			DisallowedUpgrade { upgrade rocketrain_soldier }
			DisallowedUpgrade { upgrade blackbox_heal }
		}
		upgrade // Buff Duration
		{
			Name "+100% Buff duration"
			Attribute "increase buff duration"
			Cap 3
			Increment 1
			Cost 250
            AllowedWeapons
            {
                ItemName "The Buff Banner"
				ItemName "Festive Buff Banner"
				ItemName "The Battalion's Backup"
				ItemName "The Concheror"
            }
		}
		upgrade // Bison Damage upgrade
		{
			Name "+25% Damage bonus"
			Attribute "dmg penalty vs players"
            Cap 1.5
			Increment 0.25
			Cost 300
            AllowedWeapons
			{
				ItemName "The Righteous Bison"
			}
		}
		upgrade // Homing Bison
		{
			Name "Homing bison module"
			Attribute "Projectile speed decreased"
			Cap 0.65
			Increment -0.35
			Cost 450
			//AllowPlayerClass Soldier
			AllowedWeapons
			{
				ItemName "The Righteous Bison"
			}
			SecondaryAttributes
			{
				"mod projectile heat seek power" 60
				"mod projectile heat aim error" 45
				"mod projectile heat aim time" 10
				"particle color rgb" 16738740
				//"set item tint RGB" 16738740 // Doesn't replace the colour projectile :(
			}
		}
		upgrade // Clip size Bison
		{
			Name "+50% Clip size bonus"
			Attribute "clip size bonus upgrade"
			Cap 3
			Increment 0.5
			Cost 200
			//AllowPlayerClass Soldier 
			AllowedWeapons
			{
				ItemName "The Righteous Bison"
			}
		}
		upgrade // Reload speed Bison
		{
			Name "+20% Faster reload time"
			Attribute "faster reload rate"
			Cap 0.4
			Increment -0.2
			Cost 250
			//AllowPlayerClass Soldier 
			AllowedWeapons
			{
				ItemName "The Righteous Bison"
			}
		}
		upgrade // faster firing rate Bison
		{
			Name "+10% Faster firing speed"
			Attribute "fire rate bonus"
			Cap 0.6
			Increment -0.1
			Cost 100
			//AllowPlayerClass Soldier 
			AllowedWeapons
			{
				ItemName "The Righteous Bison"
			}
		}

		// Pyro
		upgrade // Construction Crusher
		{
			Name "Construction Crusher"
			Description "+50% damage bonus against buildings, +25% damage bonus against tanks"
			attribute "dmg bonus vs buildings"
			cap 2
			increment 0.5
			cost 200
			AllowPlayerClass Pyro
			SecondaryAttributes
			{
				"mult dmg vs tanks" 0.25
			}
			AllowedWeapons
			{
				Slot "Primary"
				Slot "Secondary"
			}
			DisallowedWeapons
			{
				ItemName "The Gas Passer"
				ItemName "The Thermal Thruster"
			}
		}
		upgrade // Damage Upgrade Pyro Primary
        {
            Name "+25% Damage bonus"
			Description "+25% Afterburn damage bonus."
            Attribute "damage bonus"
            Cap 2
			Increment 0.25
			Cost 400 
			AllowPlayerClass Pyro // Special treatment
            AllowedWeapons
			{
				Slot "Primary"
			}
			SecondaryAttributes
			{
				"weapon burn dmg increased" 0.25
			}
			DisallowedWeapons
			{
				ItemName "Rocket Jumper"
			}
        }
		//upgrade // Afterburn damage
		//{
		//	Name "+25% Afterburn Damage Bonus"
		//	Attribute "weapon burn dmg increased"
		//	cap 2
		//	Increment 0.25
		//	Cost 250
		//	AllowPlayerClass Pyro
		//	AllowedWeapons
		//	{
		//		slot "Primary"
		//		//slot "Secondary"
		//	}
		//}
		phlog_buff
		{
			Name "+25% Buff duration"
			Attribute "increase buff duration"
			Cap 2
			Increment 0.25
			Cost 300
			AllowedWeapons
			{
				ItemName "The Phlogistinator"
			}
		}
		upgrade // Afterburn damage Secondary Only
		{
			Name "+25% Damage bonus"
			Description "+25% Afterburn damage bonus."
			Attribute "damage bonus"
			cap 2
			Increment 0.25
			Cost 250
			AllowPlayerClass Pyro
			SecondaryAttributes
			{
				"weapon burn dmg increased" 0.25
			}
			AllowedWeapons
			{
				ItemName "The Flare Gun"
				ItemName "The Detonator"
				ItemName "The Scorch Shot"
				ItemName "The Manmelter"
				ItemName "Spitfire Flare Gun"
			}
		}
		multishot // Multi projectile shot // wack
		{
			Name "+2 Extra projcetile shot"
			//Description "Adds two extra Projectile on your Flare Gun."
			Attribute "mult projectile count"
			Cap 5
			Increment 2
			Cost 400
			SecondaryAttributes
			{
				"projectile spread angle penalty" 2
			}
			AllowedWeapons
			{
				ItemName "Spitfire Flare Gun"
				ItemName "The Manmelter"
			}
			DisallowedUpgrade { upgrade rainflare }
		}
		upgrade // Reload speed splitfire only
		{
			Name "+20% Faster reload time"
			Attribute "faster reload rate"
			Cap 0.6
			Increment -0.2
			Cost 250
			AllowedWeapons
			{
				ItemName "Spitfire Flare Gun"
			}
		}
		upgrade // faster firing rate splitfire only
		{
			Name "+10% Faster firing speed"
			Attribute "fire rate bonus"
			Cap 0.6
			Increment -0.1
			Cost 100
			AllowedWeapons
			{
				ItemName "Spitfire Flare Gun"
			}
		}
		airblast // Airblast Force
		{
			Name "+25% Airblast force"
			Attribute "airblast pushback scale"
			cap 2
			Increment 0.25
			Cost 250
			AllowPlayerClass Pyro
			AllowedWeapons
			{
				slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Phlogistinator" // Lmao can't airblast anyways
			}
			//DisallowedUpgrade
			//{
			//	upgrade deflect
			//	level 1
			//}
		}
		//deflect // Deflector Airblast
		//{
		//	Name "Deflector Airblast"
		//	Description "Airblast destroys Projectiles mid-flight"
		//	Attribute "damage penalty"
		//	Cap 0.6
		//	Increment -0.4
		//	Cost 450
		//	AllowPlayerClass Pyro
		//	AllowedWeapons
		//	{
		//		Slot "Primary"
		//	}
		//	SecondaryAttributes
		//	{
		//		//"damage penalty" -0.4
        //		"airblast_pushback_disabled" 1
        //		"mult airblast refire time" -0.5
		//		"airblast_destroy_projectile" 1
		//		"deflection size multiplier" 1.5
		//		//"lunchbox adds minicrits" 2
		//	}
		//	DisallowedWeapons
		//	{
		//		ItemName "The Phlogistinator" // Lmao can't airblast anyways
		//		ItemName "The Dragon's Fury"
		//	}
		//	DisallowedUpgrade
		//	{
		//		upgrade airblast
		//		level 1
		//	}
		//}
		homingflares
		{
			Name "Homing flare module"
			Attribute "mod projectile heat seek power"
			Cap 60
			Increment 60
			Cost 450
			SecondaryAttributes
			{
				//"mod projectile heat seek power" 60
				"mod projectile heat aim error" 45
				"mod projectile heat aim time" 6
			}
			AllowedWeapons
			{
				ItemName "The Flare Gun"
				ItemName "The Detonator"
				//ItemName "The Scorch Shot"
				ItemName "The Manmelter"
			}
		}
		rapidflare // Rapid Flare Module
		{
			Name "Rapid flare module"
			Attribute "fire rate bonus"
			Cap 0.3
			Increment -0.7
			Cost 400
			AllowedWeapons
			{
				ItemName "The Flare Gun"
				ItemName "The Detonator"
				ItemName "The Scorch Shot"
				ItemName "The Manmelter"
			}
			DisallowedUpgrade { upgrade rainflare }
		}
		rainflare // Flare Rain Module
		{
			Name "Flare rain module"
			Attribute "faster reload rate"
			Cap 0.8
			Increment -0.2
			Cost 600
			AllowedWeapons
			{
				ItemName "The Flare Gun"
				ItemName "The Detonator"
				ItemName "The Scorch Shot"
				//ItemName "The Manmelter"
			}
			SecondaryAttributes
			{
				"fire rate bonus HIDDEN" -0.7
				"projectile spread angle penalty" 5
				"projectile speed decreased" -0.6
			}
			DisallowedUpgrade { upgrade rapidflare }
			DisallowedUpgrade { upgrade multishot }
		}
		upgrade // Is Disabled anyways
		{
			Name "Explode on ignite" 
			//Description "Don't you dare!"
			Attribute "explode_on_ignite"
			Cap 1
			Increment 1
			Cost 400
			AllowedWeapons
			{
				ItemName "The Gas Passer"
			}
			SecondaryAttributes 
			{
				"item_meter_damage_for_full_charge" 2000
			}
			OnApply
			{
				Output "!activator,$displaytextchat,Oh No!,1"
			}
		}
		upgrade // Recharge rate Gas and thruster
		{
			Name "+15% Recharge rate"
			Attribute "mult_item_meter_charge_rate"
			cap 0.4
			Increment -0.15
			Cost 250
			AllowedWeapons
			{
				// Heavy
				ItemName "The Sandvich"
				ItemName "The Robo-Sandvich"
				ItemName "The Buffalo Steak Sandvich"
				ItemName "The Second Banana"
				ItemName "The Dalokohs Bar"
				ItemName "Fishcake"
				//Pyro
				ItemName "The Gas Passer"
				ItemName "The Thermal Thruster"
			}
		}
		upgrade // Afterburn damage gas
		{
			Name "+250% Afterburn damage bonus"
			Attribute "weapon burn dmg increased"
			cap 11
			Increment 2.5
			Cost 250
			AllowedWeapons
			{
				ItemName "The Gas Passer"
			}
		}
		upgrade // Re-launch in-flight
		{
			Name "Able to re-launch while already in-flight"
			Attribute "thermal_thruster_air_launch"
			Cap 1
			Increment 1
			Cost 400
			AllowedWeapons
			{
				ItemName "The Thermal Thruster"
			}
		}
		upgrade // Stun Thermal Thruster
		{
			Name "Stun enemies when you land"
			Attribute "falling_impact_radius_stun"
			Cap 1
			Increment 1
			Cost 300
			AllowedWeapons
			{
				ItemName "The Thermal Thruster"
			}
		}

		// Demoman
		upgrade // Mortar Grenade
		{
			Name "Mortar grenade module"
			Description "Grenade explodes when hitting a surface."
			Attribute "grenade explode on impact"
			Cap 1
			Increment 1
			Cost 350
            AllowPlayerClass Demoman
            AllowedWeapons
            {
                Slot "Primary"
            }
			DisallowedWeapons
			{
				ItemName "The Loch-n-Load"
				//ItemName "The Loose Cannon"
				ItemName "Ali Baba's Wee Booties"
				ItemName "The Bootlegger"
			}	
		}
		upgrade // Mortar Grenade Loch Only
		{
			Name "Mortar grenade module"
			Description "Grenade explodes when hitting a surface."
			Attribute "grenade explode on impact"
			Cap 1
			Increment 1
			Cost 350
            AllowedWeapons
            {
                ItemName "The Loch-n-Load"
            }
			SecondaryAttributes
			{
				"sticky air burst mode" -1
			}
		}
		rapid_demo // Rapid Fire Module
		{
			Name "Rapid fire module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 450
			AllowPlayerClass Demoman
            AllowedWeapons
            {
                Slot "Primary"
            }
			SecondaryAttributes
            {
				"faster reload rate" -1.6
				"fire rate bonus" -0.25
            }
			DisallowedWeapons
			{
				ItemName "The Loose Cannon"
				ItemName "Ali Baba's Wee Booties"
				ItemName "The Bootlegger"
			}
			DisallowedUpgrade { upgrade burst_demo }
			DisallowedUpgrade { upgrade cluster_demo }
		}
		burst_demo // Burst Fire Module
		{
			Name "Burst fire module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 700
			AllowPlayerClass Demoman
            AllowedWeapons
            {
                Slot "Primary"
            }
			SecondaryAttributes
            {
				"faster reload rate" -0.35
				"fire rate bonus" -0.9
				"clip size upgrade atomic" 7.0
				"projectile spread angle penalty" 5
				"Projectile speed increased"	0.1
            }
			DisallowedWeapons
			{
				//ItemName "The Loch-n-load"
				ItemName "The Loose Cannon"
				ItemName "Ali Baba's Wee Booties"
				ItemName "The Bootlegger"
			}
			DisallowedUpgrade { upgrade rapid_demo }
			DisallowedUpgrade { upgrade cluster_demo }
		}
		cluster_demo // Clusterbomb Module
		{
			Name "Clusterbomb module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 1100
			AllowPlayerClass Demoman
            AllowedWeapons
            {
                Slot "Primary"
            }
			SecondaryAttributes
            {
				"reload time increased" 6
				"reload full clip at once" 1
				"fire rate bonus" -0.999
                "clip size upgrade atomic" 8
				"projectile spread angle penalty" 7
				"Projectile speed increased" 0.2
                "Fuse bonus" 2
				"blast radius increased" 0.35
            }
			DisallowedWeapons
			{
				//ItemName "The Loch-n-load"
				ItemName "The Loose Cannon"
				ItemName "Ali Baba's Wee Booties"
				ItemName "The Bootlegger"
			}
			DisallowedUpgrade { upgrade rapid_demo }
			DisallowedUpgrade { upgrade burst_demo }
		}
		// Loose Cannon Only
		rapidcannon
		{
			Name "Rapid cannon module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 450
			//AllowPlayerClass Demoman
			AllowedWeapons
			{
				ItemName "The Loose Cannon"
			}
			SecondaryAttributes
			{
				"grenade launcher mortar mode" -1
				"faster reload rate" -1.6
				"fire rate bonus" -0.25
			}
			DisallowedUpgrade { upgrade burstcannon }
			DisallowedUpgrade { upgrade nukecannon }
		}
		burstcannon
		{
			Name "Burst cannon module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5
			Cost 700
            AllowedWeapons
            {
                ItemName "The Loose Cannon"
            }
			SecondaryAttributes
            {
				"grenade launcher mortar mode" -1
				"faster reload rate" -0.35
				"fire rate bonus" -0.9
				"clip size upgrade atomic" 7.0
				"projectile spread angle penalty" 5
				"Projectile speed increased"	0.1
            }
			DisallowedUpgrade { upgrade rapidcannon }
			DisallowedUpgrade { upgrade nukecannon }
		}
		nukecannon
		{
			Name "Nuke cannon module"
			Attribute "hidden primary max ammo bonus"
			Cap 1.5
			Increment 0.5 
			Cost 950
			AllowedWeapons
			{
				ItemName "The Loose Cannon"
			}
			SecondaryAttributes
			{
				//"always crit" 1
				//"grenade launcher mortar mode" -1
				"reload time increased" 1.8
				"fire rate penalty" 1
				"clip size penalty" -0.5
				//"Projectile speed decreased" -0.2 // Why
				//"projectile spread angle penalty" 3
				"CARD: damage bonus" 4
				"damage causes airblast" 1
				"blast radius increased" 1
				"use large smoke explosion" 1
				"grenade no bounce" 1
				"mult crit dmg" -0.25
				"custom impact sound" "ambient\explosions\explode_4.wav"
			}
			DisallowedUpgrade { upgrade rapidcannon }
			DisallowedUpgrade { upgrade burstcannon }
		}
		upgrade // +1s charge duration
		{
			Name "+1s Charge duration"
			Attribute "charge time increased"
			Cap 3
			Increment 1
			Cost 200
			AllowedWeapons
			{
				ItemName "The Chargin' Targe"
				ItemName "The Splendid Screen"
				ItemName "The Tide Turner"
			}
		}
		upgrade // charge rehcarge
		{
			Name "+100% Charge recharge rate"
			Attribute "charge recharge rate increased"
			Cap 5
			Increment 1
			Cost 150
			AllowedWeapons
			{
				ItemName "The Chargin' Targe"
				ItemName "The Splendid Screen"
				ItemName "The Tide Turner"
			}
		}
		upgrade // charge not cancel
		{
			Name "Boosted melee charge module"
			Description "Attack with your melee while charging does not cancel the charge."
			Attribute "Attack not cancel charge"
			Cap 1
			Increment 1
			Cost 200
			AllowedWeapons
			{
				ItemName "The Chargin' Targe"
				ItemName "The Splendid Screen"
				ItemName "The Tide Turner"
			}
		}
		// Heavy
		heavydmg_bonus // Damage bonus
		{
			Name "+25% Damage bonus"
			Attribute "damage bonus"
			Cap 1.5
			Increment 0.25
			Cost 600
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Brass Beast"
				ItemName "Tokamak"
			}
			//DisallowedUpgrade
			//{
			//	upgrade heavy_firerate
			//	level 1
			//}
		}
		heavybrass_dmg // Damage bonus Brass Only
		{
			Name "+25% Damage bonus"
			Attribute "damage bonus"
			Cap 1.7
			Increment 0.25
			Cost 600
			//AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				ItemName "The Brass Beast"
			}
			//DisallowedUpgrade
			//{
			//	upgrade heavybrass_firerate
			//	level 1
			//}
		}
		//heavy_firerate // Removed Because Fuck You
		//{
		//	Name "+10% Firing Speed"
		//	//Description "Disables +25% Damage bonus on your Primary!"
		//	Attribute "fire rate bonus"
		//	Cap 0.6
		//	Increment -0.10
		//	Cost 350
		//	AllowPlayerClass HeavyWeapons
		//	AllowedWeapons
		//	{
		//		Slot "Primary"
		//	}
		//	DisallowedWeapons
		//	{
		//		ItemName "The Brass Beast"
		//	}
		//	DisallowedUpgrade
		//	{
		//		upgrade heavydmg_bonus
		//		level 1
		//	}
		//}
		//heavybrass_firerate // Removed Because Fuck You
		//{
		//	Name "+10% Firing Speed"
		//	//Description "Disables +25% Damage bonus on your Primary!"
		//	Attribute "fire rate bonus"
		//	Cap 0.6
		//	Increment -0.10
		//	Cost 350
		//	AllowedWeapons
		//	{
		//		ItemName "The Brass Beast"
		//	}
		//	DisallowedUpgrade
		//	{
		//		upgrade heavybrass_dmg
		//		level 1
		//	}
		//}
		upgrade // Damage bonus Melee Only
		{
			Name "+25 Damage bonus"
			Attribute "damage bonus"
			Cap 2
			Increment 0.25
			Cost 300
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				slot "Melee"
			}
			DisallowedWeapons
			{
				ItemName "Fists of Steel"
				ItemName "Warrior's Spirit"
			}
		}
		upgrade // Damage bonus Melee Only
		{
			Name "+25 Damage bonus"
			Attribute "damage bonus"
			Cap 2.3
			Increment 0.25
			Cost 300
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				ItemName "Warrior's Spirit"
			}
		}
		upgrade // Destroy Projectiles
		{
			Name "Destroy projectiles"
			Attribute "attack projectiles"
			Cap 2
			Increment 1
			Cost 400
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "Bio Breaker"
				ItemName "Tokamak"
			}
		}
		upgrade // Projectile Penetration
		{
			Name "Projectile penetration"
			Attribute "projectile penetration heavy"
			Cap 3
			Increment 1
			Cost 400
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "Bio Breaker"
				ItemName "Tokamak"
			}
		}
		upgrade // Knockback Rage
		{
			Name "Knockback rage"
			Attribute "generate rage on damage"
			Cap 1
			Increment 1
			Cost 500
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "Bio Breaker"
				ItemName "Tokamak"
			}
		}
		tokamak_pierce
		{
			Name "Piecring laser module"
			Description "+50% damage bonus and pierces through resistances"
			Attribute "dmg penalty vs players"
			Cap 1.5
			Increment 0.5
			Cost 700
			SecondaryAttributes
			{
				"dmg pierces resists absorbs" 1
			}
			AllowedWeapons
			{
				ItemName "Tokamak"
			}
			DisallowedUpgrade { upgrade tokamak_vent }
			DisallowedUpgrade { upgrade tokamak_unstable }
		}
		tokamak_unstable
		{
			Name "Unstable overloaded module"
			Description "+50% faster firing speed, -50% damage penalty"
			Attribute "fire rate bonus"
			Cap 0.5
			Increment -0.5
			Cost 700
			SecondaryAttributes
			{
				"dmg penalty vs players" -0.5
			}
			AllowedWeapons
			{
				ItemName "Tokamak"
			}
			DisallowedUpgrade { upgrade tokamak_vent }
			DisallowedUpgrade { upgrade tokamak_pierce }
		}
		tokamak_vent
		{
			Name "Advanced exhaust module"
			Description "Creates a ring of fire while the weapon is deployed, +200% damage afterburn bonus"
			Attribute "weapon burn dmg increased"
			Cap 3
			Increment 2
			Cost 700
			SecondaryAttributes
			{
				"ring of fire while aiming" 25
			}
			AllowedWeapons
			{
				ItemName "Tokamak"
			}
			DisallowedUpgrade { upgrade tokamak_unstable }
			DisallowedUpgrade { upgrade tokamak_pierce }
		}
		heavyshotgun
		{
			Name "Heavy shotgun module"
			Attribute "fire rate penalty"
			Cap 2.5
			Increment 1.5
			Cost 400
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Heavyweapons
			AllowedWeapons
			{
				slot "Secondary"
			}
			SecondaryAttributes
			{
				//"fire rate penalty" 2.5
				"provide on active" 1
				"bullets per shot bonus" 9
				"damage penalty" -0.5
				"faster reload rate" -0.8
				"attack projectiles" 1
				"move speed bonus" 0.2
			}
			DisallowedWeapons
			{
				ItemName "Panic Attack Shotgun"
				ItemName "The Family Business"
				// Soldier
				ItemName "The Righteous Bison"
				ItemName "The Buff Banner"
				ItemName "Festive Buff Banner"
				ItemName "The Battalion's Backup"
				ItemName "The Concheror"
				ItemName "The B.A.S.E. Jumper"
				ItemName "The Mantreads"
				ItemName "The Gunboats"
				// Pyro
				ItemName "The Gas Passer"
				ItemName "The Thermal Thruster"
				ItemName "The Flare Gun"
				ItemName "The Detonator"
				ItemName "The Scorch Shot"
				ItemName "The Manmelter"
				ItemName "Spitfire Flare Gun"
				// Heavy
				ItemName "The Sandvich"
				ItemName "Festive Sandvich"
				ItemName "The Buffalo Steak Sandvich"
				ItemName "The Dalokohs Bar"
				ItemName "Sandvich Promo Package"
				ItemName "The Second Banana"
			}
			DisallowedUpgrade
			{
				upgrade burstshotgun
				level 1
			}
		}
		burstshotgun
		{
			Name "Burst shotgun module"
			Attribute "fire rate bonus"
			Cap 0.2
			Increment -0.8
			Cost 600
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Heavyweapons
			AllowedWeapons
			{
				slot "Secondary"
			}
			SecondaryAttributes
			{
				//"fire rate bonus" -0.75
				"bullets per shot bonus" 1
				"damage penalty" -0.20
				"faster reload rate" -0.40
                "clip size bonus upgrade" 1
                "auto fires full clip" 1
                "auto fires when full" 1
				"spread penalty" 0.2
			}
			DisallowedWeapons
			{
				ItemName "Panic Attack Shotgun"
				ItemName "The Family Business"
				// Soldier
				ItemName "Panic Attack Shotgun"
				ItemName "The Righteous Bison"
				ItemName "The Buff Banner"
				ItemName "Festive Buff Banner"
				ItemName "The Battalion's Backup"
				ItemName "The Concheror"
				ItemName "The B.A.S.E. Jumper"
				ItemName "The Mantreads" 
				ItemName "The Gunboats"
				// Pyro
				ItemName "The Gas Passer"
				ItemName "The Thermal Thruster"
				ItemName "The Flare Gun"
				ItemName "The Detonator"
				ItemName "The Scorch Shot"
				ItemName "The Manmelter"
				ItemName "Spitfire Flare Gun"
				// Heavy
				ItemName "The Sandvich"
				ItemName "Festive Sandvich"
				ItemName "The Buffalo Steak Sandvich"
				ItemName "The Dalokohs Bar"
				ItemName "Sandvich Promo Package"
				ItemName "The Second Banana"
			}
			DisallowedUpgrade
			{
				upgrade heavyshotgun
				level 1
			}
		}
		familyheavyshotgun
		{
			Name "Heavy shotgun module"
			Attribute "fire rate penalty"
			Cap 2.5
			Increment 1.5
			Cost 400
			AllowedWeapons
			{
				ItemName "The Family Business"
			}
			SecondaryAttributes
			{
				//"fire rate penalty" 2.5
				"provide on active" 1
				"bullets per shot bonus" 9
				"damage penalty" -0.35
				"faster reload rate" -0.8
				"attack projectiles" 1
				"move speed bonus" 0.2
			}	
			DisallowedUpgrade
			{
				upgrade familyburstshotgun
				level 1
			}
		}
		familyburstshotgun
		{
			Name "Burst shotgun module"
			Attribute "fire rate bonus"
			Cap 0.2
			Increment -0.65
			Cost 600
			AllowedWeapons
			{
				ItemName "The Family Business"
			}
			SecondaryAttributes
			{
				//"fire rate bonus" -0.75
				"bullets per shot bonus" 1
				"damage penalty" -0.05
				"faster reload rate" -0.4
                "clip size bonus upgrade" 1
                "auto fires full clip" 1
                "auto fires when full" 1
				"spread penalty" 0.2
			}
			DisallowedUpgrade
			{
				upgrade familyheavyshotgun
				level 1
			}
		}
		panicheavyshotgun
		{
			Name "Heavy shotgun module"
			Attribute "fire rate penalty"
			Cap 2.5
			Increment 1.5
			Cost 400
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Heavyweapons
			AllowedWeapons
			{
				ItemName "Panic Attack Shotgun"
			}
			SecondaryAttributes
			{
				//"fire rate penalty" 2.5
				"provide on active" 1
				"bullets per shot bonus" 8.5
				"damage penalty" -0.3
				"faster reload rate" -0.8
				"attack projectiles" 1
				"move speed bonus" 0.2
			}
			DisallowedUpgrade
			{
				upgrade panicburstshotgun
				level 1
			}
		}
		panicburstshotgun
		{
			Name "Burst shotgun module"
			Attribute "fire rate bonus"
			Cap 0.2
			Increment -0.8
			Cost 600
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Heavyweapons
			AllowedWeapons
			{
				ItemName "Panic Attack Shotgun"
			}
			SecondaryAttributes
			{
				//"fire rate bonus" -0.75
				"bullets per shot bonus" 0.5
				//"damage penalty" -0.20
				"faster reload rate" -0.4
                "clip size bonus upgrade" 1
                "auto fires full clip" 1
                "auto fires when full" 1
				"spread penalty" 0.2
			}
			DisallowedUpgrade
			{
				upgrade panicheavyshotgun
				level 1
			}
		}
		sandwich_heal
		{
			Name "Regenerative Consumable"
			Description "+300% healing effect of your consumable lunchbox"
			Attribute "lunchbox healing decreased"
			Cap 10
			Increment 3
			Cost 150
			AllowedWeapons
			{
				ItemName "The Sandvich"
				ItemName "Festive Sandvich"
				ItemName "The Robo-Sandvich"
				ItemName "The Second Banana"
			}
		}
		upgrade // Steel Gauntlet Module
		{
			Name "Steel gauntlet module"
			Description "+1000 Max health bonus, +400% damage bonus"
			Attribute "max health additive bonus"
			Cap 1000
			Increment 1000
			Cost 750
			AllowedWeapons
			{
				ItemName "Fists of Steel"
			}
			SecondaryAttributes
			{
				//"cannot upgrade" 1
				"provide on active" 1
				//"disable weapon switch" 1
				//"max health additive bonus" 3000
				"damage bonus" 4
				//"melee attack rate bonus" 0.6
				//"Health Regen" 40
				//"maxammo primary reduced" -1
				//"maxammo secondary reduced" -1
				//"health from packs decreased" -0.25
			}
			OnUpgrade
			{
				Output "!activator,$ForceRespawn,,1"
			}
		}

		// Engineer
		upgrade // Damage Upgrade Engineer Only
        {
            Name "+25% Damage bonus"
            Attribute "damage bonus"
            Cap 2
			Increment 0.25
			Cost 300 
			AllowPlayerClass Engineer
            AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Pomson 6000"
			}
        }
		upgrade // Damage Upgrade pomson
        {
            Name "+25% Damage bonus"
            Attribute "dmg penalty vs players"
            Cap 2
			Increment 0.25
			Cost 400 
			AllowPlayerClass Engineer
            AllowedWeapons
			{
				ItemName "The Pomson 6000" // Energy weapons are wack
			}
        }
		upgrade // Projectile Penetration
		{
			Name "Projectile penetration"
			Attribute "Projectile Penetration"
			Cap 1
			Increment 1
			Cost 200
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Pomson 6000"
			}
		}
		upgrade // Clip size bonus Primary
		{
			Name "+50 Clip size bonus"
			Attribute "clip size bonus upgrade"
			Cap 3
			Increment 0.5
			Cost 200
			AllowPlayerClass Engineer
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Crusader's Crossbow"
				ItemName "The Widowmaker"
			}
		}
		heavy_engineershotgun
		{
			Name "Heavy shotgun module"
			Attribute "fire rate penalty"
			Cap 2.5
			Increment 1.5
			Cost 400
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				ClassName "TF_WEAPON_SHOTGUN_PRIMARY"
			}
			DisallowedWeapons
			{
				ItemName "The Widowmaker"
				ItemName "Panic Attack Shotgun"
				ItemName "The Pomson 6000" // Cannot believe i forgor this
			}
			SecondaryAttributes
			{
				"bullets per shot bonus" 9
				"damage penalty" -0.5
				"attack projectiles" 1
				"mult crit dmg" -0.25
			}
			DisallowedUpgrade
			{
				upgrade burst_engineershotgun
				level 1
			}
		}
		burst_engineershotgun
		{
			Name "Burst shotgun module"
			Attribute "fire rate bonus HIDDEN"
			Cap 0.4
			Increment -0.6
			Cost 500
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				ClassName "TF_WEAPON_SHOTGUN_PRIMARY"
			}
			DisallowedWeapons
			{
				ItemName "The Widowmaker"
				ItemName "Panic Attack Shotgun"
				ItemName "The Pomson 6000" // Cannot believe i forgor this
			}
			SecondaryAttributes
			{
				//"fire rate bonus" -0.75
				"bullets per shot bonus" 1
				"damage penalty" -0.20
				//"faster reload rate" -0.40
                //"clip size bonus upgrade" 1
                "auto fires full clip" 1
                "auto fires when full" 1
				"spread penalty" 0.2
			}
			DisallowedUpgrade
			{
				upgrade heavy_engineershotgun
				level 1
			}
		}
		panic_engineershotgun
		{
			Name "Heavy shotgun module"
			Attribute "fire rate penalty"
			Cap 2.5
			Increment 1.5
			Cost 400
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				ItemName "Panic Attack Shotgun"
			}
			SecondaryAttributes
			{
				"bullets per shot bonus" 8.5
				"damage penalty" -0.3
				"attack projectiles" 1
				"mult crit dmg" -0.25
			}
			DisallowedUpgrade
			{
				upgrade burstpanic_engineershotgun
				level 1
			}
		}
		burstpanic_engineershotgun
		{
			Name "Burst shotgun module"
			Attribute "fire rate bonus HIDDEN"
			Cap 0.4
			Increment -0.6
			Cost 500
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				ItemName "Panic Attack Shotgun"
			}
			SecondaryAttributes
			{
				//"fire rate bonus" -0.75
				"bullets per shot bonus" 1
				//"damage penalty" -0.20
				//"faster reload rate" -0.40
                //"clip size bonus upgrade" 1
                "auto fires full clip" 1
                "auto fires when full" 1
				"spread penalty" 0.2
			}
			DisallowedUpgrade
			{
				upgrade panic_engineershotgun
				level 1
			}
		}
		justified
		{
			Name "Justified module"
			Description "+250% Crit damage, +100% damage bonus against buildings"
			Attribute "mult crit dmg"
			Cap 3.5
			Increment 2.5
 			Cost 400
			AllowedWeapons 
			{
				ItemName "The Frontier Justice"
				ItemName "Festive Frontier Justice"
			}
			SecondaryAttributes
			{
				"damage penalty" -0.5
				"dmg bonus vs buildings" 2
				"fire rate penalty" 0.5
				"reload time increased" 0.2
			}
			DisallowUpgrade
			{
				Upgrade unjustified
				level 1
			}
		}
		unjustified
		{
			Name "Hustle module"
			Description "+50% Crit damage bonus, +25% bullets per shot, removes clip size penalty"
			Attribute "mult crit dmg"
			Cap 1.5
			Increment 0.5
			Cost 450
			AllowedWeapons 
			{
				ItemName "The Frontier Justice"
				ItemName "Festive Frontier Justice"
			}
			SecondaryAttributes
			{
				"spread penalty" 0.5
				"bullets per shot bonus" 0.25
				"fire rate bonus hidden" -0.7
				"reload time increased" 0.25
				"clip size penalty" 0.5
			}
			DisallowUpgrade
			{
				Upgrade justified
				level 1
			}
		}
		lasertag
		{
			Name "Laser tag pomson"
			Description "Fires laser bullets, Marks enemies for death."
			Attribute "sniper fires tracer HIDDEN"
			Cap 1
			Increment 1
 			Cost 450
			SecondaryAttributes
			{
				"provide on active" 1
				"override projectile type" 1
				//"sniper fires tracer HIDDEN" 1
				"mark for death" 1
				"minicrits become crits" 1
				//"always crit" 1
				"dmg bonus vs buildings" 10
				"damage applies to sappers" 1
				"subtract victim cloak on hit" -18
				"subtract victim medigun charge on hit" -9
				"ragdolls become ash" 1
			}
			AllowedWeapons 
			{
				ItemName "The Pomson 6000"
			}
			DisallowedUpgrade
			{
				upgrade disruptor
				level 1
			}
		}
		disruptor
		{
			Name "The Disruptor Pomson"
			Description "Fires laser bullets, On Hit: 100% chance to stun non-giant or mini-giants."
			Attribute "spread penalty"
			Cap 1.25
			Increment 0.25
			Cost 400
			SecondaryAttributes
			{
				"provide on active" 1
				"override projectile type" 1
				"sniper fires tracer HIDDEN" 1
				"ragdolls become ash" 1
				"fire rate penalty" 1
				"stun on damage" 60
				//"damage penalty" -0.5
				"damage all connected" 1
				"add cond on hit" 50
				"add cond on hit duration" 3
				"damage all connected" 1
			}
			AllowedWeapons 
			{
				ItemName "The Pomson 6000"
			}
			DisallowedUpgrade
			{
				upgrade lasertag
				level 1
			}
		}
		rescue_multishot
		{
			Name "+1 Extra projcetile shot"
			//Description "Adds an additional projectile on your Rescue Ranger."
			Attribute "mult projectile count"
			Cap 3
			Increment 1
			Cost 300
			SecondaryAttributes
			{
				"projectile spread angle penalty" 1
			}
			AllowedWeapons
			{
				ItemName "The Rescue Ranger"
			}
			DisallowedUpgrade
			{
				upgrade rescue_beggars
				level 1
			}
		}
		rescue_beggars
		{
			Name "Unloaded bolt module"
			Attribute "fire rate bonus HIDDEN"
			Description "Hold fire to load up your bolts and on full clip unleashes the barrage"
			Cap 0.3
			Increment -0.7
			Cost 400
			SecondaryAttributes
			{
				"projectile spread angle penalty" 3
				"reload time increased" 0.2
				"auto fires full clip" 1
				"auto fires when full" 1
			}
			AllowedWeapons
			{
				ItemName "The Rescue Ranger"
			}
			DisallowedUpgrade
			{
				upgrade rescue_multishot
				level 1
			}
		}
		wrangleroffense
		{
			Name "Offensive Manual Control"
			Description "Increase your sentry damage, but remove the sentry's shield while active"
			Attribute "disable wrangler shield"
			Cap 1
			Increment 1
			Cost 400
			SecondaryAttributes
			{
				//"provide on active" 1 // Doesn't work?
				//"engy sentry fire rate increased" -0.2
				"engy sentry damage bonus" 0.5
				"max health additive penalty" -50
				"penetrate teammates" 1
				//"engy building health bonus" -0.5
			}
			AllowedWeapons
			{
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
			}
			DisallowedUpgrade
			{
				upgrade wranglerdefensive
				level 1
			}
		}
		wranglerdefensive
		{
			Name "Defensive Manual Control"
			Description "Increase switch-to speed and gain a Battalion's Backup effect while active."
			Attribute "switch from wep deploy time decreased"
			Cap 0.5
			Increment -0.5
			Cost 400
			SecondaryAttributes
			{
				//"provide on active" 1
				"add cond when active" 26
				"healing received bonus" 0.25
			}
			AllowedWeapons
			{
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
			}
			DisallowedUpgrade
			{
				upgrade wrangleroffense
				level 1
			}
		}
		//upgrade // Construction rate increased
		//{
		//	Name "+30 Construction rate increased"
		//	Attribute "Construction rate increased"
		//	//Description "Decreases your Repair Rate and Damage per level."
		//	Cap 2.2
		//	Increment 0.3
		//	Cost 150
		//	AllowPlayerClass Engineer
		//	//SecondaryAttributes
		//	//{
		//	//	"Repair rate decreased" -0.10
		//	//	"damage penalty" -0.09
		//	//}
		//	AllowedWeapons
		//	{
		//		Slot "Melee"
		//	}
		//}
		upgrade // Upgrade rate increase
		{
			Name "+100% Faster upgrade rate"
			Attribute "upgrade rate decrease"
			Cap 2
			Increment 1
			Cost 400
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				Slot "Melee"
			}
		}
		defensivebuilding
		{
			Name "Defensive Construction Unit"
			Description "+100% building health, +150 dispenser range."
			Attribute "engy building health bonus"
			Cap 5
			Increment 1
			Cost 200
			AllowPlayerClass Engineer
			SecondaryAttributes
			{
				"engy dispenser radius increased" 1.5
				//"repair rate increased" 0.125
				//"Construction rate increased" 0.3
				//"mult dispenser rate" 0.5
				//"mult teleporter recharge rate" -0.05
			}
			AllowedWeapons
			{
				Slot "PDA"
			}
		}
		supportbuilding
		{
			Name "Specialized Supportive Unit"
			Description "Your dispenser gets +50% supply power, and your teleporter charges 5% faster and +30% construction rate"
			Attribute "Construction rate increased"
			Cap 2.2
			Increment 0.3
			Cost 150
			AllowPlayerClass Engineer
			SecondaryAttributes
			{
				//"engy dispenser radius increased" 1.5
				"mult dispenser rate" 0.5
				"mult teleporter recharge rate" -0.05
			}
			AllowedWeapons
			{
				Slot "melee"
			}
		}
		autoturret
		{
			Name "Advanced Automated Turret"
			Description "Your sentry gets +12% damage, +10% range, and +5% faster fire rate."
			Attribute "engy sentry damage bonus"
			Cap 1.5
			Increment 0.125
			Cost 250
			AllowPlayerClass Engineer
			SecondaryAttributes
			{
				"engy sentry fire rate increased" -0.05
				"engy sentry radius increased" 0.1
			}
			DisallowedUpgrade
			{
				upgrade "rocketturret"
				level 1
			}
			AllowedWeapons
			{
				Slot "PDA"
			}
		}
		rocketturret
		{
			Name "Heavy Artillery Turret"
			Description "Your sentry gets +25% damage, +10% range and +15% rocket fire rate."
			Attribute "engy sentry fire rate increased"
			Cap 3
			Increment 0.5
			Cost 300
			AllowPlayerClass Engineer
			SecondaryAttributes
			{
				"engy sentry damage bonus" 0.25
				"engy sentry radius increased" 0.1
				"mult firerocket rate" -0.15
				"rocket specialist" 1
				//"engy sentry fire rate increased" 0.5
			}
			DisallowedUpgrade
			{
				upgrade "autoturret"
				level 1
			}
			AllowedWeapons
			{
				Slot "PDA"
			}
		}
		//upgrade // Building Health
		//{
		//	Name "+100% Building Health"
		//	Attribute "engy building health bonus"
		//	Cap 4
		//	Increment 1
		//	Cost 400
		//	AllowPlayerClass Engineer
		//	AllowedWeapons
		//	{
		//		Slot "PDA"
		//	}
		//}
		upgrade // Disposable Sentry Gun
		{
			Name "+1 Disposable sentry gun"
			Attribute "engy disposable sentries"
			Cap 1
			Increment 1
			Cost 150
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				Slot "PDA"
			}
		}
		//upgrade // Sentry Firing Speed
		//{
		//	Name "+10% Sentry Firing Speed"
		//	Attribute "engy sentry fire rate increased"
		//	Cap 0.8
		//	Increment -0.1
		//	Cost 350
		//	AllowPlayerClass Engineer
		//	AllowedWeapons
		//	{
		//		Slot "PDA"
		//	}
		//}
		//upgrade // Dispenser Range
		//{
		//	Name "+100% Dispenser Range"
		//	Attribute "engy dispenser radius increased"
		//	Cap 4
		//	Increment 1
		//	Cost 100
		//	AllowPlayerClass Engineer
		//	AllowedWeapons
		//	{
		//		Slot "PDA"
		//	}
		//}
		upgrade // 2-way teleporters
		{
			Name "2-Way teleporters"
			Attribute "bidirectional teleport"
			Cap 1
			Increment 1
			Cost 50
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				Slot "PDA"
			}
		}

		// Medic
		howtfquickfixbreakthis // Armor Plating
		{
			Name "Heavy armor plating"
			Description "+300 Max health, -40% resistance against ranged damage."
			Attribute "max health additive bonus"
			Cap 300
			Increment 300
			Cost 500
			AllowPlayerClass Medic
			PlayerUpgrade 1
			SecondaryAttributes
			{
				"move speed penalty" -0.15
				"model scale" 0.4 
				"voice pitch scale" -0.1
				"health from packs decreased" -0.33
				"dmg from ranged reduced" -0.4
			}
			OnUpgrade
			{
				Output "!activator,$ForceRespawn,,1"
			}
			DisallowedUpgrade
			{
				upgrade lightarmorupgrade
				level 1
			}
		}
		lightarmorupgrade
		{
			Name "Light armor plating"
			Description "+25 Max health and +5% resistance against ranged damage."
			Attribute "max health additive bonus"
			Cap 75
			Increment 25
			Cost 100
			AllowPlayerClass Medic
			AllowPlayerClass Spy
			PlayerUpgrade 1
			SecondaryAttributes
			{
				"dmg from ranged reduced" -0.05
			}
			DisallowedUpgrade
			{
				upgrade howtfquickfixbreakthis
				level 1
			}
		}
		upgrade // Milk Bolts
		{
			Name "Mad Milk crossbow"
			Description "Use Alt-fire to fire Mad Milk Bolt. Regenerates every 4 seconds"
			Attribute "fires milk bolt"
			Cap 4
			Increment 4
			Cost 800
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow" 
			}
		}
		upgrade // Atomic clip size Crossbow Only
		{
			Name "+2 clip size bonus"
			Attribute "clip size upgrade atomic"
			Cap 8
			Increment 2
			Cost 400
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow" 
			}
		}
		upgrade // Reload speed Crossbow Only
		{
			Name "+20% faster reload time"
			Attribute "faster reload rate"
			Cap 0.4
			Increment -0.2
			Cost 250
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow" 
			}
		}
		upgrade // Faster firing speed Medic
		{
			Name "+10% Faster firing speed"
			Attribute "Fire Rate Bonus"
			Cap 0.6
			Increment -0.1
			Cost 100
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Primary" 
			}
		}
		upgrade // mad milk syringes
		{
			Name "Mad Milk syringes"
			Attribute "mad milk syringes"
			Cap 1
			Increment 1
			Cost 800 // Because Fuck you
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Primary" 
			}
			DisallowedWeapons
			{
				ItemName "The Crusader's Crossbow" 
			}
		}
		upgrade // Projectile Penetration
		{
			Name "Projectile penetration"
			Attribute "Projectile Penetration"
			Cap 1
			Increment 1
			Cost 400
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow" 
			}
		}
		upgrade // Healing Mastery
		{
			Name "Healing mastery"
			Attribute "healing mastery"
			Cap 4
			Increment 1
			Cost 250
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary"
			}
		}
		upgrade // Just shield
		{
			Name "Projectile shield"
			Attribute "generate rage on heal"
			Cap 2
			Increment 1
			Cost 500
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary"
			}
		}
		quickuber // Stock
		{
			Name "Quick Uber Module"
			Attribute "ubercharge rate bonus"
			Cap 3
			Increment 2
			Cost 450
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary"
			}
			//SecondaryAttributes // Cannot believe that Castle Crush got away with it
			//{
				//"uber duration bonus" -3
				//"healing mastery" 4
			//}
			DisallowedUpgrade
			{
				upgrade longeruber
				level 1
			}
			DisallowedWeapons
			{
				ItemName "The Kritzkrieg"
				ItemName "The Quick-Fix"
				ItemName "The Vaccinator"
			}
		}
		longeruber // Stock
		{
			Name "Extended Uber Module"
			Description "Uber duration is extended up to 14 seconds"
			Attribute "uber duration bonus"
			Cap 4
			Increment 4
			Cost 600
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary"
			}
			SecondaryAttributes
			{
				"ubercharge rate penalty" -0.5
				"heal rate bonus" 1
				//"healing mastery" 4
			}
			DisallowedUpgrade
			{
				upgrade quickuber
				level 1
			}
			DisallowedWeapons
			{
				ItemName "The Kritzkrieg"
				ItemName "The Quick-Fix"
				ItemName "The Vaccinator"
			}
		}
		quickkritz // Kritzkrieg
		{
			Name "Quick Kritz Module"
			Attribute "ubercharge rate bonus"
			Cap 3
			Increment 1.75
			Cost 450
			AllowedWeapons
			{
				ItemName "The Kritzkrieg"
			}
			SecondaryAttributes
			{
				//"ubercharge rate bonus" 3.75
				"heal rate bonus" 1
				//"healing mastery" 4
			}
			DisallowedUpgrade
			{
				upgrade kritzbattallion
				level 1
			}
		}
		kritzbattallion // kritzkrieg
		{
			Name "Defensive Kritz Module"
			Description "Ubering your patient also grants them a Battalion's Backup effect."
			Attribute "ubercharge rate bonus"
			Cap 2
			Increment 0.75
			Cost 600
			AllowedWeapons
			{
				ItemName "The Kritzkrieg"
			}
			SecondaryAttributes
			{
				//"ubercharge rate bonus" 0.75
				"increase buff duration" 1
				"effect cond override" 6667 
				//"heal rate bonus" 2
				//"healing mastery" 4
			}
			DisallowedUpgrade
			{
				upgrade quickkritz
				level 1
			}
		}
		bigheal // Quickfix
		{
			Name "Bigheal Module"
			Attribute "heal rate bonus"
			Cap 5
			Increment 3.6
			Cost 450
			AllowedWeapons
			{
				ItemName "The Quick-Fix"
			}
			SecondaryAttributes
			{
				"ubercharge rate bonus" -0.1
				"ubercharge rate penalty" -1
				"uber duration bonus" -8
				"overheal penalty" -0.5
			}
			DisallowedUpgrade
			{
				upgrade boosterfix
				level 1
			}
		}
		boosterfix // Quickfix
		{
			Name "Boosted Adrenaline Module"
			Description "Ubering your patient also grants them higher movement speed, fire rate and reload rate."
			Attribute "ubercharge rate bonus"
			Cap 2
			Increment 0.9
			Cost 600
			AllowedWeapons
			{
				ItemName "The Quick-Fix"
			}
			SecondaryAttributes
			{
				"effect cond override" 1319025
			}
			DisallowedUpgrade
			{
				upgrade bigheal
				level 1
			}
		}
		vacresists // Vaccinator
		{
			Name "Resist Immunity Module"
			description "Uber duration is extended up to 8 seconds"
			Attribute "ubercharge rate bonus"
			Cap 3
			Increment 1.33
			Cost 600
			AllowedWeapons
			{
				ItemName "The Vaccinator"
			}
			SecondaryAttributes
			{
				"uber duration bonus" 6 // The most op thing ever made
				"medigun bullet resist deployed" 0.25
				"medigun blast resist deployed" 0.25
				"medigun fire resist deployed" 0.25
			}
			DisallowedUpgrade
			{
				upgrade genericvac
				level 1
			}
		}
		genericvac // Vaccinator
		{
			Name "Bigheal Vaccinator"
			Attribute "heal rate Bonus"
			Cap 5
			Increment 4
			Cost 450
			AllowedWeapons
			{
				ItemName "The Vaccinator"
			}
			SecondaryAttributes
			{
				"ubercharge rate bonus" 0.33
				//"healing mastery" 4
			}
			DisallowedUpgrade
			{
				upgrade vacresists
				level 1
			}
		}
		upgrade // Machinery Beam
		{
			Name "+25% Healing Machinery Beam"
			Description "Allows you to heal friendly Engineer buildings"
			Attribute "medic machinery beam"
			Cap 5
			Increment 2.5
			Cost 200
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary"
			}
		}
		upgrade // Canteen Specialist
		{
			Name "Canteen specialist"
			Attribute "Canteen specialist"
			Cap 1
			Increment 1
			Cost 500
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary"
			}
		}
		
		// Sniper
		lightarmorupgrade_v2
		{
			Name "Light armor plating"
			Description "+5% resistance against ranged damage."
			Attribute "dmg from ranged reduced"
			Cap 0.85
			Increment -0.05
			Cost 150
			AllowPlayerClass Engineer
			AllowPlayerClass Sniper
			PlayerUpgrade 1
		}
		upgrade // Damage Upgrade Sniper Only
        {
            Name "+25% Damage bonus"
            Attribute "damage bonus"
            Cap 2
			Increment 0.25
			Cost 400 
			//AllowPlayerClass Engineer
			AllowPlayerClass Sniper
            AllowedWeapons
			{
				Slot "Primary"
			}
        }
		explosiveheadshot // Explosive Headshot
		{
			Name "Explosive headshot"
			Attribute "explosive sniper shot"
			Cap 3
			Increment 1
			Cost 350
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
				ItemName "Festive Huntsman"
			}
			DisallowedUpgrade
			{
				upgrade headshotdamage
				level 1
			}
		}
		headshotdamage // Headshot damage
		{
			Name "+25% Headshot damage bonus"
			Attribute "headshot damage increase"
			Cap 1.5
			Increment 0.25
			Cost 400
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedUpgrade
			{
				upgrade explosiveheadshot
				level 1
			}
			DisallowedWeapons // Doesn't work with the bow
			{
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
				ItemName "Festive Huntsman"
			}
		}
		upgrade // Faster Charge
		{
			Name "+25% Faster charge rate"
			Attribute "SRifle Charge rate increased"
			Cap 2
			Increment 0.25
			Cost 100
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons
			{
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
				ItemName "Festive Huntsman"
			}
		}
		upgrade // 5s Bleed on target 
		{
			Name "+5s Bleed on target"
			Attribute "bleeding duration"
			Cap 15
			Increment 5
			Cost 200
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
				ItemName "Festive Huntsman"
			}
		}
		penetratearrow // Projectile Penetration
		{
			Name "Projectile penetration"
			Attribute "Projectile Penetration"
			Cap 1
			Increment 1
			Cost 400
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedUpgrade
			{
				upgrade arrowmaster
				level 1
			}
		}
		arrowmaster // Arrow Bowman Module
		{
			Name "Arrow mastery module"
			Description "+2 extra arrows per shot, +1075 Max health. Turns you into a mini-giant."
			attribute "Arrow mastery"
			Cap 1
			Increment 1
			cost 600
			SecondaryAttributes
			{
				//"damage penalty" -0.33
				//"fire rate bonus" -0.4
				"head scale" -0.3
				"move speed penalty" -0.15
				"model scale" 0.4
				"max health additive bonus" 1075
				"mult_patient_overheal_penalty_active" 0
				"voice pitch scale" -0.1
				"health from packs decreased" -0.33
				"patient overheal penalty" -1
			}
			AllowedWeapons
			{
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
				ItemName "Festive Huntsman"
			}
			DisallowedUpgrade
			{
				upgrade penetratearrow
				level 1
			}
			OnUpgrade
			{
				Output "!activator,$ForceRespawn,,1"
			}
		}
		// Spy // Just kidding Bitch! I hate spies!
		//upgrade // Afterburn Immunity // Doesn't work
		//{
		//	Name "Afterburn Immunity"
		//	Attribute "Afterburn Immunity"
		//	Cap 1
		//	Increment 1
		//	Cost 300
		//	PlayerUpgrade 1
		//	AllowPlayerClass Spy
		//}
		//upgrade // Dmg bonus against Giants // Not necessary
		//{
		//	Name "+25% Damage Bonus Against Giants"
		//	Attribute "mult dmg vs giants"
		//	cap 2
		//	Increment 0.25
		//	Cost 300
		//	AllowPlayerClass Spy
		//	AllowedWeapons
		//	{
		//		Slot "Secondary"
		//	}
		//}
		upgrade // Robo-sapper
		{
			Name "Robo-Sapper"
			Attribute "robo sapper"
			Cap 3
			Increment 1
			Cost 350
			AllowPlayerClass Spy
			AllowedWeapons
			{
				ClassName "TF_WEAPON_BUILDER_SPY"
				ItemName "The Red-Tape Recorder"
				ItemName "The Ap-Sap"
				ItemName "The Snack Attack"
				ItemName "Festive Sapper"
			}
		}
		upgrade // Sapper damage bonus?
		{
			Name "50% Sapper damage bonus"
			//Description "Increases Damage dealt to Buildings only!"
			Attribute "sapper damage bonus"
			Cap 2.5
			Increment 0.5
			Cost 200
			AllowPlayerClass Spy
			AllowedWeapons
			{
				ClassName "TF_WEAPON_BUILDER_SPY"
				ItemName "The Red-Tape Recorder"
				ItemName "The Ap-Sap"
				ItemName "The Snack Attack"
				ItemName "Festive Sapper"
			}
		}
		upgrade // Armor Penetration
		{
			Name "+25% Armor penetration"
			Attribute "armor piercing"
			Cap 100
			Increment 25
			Cost 300
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Melee"
			}
		}
		//canteens
		crit_can
		{
			Name "Crit canteen"
			Attribute "critboost"
			Cap 3
			Increment 1
			Cost 100
			UIGroup 2
			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade building_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {upgrade speed_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}
		}
		uber_can
		{
			Name "Uber canteen"
			Attribute "ubercharge"
			Cap 3
			Increment 1
			Cost 75
			UIGroup 2
			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade building_can}
			DisallowedUpgrade {Upgrade crit_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {upgrade speed_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}
		}
		recall_can
		{
			Name "Recall canteen"
			Attribute "recall"
			Cap 3
			Increment 1
			Cost 10
			UIGroup 2
			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade building_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade crit_can}
			DisallowedUpgrade {upgrade speed_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}
		}
		building_can
		{
			Name "Instant building canteen"
			Attribute "building instant upgrade"
			Cap 3
			Increment 1
			Cost 50
			AllowPlayerClass Engineer
			UIGroup 2
			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {upgrade speed_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}
		}
		speed_can
		{
			Name "Speed boost canteen" 
			//random attribute, preferably one that doesn't do anything nor show up on the player, basically just meant to index
			Attribute "mvm completed challenges bitmask" 
			Cap 5
			Increment 1 
			Cost 25

			UIGroup 2

			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {Upgrade building_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}
			
			OnUpgrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Gain a speed boost for 5 seconds|9,0"

				Output "!activator,$SetVar$canteenIndex,1,0"
			}

			OnApply
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Gain a speed boost for 5 seconds|9,0"
				Output "!activator,$SetVar$canteenIndex,1,0"
			}

			OnDowngrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "on_canteen_empty,Trigger,,0"
			}
		}
		re_can
		{
			Name "Reprogram canteen" 

			Attribute "limited quantity item" 
			Cap 10
			Increment 1 
			Cost 75

			Description "Reprogram non-giant enemies in a radius"

			UIGroup 2

			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {Upgrade building_can}
			DisallowedUpgrade {Upgrade speed_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}

			OnUpgrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Reprogram non-giant enemies in a radius|9,0"

				Output "!activator,$SetVar$canteenIndex,2,0"
			}

			OnApply
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Reprogram non-giant enemies in a radius|9,0"

				Output "!activator,$SetVar$canteenIndex,2,0"
			}

			OnDowngrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "on_canteen_empty,Trigger,,0"
			}
		}
		ber_can
		{
			Name "Berserk canteen" 

			Attribute "throwable healing" 
			Cap 3
			Increment 1 
			Cost 25

			Description "Locked to melee for 5 seconds, greatly increased melee power"

			UIGroup 2

			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {Upgrade building_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade speed_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}

			OnUpgrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Lock to melee but increase melee power|9,0"

				Output "!activator,$SetVar$canteenIndex,3,0"
			}

			OnApply
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Lock to melee but increase melee power|9,0"

				Output "!activator,$SetVar$canteenIndex,3,0"
			}

			OnDowngrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "on_canteen_empty,Trigger,,0"
			}
		}
		add_can
		{
			Name "Adrenaline canteen" 

			Attribute "throwable damage" 
			Cap 3
			Increment 1 
			Cost 75

			Description "Gain various buffs for 5 seconds, become weakened for a duration afterward"

			UIGroup 2

			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {Upgrade building_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade speed_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}

			OnUpgrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Gain various buffs for 5 seconds and become fatigue briefly after duration|9,0"

				Output "!activator,$SetVar$canteenIndex,4,0"
			}

			OnApply
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Gain various buffs for 5 seconds and become fatigue briefly after duration|9,0"

				Output "!activator,$SetVar$canteenIndex,4,0"
			}

			OnDowngrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "on_canteen_empty,Trigger,,0"
			}
		}
		cloak_can
		{
			Name "Stealth canteen" 

			Attribute "throwable particle trail only" 
			Cap 3
			Increment 1 
			Cost 50

			Description "Cloak for up to 7 seconds, cloak is cancelled when attacking"

			UIGroup 2

			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {Upgrade building_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade speed_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade knock_can}
			DisallowedUpgrade {Upgrade piss_can}

			OnUpgrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Cloak for up to 15 seconds|9,0"

				Output "!activator,$SetVar$canteenIndex,5,0"
			}

			OnApply
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Cloak for up to 15 seconds|9,0"

				Output "!activator,$SetVar$canteenIndex,5,0"
			}

			OnDowngrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "on_canteen_empty,Trigger,,0"
			}
		}
		piss_can
		{
			Name "Oil spill canteen" 

			Attribute "decoded by itemdefindex" 
			Cap 3
			Increment 1 
			Cost 25

			Description "Apply Jarate to enemies within a large radius"

			UIGroup 2

			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {Upgrade building_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade speed_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade knock_can}

			OnUpgrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Apply Jarate to enemies within a large radius|9,0"

				Output "!activator,$SetVar$canteenIndex,6,0"
			}

			OnApply
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Apply Jarate to enemies within a large radius|9,0"

				Output "!activator,$SetVar$canteenIndex,6,0"
			}

			OnDowngrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "on_canteen_empty,Trigger,,0"
			}
		}
		knock_can
		{
			Name "Knockback immunity canteen" 

			Attribute "elevate quality" 
			Cap 3
			Increment 1 
			Cost 10

			Description "Gain knockback resistance for 5 seconds"

			UIGroup 2

			AllowedWeapons
			{
				Classname "tf_powerup_bottle"
			}
			DisallowedUpgrade {upgrade crit_can}
			DisallowedUpgrade {Upgrade uber_can}
			DisallowedUpgrade {Upgrade recall_can}
			DisallowedUpgrade {Upgrade building_can}
			DisallowedUpgrade {Upgrade re_can}
			DisallowedUpgrade {Upgrade speed_can}
			DisallowedUpgrade {Upgrade ber_can}
			DisallowedUpgrade {Upgrade add_can}
			DisallowedUpgrade {Upgrade cloak_can}
			DisallowedUpgrade {Upgrade piss_can}

			OnUpgrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Knockback resistance for 5 seconds|9,0"

				Output "!activator,$SetVar$canteenIndex,69,0"
			}

			OnApply
			{
				Output "canteen_count_update,$FireUser5,"
				Output "!activator,$AddItemAttribute,special item description|Consumable: Knockback resistance for 5 seconds|9,0"

				Output "!activator,$SetVar$canteenIndex,69,0"
			}

			OnDowngrade
			{
				Output "canteen_count_update,$FireUser5,"
				Output "on_canteen_empty,Trigger,,0"
			}
		}
	}
	
	// Weapon changes
	ItemBlacklist [$SIGSEGV]
	{
		//Name "Kritz Or Treat Canteen"
		//Name "Default Power Up Canteen (MvM)"
		//Name "Power Up Canteen (MvM)"
		//Name "Battery Canteens"
		Item "Rocket Jumper"
		Item "Stickybomb Jumper"
		Name "Zombie Scout"
		Name "Zombie Pyro"
		Name "Zombie Soldier"
		Name "Zombie Heavy"
		Name "Zombie Demo"
		Name "Zombie Engineer"
		Name "Zombie Medic"
		Name "Zombie Spy"
		Name "Zombie Sniper"

		// Demoman
		ClassName "tf_weapon_pipebomblauncher" // I cannot get cool modules idea's lmao
		//Name "tf_weapon_pipebomblauncher"
		//Name "Upgradeable tf_weapon_pipebomblauncher"
		//Name "The Scottish Resistance"
		//Name "The Quickiebomb Launcher"
	}

	// Useless, but they have some charm to it
	//ItemAttributes
	//{
	//	ItemName "Rocket Jumper"
	//	"self dmg push force increased" 4
	//}
	//ItemAttributes
	//{
	//	ItemName "Stickybomb Jumper"
	//	"self dmg push force increased" 4
	//}

	// Scout
	ItemAttributes
	{
		ItemName "The Shortstop"
		"special item description" "[INFO]: The Shortstop receives 25% more healing from all sources."
		"reload time increased hidden" 1
		"healing received bonus" 1.25
	}
	ItemAttributes 
	{
		ItemName "Baby Face's Blaster"
		"special item description" "[INFO]: Baby Face's Blaster doesn't lose hype by taking damage."
        "hype resets on jump" 25
        "lose hype on take damage" 0
	}
	ItemAttributes 
	{
		ItemName "The Flying Guillotine"
		"special item description" "[INFO]: On Hit: Marks target for death, Deals Crits instead of Mini-Crits."
		"mark for death" 1
		"minicrits become crits" 1
	}
	ItemAttributes 
	{
		ItemName "The Sandman"
		"max health additive penalty" 0
		"effect bar recharge rate increased" 0.05
	}
	ItemAttributes 
	{
		ItemName "The Wrap Assassin"
		"effect bar recharge rate increased" 0.05
	}
	//ItemAttributes 
	//{
	//	ItemName "The Boston Basher"
	//	"hit self on miss" 0
	//}
	//ItemAttributes 
	//{
	//	ItemName "Three-Rune Blade"
	//	"hit self on miss" 0
	//}
	ItemAttributes 
	{
		ItemName "Sun-on-a-Stick"
		"special item description" "[INFO]: Ignites Players and deals additional 150% damage bonus against burning players."
		"attach particle effect" 13
		"set damagetype ignite" 1
		"damage bonus vs burning" 2.5
	}
	// Soldier
	ItemAttributes // This weapon is so broken op
	{
		ClassName "tf_weapon_katana"
		"restore health on kill" 8 // PDA Why
		"honorbound" 0 
		//"overheal from heal on kill" 0 // This attribute doesn't work, neither the overheal decay attribute and the HealOnKillOverhealMelee 0 keyvalue. This katana is so cursed
	}
	ItemAttributes 
	{
		ItemName "The Battalion's Backup"
		"max health additive bonus" 200
	}
	ItemAttributes 
	{
		ItemName "The Concheror"
		"health regen" 20
	}
	ItemAttributes 
	{
		ItemName "The B.A.S.E. Jumper"
		"special item description" "[INFO]: Increases your Jump Height and Air Control."
		"increased jump height" 3
		"increased air control" 4
		"cancel falling damage" 1
	}
	ItemAttributes 
	{
		ItemName "The Gunboats"
		"special item description" "[INFO]: Gunboats provides extra health and movement speed."
		"max health additive bonus" 200
		"move speed bonus" 1.2
	}
	ItemAttributes 
	{
		ItemName "The Mantreads"
		"special item description" "[INFO]: Deals Damage by bumping into players."
		"stomp player time" 0.5
		"stomp player damage" 50
		"stomp player force" 300
	}
	// Pyro
	ItemAttributes 
	{
		ItemName "The Phlogistinator"
		"lunchbox adds minicrits" 1
		"always allow taunt" 1 // Haha, no taunt cancel for you!
	}
	ItemAttributes 
	{
		ItemName "The Rainblower"
		"lunchbox adds minicrits" 3
	}
	ItemAttributes 
	{
		ClassName "tf_weapon_flamethrower"
		"lunchbox adds minicrits" 2
	}
	ItemAttributes 
	{
		ClassName "tf_weapon_rocketlauncher_fireball"
		"lunchbox adds minicrits" 2
	}
	ItemAttributes // No More Huge Goomba Stomp!
	{
		ItemName "The Thermal Thruster"
		"provide on active" 1
		"cannot pick up intelligence" 1
		//"damage penalty" 0.5 // Doesn't work :(
	}
	ItemAttributes
	{
		ItemName "The Homewrecker"
		"SET BONUS: dmg from sentry reduced" 0.5
		"dmg bonus vs buildings" 4
	}
	ItemAttributes
	{
		ItemName "The Maul"
		"SET BONUS: dmg from sentry reduced" 0.5
		"dmg bonus vs buildings" 4
	}
	// Demoman 
	ItemAttributes 
	{
		ItemName "Ali Baba's Wee Booties"
		"max health additive bonus" 200
	}
	ItemAttributes 
	{
		ItemName "The Bootlegger"
		"max health additive bonus" 200
	}
	ItemAttributes 
	{
		ItemName "The Tide Turner"
		"lose demo charge on damage when charging" 0
	}
	ItemAttributes 
	{
		ItemName "The Eyelander"
		"max health additive penalty" 0
	}
	ItemAttributes 
	{
		ItemName "Nessie's Nine Iron"
		"max health additive penalty" 0
	}
	ItemAttributes 
	{
		ItemName "The Horseless Headless Horseman's Headtaker"
		"max health additive penalty" 0
	}
	ItemAttributes 
	{
		ItemName "Festive Eyelander"
		"max health additive penalty" 0
		"set turn to ice" 1
	}
	ItemAttributes 
	{
		ItemName "The Ullapool Caber"
		"special item description" "[INFO]: Caber Regenerates after the explosion hit."
		"regenerate stickbomb" 1
		"blast dmg to self increased" 5
	}
	// Heavy
	ItemAttributes
	{
		ClassName "tf_weapon_minigun"
		"mod minigun can holster while spinning" 1
	}
	ItemAttributes 
	{
		ItemName "The Huo Long Heatmaker"
		"mod minigun can holster while spinning" 1
		"damage penalty" 1
	}
	//ItemAttributes
	//{
	//	ItemName "The Sandvich"
	//	"lunchbox healing decreased" 10
	//}
	//ItemAttributes
	//{
	//	ItemName "The Robo-Sandvich"
	//	"lunchbox healing decreased" 10 
	//}
	//ItemAttributes
	//{
	//	ItemName "The Second Banana"
	//	"lunchbox healing decreased" 4
	//}
	ItemAttributes // Oh wow discount tomahawk steak
    {
        ItemName "The Buffalo Steak Sandvich"
		"provide on active" 1
		"special item description" "[INFO]: Eat to gain mini-crits on all weapons, slower recharge rate"
        "effect cond override" 19
        "item_meter_charge_rate" 120
        "max health additive penalty" -1000
		"gesture speed increase" 1.5
		//"dmg taken increased" 1.15 // might be too harsh
		//"lunchbox adds minicrits" 5 // Braindawg Please, it doesn't work
		//"lunchbox healing decreased" 0.01
    }
	//ItemAttributes // You must be an insane person to use this fucking thing
	//{
	//	ItemName "The Dalokohs Bar"
	//}
	//ItemAttributes
	//{
	//	ItemName "Fishcake"
	//}
	ItemAttributes 
	{
		ItemName "Gloves of Running Urgently"
		"special item description" "[INFO]: Removed Health drain, but re-added Mark-For-Death Attribute."
		"mod_maxhealth_drain_rate" 0
        "single wep holster time increased" 1.5
        "self mark for death" 3
        "provide on active" 1
        "damage penalty" 0.75
	}
	ItemAttributes 
	{
		ItemName "Festive Gloves of Running Urgently"
		"special item description" "[INFO]: Removed Health drain, but re-added Mark-For-Death Attribute."
		"mod_maxhealth_drain_rate" 0
        "single wep holster time increased" 1.5
        "self mark for death" 3
        "provide on active" 1
        "damage penalty" 0.75
	}
	ItemAttributes 
	{
		ItemName "The Bread Bite"
		"special item description" "[INFO]: Removed Health drain, but re-added Mark-For-Death Attribute."
		"mod_maxhealth_drain_rate" 0
        "single wep holster time increased" 1.5
        "self mark for death" 3
        "provide on active" 1
        "damage penalty" 0.75
	}
	ItemAttributes 
	{
		ItemName "The Holiday Punch"
		"set turn to ice" 1
	}
	ItemAttributes 
	{
		ItemName "The Eviction Notice"
		"special item description" "[INFO]: Removed Health drain."
		"mod_maxhealth_drain_rate" 0
	}
	// Engineer
	//ItemAttributes // Too Overpowered with Infinite Ammo
	//{
	//	ItemName "The Widowmaker"
	//	"damage penalty" 0.85
	//}
	ItemAttributes // Too Overpowered with Infinite Ammo
	{
		ItemName "The Short Circuit"
		"fire rate penalty" 3.5
	}
	//ItemAttributes 
	//{
	//	ItemName "The Wrangler"
	//	"max health additive penalty" -75
	//}
	//ItemAttributes
	//{
	//	ItemName "Festive Wrangler"
	//	"max health additive penalty" -75
	//}
	//ItemAttributes
	//{
	//	ItemName "The Giger Counter"
	//	"max health additive penalty" -75
	//}
	ItemAttributes // I tried
    {
        ItemName "The Gunslinger"
		"special item description" "[INFO]: Buildings are restricted to level 1"
		"dmg from ranged reduced" 0.75
		"damage bonus" 2
        "engy disposable sentries" 2
        "engy sentry radius increased" 2
		"building max level" 1
		"engy sentry damage bonus" 1.5
		"engy building health bonus" 2
    }
	// Medic 
	//ItemAttributes // Ubersaw op plz nerf // Cannot believe that Castle Crush got away with it
	//{
	//	ItemName "The Ubersaw"
	//	"add uber charge on hit" 0.12
	//}
	//ItemAttributes
	//{
	//	ItemName "Festive Ubersaw"
	//	"add uber charge on hit" 0.12
	//}
	// Spy, He needs some love. I tried
	ItemAttributes
	{
		ClassName "TF_WEAPON_REVOLVER"
		"mult dmg vs tanks" 2.5
		"mult dmg vs giants" 2.5
	}
	ItemAttributes
    {
        ItemName "The Ambassador"
		"special item description" "[INFO]: Removed Crit Damage Falloff."
        "crit_dmg_falloff" 0
    }
	ItemAttributes
    {
        ItemName "Festive Ambassador"
		"special item description" "[INFO]: Removed Crit Damage Falloff."
		"crit_dmg_falloff" 0
    }
	ItemAttributes // Fuck this sapper
	{
		ItemName "The Red-Tape Recorder"
		"special item description" "[INFO]: Now functions like the stock Sapper."
		"sapper degenerates buildings" 0
		"sapper damage penalty" 1
	}
	ItemAttributes // No more oopies!
	{
		ClassName "tf_weapon_knife"
		"provide on active" 1
		"cannot pick up intelligence" 1
	}
	//ItemAttributes
	//{
	//	ItemName "TF_WEAPON_INVIS"
	//	"max health additive bonus" 50
	//}
	//ItemAttributes
	//{
	//	ItemName "The Quackenbirdt"
	//	"max health additive bonus" 50
	//}
	//ItemAttributes
	//{
	//	ItemName "TTG Watch"
	//	"max health additive bonus" 50
	//}
	//ItemAttributes
	//{
	//	ItemName "The Cloak and Dagger"
	//	"max health additive bonus" 50
	//}
	//ItemAttributes // Maybe?
	//{
	//	ItemName "The Dead Ringer"
	//	"max health additive bonus" 25
	//}

	CustomWeapon [$SIGSEGV] // Custom Weapons 
	{
		"W.A.S.P Launcher" // APPROVED!
		{
			OriginalItemName "Upgradeable tf_weapon_rocketlauncher"
			"special item description" "[INFO]: Specialized Rocket Launcher that fires Rockets in a high-arc trajectory."
			"custom item model" "models\weapons\c_models\c_wasp_launcher\c_wasp_launcher_1.mdl"
			"projectile gravity" 750
			"projectile speed increased" 1.5
			"Blast radius increased" 1.25
			//"damage penalty" 0.8
		}
		"Gamma Gazer"
		{
			OriginalItemName "The C.A.P.P.E.R"
			"special item description" "[INFO]: Alt-Fire: Use 50 metal to pick up your targeted building from long range."
			"custom item model" "models\weapons\c_models\c_gamma_gazer\c_gamma_gazer.mdl"
			"engineer building teleporting pickup" 50
			"mark for death on building pickup" 1
			"fire rate penalty" 1.75
			"CARD: damage bonus" 1.15
			"weapon spread bonus" 0.3
			"clip size penalty" 0.5
		}
		//"Big Man" // REMOVED
		//{
		//	OriginalItemName "The Quickiebomb Launcher"
		//	"special item description" "[INFO]: Specialized Stickybomb Launcher that now sticks onto Players."
		//	"custom item model" "models\weapons\c_models\c_big_man\c_big_man.mdl"
		//	"stickybomb stick to enemies" 1
		//	"stickybomb_charge_damage_increase" 1.5
		//	//"sticky arm time bonus" 0.8
		//	"stickybomb charge rate" 0.25
		//	"damage penalty" 1
		//	"projectile speed decreased" 0.85
		//	"blast radius decreased" 0.8
		//	"max pipebombs decreased" -4
		//}
		"Tokamak"
		{
			OriginalItemName "tomislav"
			"special item description" "[INFO]: Specialized Minigun that fires Atomic Projectile. Ignites Players on hit."
			"custom item model" "models/workshop/weapons/c_models/c_tokamak/c_tomislav.mdl"
			"custom wind up sound" "=60|tokamak_wind_up.wav"
            "custom wind down sound" "=60|tokamak_wind_down.wav"
			//"custom minigun spin sound" "=70|tokamak_spin.wav"
			"mod minigun can holster while spinning" 1
			"fire rate penalty"	2.5
            "override projectile type"	13
            "energy weapon penetration"	0
			"set damagetype ignite" 1
			//"dmg penalty vs players" 0.75 // Doesn't work?
            "ragdolls plasma effect" 1
            "centerfire projectile" 1
			"projectile spread angle penalty" 3
			"no crit boost" 1
			"crits_become_minicrits" 1
			//"minicrit vs burning player" 1
			//"dmg penalty vs buildings" 0.2
			"mult dmg vs tanks" 2
			//"projectile penetration heavy" -6 // Oh yeah i can disable it on extended upgrades oops
			"custom kill icon" "firedeath"
		}
		//"Bio Breaker"
		//{
		//	OriginalItemName "Upgradeable tf_weapon_minigun"
		//	"special item description" "[INFO]: Specialized Drill with short range weapon that damages players."
		//	"custom item model" "models\weapons\c_models\c_biobreaker\c_biobreaker.mdl"
		//	//"custom weapon fire sound" "common/null.wav"
		//	//"custom minigun spin sound" "sawblade.wav"
		//	"custom wind up sound" "=60|misc\doomsday_cap_open_start.wav" 
		//	"custom wind down sound" "=80|misc\doomsday_cap_spin_start.wav"
		//	//"custom hit sound" "ambient\sawblade.wav"
		//	"custom impact sound" "=40|ambient\sawblade_impact1.wav"
		//	//"mod minigun can holster while spinning" 1
		//	"centerfire projectile" 1
		//	"particle effect use head origin" 1
		//	"particle effect vertical offset" -5000
		//	"override projectile type" 2
		//	"projectile no deflect" 1
		//	"no self blast dmg" 2
		//	"self dmg push force decreased" 0
		//	"no explosion particles" 1
		//	"projectile lifetime" 0.11
		//	"remove damage type" 64
		//	"special damage type" 1
		//	"custom projectile model" "models/empty.mdl"
		//	"custom kill icon" "saw_kill"
		//	"crit kill will gib" 1
		//	"damage bonus hidden" 4
		//	"no damage falloff" 1
		//	"minigun spinup time increased" 1.5
		//	"blast radius decreased" 0.25
		//	"dmg pierces resists absorbs" 1
		//	"aiming movespeed increased" 2
		//	"move speed bonus" 1.3
		//	"provide on active" 1
		//	//"bleeding duration" 3 // Wtf, you hit self with bleed
		//}
		"Scrap Sentinel"
		{
			OriginalItemName "The Jag"
			"special item description" "[INFO]: Specialized supportive Wrench with faster build rate and extra dispenser supply rate."
			"custom item model" "models\weapons\c_models\c_scrap_sentinel\c_spikewrench.mdl"
			"fire rate bonus" 1
			"mult dispenser rate" 3
			"dmg penalty vs buildings" 1
			"Repair rate increased" 1.5
			"build rate bonus" 0.75
			//"engy sentry damage bonus" 0.75 // Washy why
			"Repair rate decreased" 1
			"fire rate penalty" 1.25
			"max health additive penalty" -25
			"move speed penalty" 0.85
		}
		"Spitfire Flare Gun"
		{
			OriginalItemName "The Scorch Shot"
			"special item description" "[INFO]: Specialized Flare gun that fires rockets out. Ignites players on hit"
			"custom item model" "models/weapons/c_models/c_pilot_flaregun/c_pilot_flaregun.mdl"
			//"custom weapon fire sound" "\weapons\flare_detonator_launch.wav"
			"mod flaregun fires pellets with knockback" 0 // Wtf no!
			"override projectile type" 2
			"projectile trail particle" "superrare_burning1"
			"Projectile speed decreased" 0.85
			"set damagetype ignite" 1
			//"damage bonus hidden" 1.5 // Too stronk
			"blast radius decreased" 0.75
			"reload time increased" 1.25
			//"mod projectile heat follow crosshair" 1
			//"mod projectile heat seek power" 360
			//"mod projectile heat aim time" 10
			"damage penalty" 0.75
			"rocket jump damage reduction" 0.4
			"self dmg push force decreased" 1
			//"blast dmg to self increased" 0
		}
		"The Sledge Hammer" // reworking
		{
			OriginalItemName "The Homewrecker"
			"special item description" "[INFO]: Specialized hammer that stuns robots and buildings for 3 seconds."
			"provide on active" 1
			"hand scale" 1.5
			//"dmg penalty vs players" 1.5
			"dmg from ranged reduced" 0.8
			"dmg from melee increased" 2
			"fire rate penalty" 1.5

			//"add cond on hit duration" 3
			//"add cond on hit" 71 // Stuns giants bleh
			"stun on damage" 60 // experimental
			"disable buildings on hit" 3
			"melee cleave attack" 1
		}
	}
	ExtraLoadoutItems [$SIGSEGV]
	{
		Soldier
		{
			Primary "W.A.S.P Launcher"
		}
		Pyro
		{
			Secondary "Spitfire Flare Gun"
			Melee "The Sledge Hammer"
		}
		//Demoman
		//{
		//	Secondary "Big Man"
		//}
		HeavyWeapons
		{
			//Primary "Bio Breaker"
			Primary "Tokamak"
		}
		Engineer
		{
			Secondary "Gamma Gazer"
			Melee "Scrap Sentinel"
		}
	}
	// Spawnpoints For Reds 
	ExtraSpawnPoint // Little House Flank
    {
        Name "tinyhouse_flank"
        TeamNum 2
        X "2515.562"	                     
        Y "-3220.952"                
        Z "-411.066"       
    }
	ExtraSpawnPoint // Big House Flank
    {
        Name "bighouse_flank"
        TeamNum 2
        X "1744.712"	                     
        Y "-2116.125"                
        Z "-311.968"       
    }
	ExtraSpawnPoint // Stairs Main
    {
        Name "stair_main"
        TeamNum 2
        X "1860.106"	                     
        Y "-799.581"                
        Z "-108.968"       
    }
	ExtraSpawnPoint // Stairs Flank
    {
        Name "stair_flank"
        TeamNum 2
        X "1831.777"	                     
        Y "-485.333"                
        Z "-111.968"       
    }
	ExtraSpawnPoint // Begin Main
    {
        Name "begin_main"
        TeamNum 2
        X "843.943"	                     
        Y "-2121.916"                
        Z "-390.153"       
    }
	ExtraSpawnPoint // Begin Main
    {
        Name "begin_main_two"
        TeamNum 2
        X "2125.246"	                     
        Y "-1626.883"                
        Z "-385.156"       
    }
	ExtraSpawnPoint // Factory Stairs
    {
        Name "factory_stairs"
        TeamNum 2
        X "-253.489"	                     
        Y "-1042.034"                
        Z "-127.968"       
    }
	ExtraSpawnPoint // Factory Keep Out
    {
        Name "factory_main"
        TeamNum 2
        X "-143.912"	                     
        Y "-672.286"                
        Z "-255.968"       
    }
	ExtraSpawnPoint // Factory Truck
    {
        Name "factory_truck"
        TeamNum 2
        X "-9.209"	                     
        Y "529.868"                
        Z "-287.968"       
    }
	ExtraSpawnPoint // Outside Middle
    {
        Name "outside_middle"
        TeamNum 2
        X "1523.060"	                     
        Y "60.352"                
        Z "-114.836"       
    }
	ExtraSpawnPoint // Outside Middle 2
    {
        Name "outside_middle_two"
        TeamNum 2
        X "1719.103"	                     
        Y "1218.262"                
        Z "-109.437"       
    }
	ExtraSpawnPoint // Outside No Trespassing
    {
        Name "no_trespassing" // Trespasser
        TeamNum 2
        X "1053.000"	                     
        Y "2483.527"                
        Z "15.968"       
    }
	ExtraSpawnPoint // Mannco Door
    {
        Name "mannco_door"
        TeamNum 2
        X "325.856"	                     
        Y "2733.525"                
        Z "-15.968"       
    }
	ExtraSpawnPoint // Gate Door
    {
        Name "gate_door"
        TeamNum 2
        X "-623.661"	                     
        Y "2982.902"                
        Z "46.332"       
    }
	ExtraSpawnPoint // Fuel Door
    {
        Name "fuel_door"
        TeamNum 2
        X "-1111.694"	                     
        Y "331.120"                
        Z "-31.968"       
    }
	ExtraSpawnPoint // Little Barn Truck
    {
        Name "littlebarn_truck"
        TeamNum 2
        X "-175.804"	                     
        Y "2115.026"                
        Z "-225.592"       
    }

	// Main RED SpawnPoints
	ExtraSpawnPoint // Main Spawn Right
    {
        Name "mainspawn_right"
        TeamNum 2
        X "-2093.008"	                     
        Y "1613.681"                
        Z "-23.968"       
    }
	ExtraSpawnPoint // Main Spawn Middle
    {
        Name "mainspawn_middle"
        TeamNum 2
        X "-2440.931"	                     
        Y "1878.142"                
        Z "-11.968"       
    }
	ExtraSpawnPoint // Main Spawn Left
    {
        Name "mainspawn_left"
        TeamNum 2
        X "-2091.293"	                     
        Y "2126.967"                
        Z "-23.968"       
    }
	ExtraSpawnPoint // Main Spawn Giant
    {
        Name "mainspawn_giant"
        TeamNum 2
        X "-1697.979"	                     
        Y "1199.221"                
        Z "-31.329"       
    }
	ExtraSpawnPoint // Near Hatch
    {
        Name "near_hatch"
        TeamNum 2
        X "-1359.80"	                     
        Y "1856.25"                
        Z "31.03"       
    }
	ExtraSpawnPoint
	{
		Name "tunnel_spawn"
		TeamNum 2
		X "208"
		Y "-1656"
		Z "-425"
	}
	//ExtraSpawnPoint // Discount House Spawn
	//{
	//	Name "spawnbot_discount_house"
	//	TeamNum "2"
	//	X "2640"
	//	Y "-3632"
	//	Z "-136"
	//}
	ExtraTankPath // Tank path A
	{
		Name "red_tank_path_a"
		Node "24 2256 16"
		Node "288 2256 8"
		Node "384 2216 -16"
		Node "448 2048 -40"
		Node "584 1456 -200"
		Node "600 1328 -216"
		Node "664 1240 -240"
		Node "752 1192 -264"
		Node "1072 1120 -280"
		Node "1144 1080 -280"
		Node "1160 1016 -280"
		Node "1120 32 -280"
		Node "1120 -224 -280"
		Node "1152 -544 -328"
		Node "1280 -1472 -352"
		Node "1296 -1536 -352"
		Node "1360 -1568 -352"
		Node "2080 -1728 -352"
		Node "2400 -1840 -384"
		Node "2944 -1856 -400"
		Node "3415 -1856 -448"
	}
	ExtraTankPath // Drill Tank Path
	{
		Name "red_tank_path_drill"
		Node "-976 2200 16"
		Node "-480 2272 16"
		Node "208 2272 16"
		Node "304 2224 -16"
		Node "352 2048 -40"
		Node "256 1216 -256"
		Node "240 760 -256"
		Node "240 464 -256"
		Node "200 384 -256"
		Node "64 280 -256"
		Node "24 216 -256"
		Node "0 96 -256"
		Node "0 -32 -224"
		Node "0 -504 -224"
		Node "0 -736 -224"
		Node "32 -808 -224"
		Node "104 -832 -224"
		Node "384 -832 -224"
		Node "640 -840 -256"
		Node "1008 -848 -320"
		Node "1120 -880 -352"
		Node "1184 -992 -352"
		Node "1280 -1472 -352"
		Node "1296 -1536 -352"
		Node "1360 -1568 -352"
		Node "2080 -1728 -352"
		Node "2400 -1840 -384"
		Node "2944 -1856 -400"
		Node "3115 -1856 -448"
	}
	ExtraTankPath // Blimp Path A
	{
		Name "blimp_path_a"
		Node "2432 1304 584"
		Node "1404 1248 584"
		Node "1292 1224 584"
		Node "1136 732 584"
		Node "1036 -120 648"
		Node "1144 -1528 248"
		Node "1248 -2944 248"
		Node "1784 -4200 248"
	}
	ExtraTankPath // Blimp Path B
	{
		Name "blimp_path_b"
		Node "-2184 2944 592"
		Node "-1168 2256 592"
		Node "-784 2240 592"
		Node "128 2264 592"
		Node "1204 1104 584"
		Node "1036 -120 648"
		Node "1144 -1528 248"
		Node "1248 -2944 248"
		Node "1784 -4200 248"
	}

	// SpawnTemplates
	SpawnTemplate "corelogic_exp"
	SpawnTemplate "powerup_fix"
	SpawnTemplate "textualtimer"
	SpawnTemplate "CanteenPurchase"
	PlayerSpawnTemplate { Name CustomCanteens }
	PlayerSpawnOnceTemplate { Name CustomCanteensSetup Origin "0 0 0" }
	SpawnTemplate  
	{
		Name "station"
		"origin" "3048 -3970 -84"
		"angles" "0 270 0"
	}
	SpawnTemplate  
	{
		Name "station"
		"origin" "1888 -3648 -160"
		"angles" "0 0 0"
	}
	Wave // Wave 1
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		SpawnTemplate "sentryblocker1_exp"
		Explanation [$SIGSEGV] // Wall of Text. Killed it
        {
			Line "{EDEA15}-- INITIALIZING SETUP --"
			Line "{blue}- Your Robot forces have assigned you to destroy Mann Co Base."
			Line "{blue}- Your main objective is to escort the bomb and protect your VIP."
			Line "{red}- Their defensive primeters is heavily armed with RED Robot forces."
			Line "{red}- Losing all your VIP's will result into a wave failure!"
			//Line "{green}- Giant Mode Enabled! Modules ready to purchase!"
            //Line "{green}- Giant Robot Players Enabled."
			//Line "{green}- Infinite Ammo/Metal Enabled."
			//Line "{green}- Player Deploying Bomb at Hatch Enabled."
			//Line "{EDEA15}-- Loading Weapon Rebalance --"
			//Line "{green}- Succesfully loaded Weapon Rebalances."
			//Line "{green}- Succesfully loaded Custom Upgrades."
			//Line "{green}- Giant Robots can now upgrade with modules!"
			//Line "{green}- Giant Mode Enabled! Modules ready to purchase!"
			//Line "{green}- Custom Upgrades/Canteens available!"
			//Line "{red}-- Time Limit set to 15 Minutes! --"
            //Line "{red}-- Er#0R: Bug found failing cetain weapons to load Robot Upgrades!"
			//Line "{red}-- #Rro%: Unable to load Stickybomb Upgrades!"
			Line "{EDEA15}-- SETUP COMPLETE --"
			//Line "{}_____________________________"
			//Line "{EDEA15} -- CURRENT OBJECTIVE --"
			//Line "{}- Protect VIP during the wave!"
			//Line "{red}- VIP cannot be Healed from any medigun!"
			//Line "{blue}- 2 Giant Pyro's"
			//Line "{blue}- 2 Giant Demoknights"
			//Line "{blue}- 1 Giant Charged Soldier"
			//Line "{blue}- Infinite Support: Soldier, Demoman, SMG Sniper"
			//Line "{red}- Lose all of the VIP results into a wave failure!"
			//Line "{}_____________________________"
			//Line "{EDEA15} Note: If you're unable to upgrade. Either Vote to Restart Game or Wave Failed after the wave start!"
        }
		// Dummy Waves
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "timer_w1_changer"
				Action Trigger
			}
		}
		//WaveSpawn
		//{
		//	WaitBeforeStarting 3
		//	FirstSpawnOutput
		//	{
		//		Target "start_wave1"
		//		Action Trigger
		//	}
		//}
		WaveSpawn
		{
			Name tele_start_here
			FirstSpawnOutput
			{
				Target "hint_telethingy"
				Action Show
			}
		}
		WaveSpawn
		{
			Name start_hudhint
			FirstSpawnOutput
			{
				Target "hudhintloop_wave"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name DisableForceField
			WaitForAllSpawned a1_6
			FirstSpawnOutput
			{
				Target "disablebarriers"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name DeployTheBomb
			WaitForAllSpawned a4_2
			FirstSpawnOutput
			{
				Target "youcandeploynow"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name LastVIP
			WaitForAllSpawned blu_4
			FirstSpawnOutput
			{
				Target "hint_last_vip"
				Action Show
			}
		}
		WaveSpawn
		{
			Name YouLose
			WaitForAllDead blu_4
			FirstSpawnOutput
			{
				Target "redwin_relay"
				Action Trigger
			}
		}
		// The "Randomguy" Sorting Icons
		WaveSpawn // Fake Icon 
        {
            Name z1_1
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon red2_lite}
        }
		WaveSpawn // Fake Icon 
        {
            Name z1_2
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon sentry_gun_red_nys}
        }
		WaveSpawn // Infinite Demoknight
		{
			Name ninetynine_1
			WaitForAllSpawned a3_3
			TotalCurrency 0
			TotalCount 9999
			MaxActive 7
			SpawnCount 2
			Support 1
			Where mainspawn_left
			Where mainspawn_middle
			Where mainspawn_right
			WaitBeforeStarting 3
			WaitBetweenSpawns 6
			TFBot
			{
				Template T_TFBot_Red_Demoman_Knight
				Item "The Stormin' Norman"
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_target"
			}
		}
		WaveSpawn // Infinite shotgun heavy
		{
			Name ninetynine_2
			WaitForAllSpawned a4_2
			TotalCurrency 0
			TotalCount 9999
			MaxActive 6
			SpawnCount 3
			Support 1
			Where mainspawn_left
			Where mainspawn_middle
			Where mainspawn_right
			WaitBeforeStarting 4
			WaitBetweenSpawns 8
			TFBot
			{
				Template T_TFBot_Red_Heavyweapons_Shotgun
				Item "The Siberian Sophisticate"
				Item "Pilotka"
				Attributes DisableDodge
				MaxVisionRange 800
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_target"
			}
		}
		// BLU Support
		WaveSpawn // Blu support
		{
			Name Blu_support
			TotalCurrency 0
			TotalCount 6
			MaxActive 5
			SpawnCount 2
			WaitBeforeStarting 15
			WaitBetweenSpawns 7
			Where spawnbot
			Where spawnbot_house
			Support 1
			RandomChoice
			{
				TFBot
				{
					Class Soldier
					ClassIcon blu2_lite
					Skill Normal
					Item "Armored Authority"
					//Item "The Man in Slacks"
					//Item "Fancy Dress Uniform"
					//Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
				}
				TFBot
				{
					Class Demoman
					ClassIcon blu2_lite
					Skill Normal
					//Item "Conjurer's Cowl"
					Item "The Sub Zero Suit"
					//Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
					
				}
				TFBot
				{
					Class Sniper
					ClassIcon blu2_lite
					Name "SMG Sniper"
					WeaponRestrictions SecondaryOnly
					Skill Normal
               		Item "EOTL_hiphunter_jacket"
                	//Item "The Triggerman's Tacticals"
					//Action FetchFlag [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
				}
			}
		}
		WaveSpawn // Fake Icon
		{
			Name VIP
			TotalCurrency 0 
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 9999
			WaitBetweenSpawns 60
			support 1
			TFBot
			{
				Class Scout
				ClassIcon vip_blu
			}
		}
		WaveSpawn // Pyro VIP
		{
			Name blu_1
			TotalCurrency 0
			TotalCount 3
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 2
			Where spawnbot
			Support Limited
			RandomChoice 
			{ 
				RandomChoice 
				{
					TFBot
					{
						Class Pyro
						Name "Giant Pyro"
						Skill Expert
						Attributes MiniBoss
						Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						Health 3300
						UseBestWeapon 1 [$SIGSEGV]
						Item "The Flare gun"
						Item "The Sub Zero Suit"
						Item "The Blizzard Breather"
						Item "The Seared Sorcerer"
						ItemAttributes
						{
							ItemName "The Seared Sorcerer"
							"item style override" 1
						}
						ItemAttributes
						{
							ItemName "tf_weapon_flamethrower"
							"mult airblast refire time" 2
							"mod weapon blocks healing" 1
						}
						ItemAttributes
						{
							ItemName "The Flare gun"
							"fire rate bonus" 0.3
							"mod weapon blocks healing" 1
						}
						CharacterAttributes
						{
							"move speed bonus"	0.5
							"damage force reduction" 0.6
							"airblast vulnerability multiplier" 0.6
							"override footstep sound set" 6

							"health regen" 15
							
							"health from healers reduced" 0.2
							"health from packs decreased" 0.2 
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				} 
			}
		}
		WaveSpawn // Demoman VIP
		{
			Name blu_2
			WaitForAllDead blu_1
			TotalCurrency 0
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 2
			Where spawnbot
			Where spawnbot_house
			Support Limited
			FirstSpawnOutput
			{
				Target "vip_died_one"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Demo_RapidFire
						Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						Item "The Splendid Screen"
						Item "Prince Tavish's Crown"
						Item "The Gaelic Garb"
						Item "The Tartantaloons"
						ItemAttributes
						{
							ItemName "TF_WEAPON_GRENADELAUNCHER"
							"mod weapon blocks healing" 1
						}
						CharacterAttributes
						{
							"health regen" 15
							
							"health from healers reduced" 0.2
							"health from packs decreased" 0.2
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}
		}
		WaveSpawn // Charged Soldier VIP
		{
			Name blu_3
			WaitForAllDead blu_2
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 2
			Where spawnbot
			Support Limited
			FirstSpawnOutput
			{
				Target "vip_died_two"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Soldier_KindaCrit
						Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 12
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}	
		}
		WaveSpawn // Charged Soldier VIP
		{
			Name blu_4
			WaitForAllDead blu_3
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 2
			Where spawnbot
			Support Limited
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Soldier_KindaCrit
						Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 12
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}	
		}
		// RED Main Wave
		WaveSpawn // Gscout
		{
			Name a1_1
			TotalCurrency 20
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 7
			Where outside_middle
			TFBot
			{
				Template T_TFBot_Red_Giant_Scout
				Skill Hard
				Attributes DisableDodge
				UseBestWeapon 1 [$SIGSEGV]
				//UseMeleeThreatPrioritization 1 [$SIGSEGV]
				Item "The Track Terrorizer"
				Item "Blizzard Britches"
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Tag bot_giant
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Gscout
		{
			Name a1_2
			WaitForAllSpawned a1_1
			TotalCurrency 40
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 18
			WaitBetweenSpawns 14
			Where outside_middle
			Where factory_main
			TFBot
			{
				Template T_TFBot_Red_Giant_Scout
				Skill Hard
				Attributes DisableDodge
				UseBestWeapon 1 [$SIGSEGV]
				Item "The Track Terrorizer"
				Item "Blizzard Britches"
				Tag bot_giant
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // GDemoman
		{
			Name a1_3
			WaitForAllSpawned a1_2
			TotalCurrency 40
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			WaitBeforeStarting 7
			WaitBetweenSpawns 18
			Where stair_flank
			Where factory_main
			TFBot
			{
				Template T_TFBot_Red_Giant_Demoman
				Item "The Sub Zero Suit"
				Item "EOTL_summerhat"
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Tag bot_giant
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Gbowman
		{
			Name a1_4
			WaitForAllSpawned a1_1
			TotalCurrency 100
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			WaitBeforeStarting 7
			WaitBetweenSpawns 24
			Where outside_middle
			Where stair_flank
			Where factory_main
			TFBot
			{
				Template T_TFBot_Red_Giant_Bowman
				Attributes DisableDodge
				AimAt Body [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
			}
		}
		WaveSpawn // Soldier
		{
			Name a1_5
			TotalCurrency 100
			TotalCount 24
			MaxActive 7
			SpawnCount 3
			WaitBeforeStarting 3
			WaitBetweenSpawns 5
			Where factory_main
			Where stair_main
			Where stair_flank
			Where outside_middle
			TFBot
			{
				Template T_TFBot_Red_Soldier
				Skill Normal
				Attributes DisableDodge
				Item "Armored Authority"
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Action Mobber [$SIGSEGV]
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"health from packs decreased" 0.01 
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // KGB Heavies
		{
			Name a1_6
			WaitForAllDead a1_1
			TotalCurrency 100
			TotalCount 22
			MaxActive 9
			SpawnCount 3
			WaitBeforeStarting 4
			WaitBetweenSpawns 4
			Where outside_middle
			Where factory_main
			Where stair_main
			Where stair_flank
			TFBot
			{
				Template T_TFBot_Red_Heavyweapons_Heavyweight_Champ
				Item "Weight Room Warmer"
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"health from packs decreased" 0.01 
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Gdemo + Pyro
		{
			Name a2_1
			WaitForAllSpawned a1_6
			TotalCurrency 25
			TotalCount 5
			MaxActive 5
			SpawnCount 5
			WaitBeforeStarting 4
			Where outside_middle_two
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Demoman
					Item "The Sub Zero Suit"
					Item "EOTL_summerhat"
					Attributes DisableDodge
					Action EscortFlag [$SIGSEGV]
					Tag bot_giant
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"damage force reduction" 0
                		"crit mod disabled" 0
						
						"voice pitch scale" 0
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Gdemo + Pyro
		{
			Name a2_2
			WaitForAllDead a2_1
			TotalCurrency 25
			TotalCount 5
			MaxActive 5
			SpawnCount 5
			WaitBeforeStarting 3
			Where littlebarn_truck
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Demoman
					Item "The Sub Zero Suit"
					Item "EOTL_summerhat"
					Attributes DisableDodge
					Action EscortFlag [$SIGSEGV]
					Tag bot_giant
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"damage force reduction" 0
                		"crit mod disabled" 0
						
						"voice pitch scale" 0
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Class Pyro
					Skill Hard
					Name "Deflector Pyro"
					Item "The U-clank-a"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Action Mobber [$SIGSEGV]
					ItemAttributes 
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Carbine Sniper
		{
			Name a2_3
			WaitForAllSpawned a1_6
			TotalCurrency 100
			TotalCount 32
			MaxActive 9
			SpawnCount 4
			WaitBeforeStarting 3
			WaitBetweenSpawns 3
			Where no_trespassing
			Where outside_middle_two
			Where littlebarn_truck
			Where fuel_door
			TFBot
			{
				Template T_TFBot_Red_Carbine_Sniper
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"health from packs decreased" 0.01 
                	"crit mod disabled" 0
					
				}
				FireWeapon [$SIGSEGV]  //Periodically fires weapon
                {
                    Delay 3 
                    Cooldown 5 
                    Repeats 0
					IfSeeTarget 1 
                    Duration 0.1
					Type "Secondary" 
				}
			}
		}
		WaveSpawn // GBowman + Uber meds 
		{
			Name a3_1
			WaitForAllSpawned a2_2
			TotalCurrency 100
			TotalCount 8
			MaxActive 8
			SpawnCount 4
			WaitBeforeStarting 7
			WaitBetweenSpawns 16
			Where gate_door
			Where littlebarn_truck
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Bowman
					Attributes DisableDodge
					AimAt Body [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					Item "Das Ubersternmann"
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					Item "Das Ubersternmann"
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					Item "Das Ubersternmann"
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Pyro
		{
			Name a3_2
			WaitForAllSpawned a2_3
			TotalCurrency 50
			TotalCount 22
			MaxActive 7
			SpawnCount 2
			WaitBeforeStarting 3
			WaitBetweenSpawns 4
			Where mainspawn_middle
			Where littlebarn_truck
			Where gate_door
			TFBot
			{
				Class Pyro
				//Item "The Gas Guzzler"
				Item "The Smoking Skid Lid"
				Item "The Lunatic's Leathers"
				//Item "The Last Breath"
				Skill Hard
				Attributes DisableDodge
				Attributes AlwaysFireWeapon
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Action Mobber [$SIGSEGV]
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // KGB Heavies
		{
			Name a3_3
			WaitForAllSpawned a2_3
			TotalCurrency 100
			TotalCount 26
			MaxActive 9
			SpawnCount 4
			WaitBeforeStarting 3
			WaitBetweenSpawns 4
			Where mainspawn_middle
			Where gate_door
			Where littlebarn_truck
			TFBot
			{
				Template T_TFBot_Red_Heavyweapons_Heavyweight_Champ
				Item "Weight Room Warmer"
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Grapid Soldier + Uber meds
		{
			Name a4_1
			WaitForAllDead a3_1
			TotalCurrency 150
			TotalCount 5
			MaxActive 5
			SpawnCount 5
			WaitBeforeStarting 3
			Where gate_door
			Squad
			{
				FormationSize 300 // Uncertain if this works
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer
					Item "The War Pig"
					Item "The Man in Slacks"
					Attributes DisableDodge
					Action EscortFlag [$SIGSEGV]
					Tag bot_giant
					Addcond [$SIGSEGV] { Index 43 }
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"damage force reduction" 0
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_target"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Grapid Soldier + Uber meds
		{
			Name a4_2
			WaitForAllDead a4_1
			TotalCurrency 150
			TotalCount 5
			MaxActive 5
			SpawnCount 5
			WaitBeforeStarting 3
			Where mainspawn_giant
			Squad
			{
				FormationSize 300
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer
					Item "The War Pig"
					Item "The Man in Slacks"
					//Attributes IgnoreFlag
					Attributes DisableDodge
					Action EscortFlag [$SIGSEGV]
					Tag bot_giant
					Addcond [$SIGSEGV] { Index 43 }
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"damage force reduction" 0
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_target"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Ubersternmann"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"health from packs decreased" 0.01 
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Steel gauntlet + Knockout meds
		{
			Name a4_3
			WaitForAllSpawned a4_1
			TotalCurrency 100
			TotalCount 16
			MaxActive 8
			SpawnCount 2
			WaitBeforeStarting 2
			WaitBetweenSpawns 6
			Where mainspawn_giant
			Where gate_door
			Where littlebarn_truck
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Heavyweapons_Fist
					Item "The Bolt Action Blitzer"
					//Item "Big Steel Jaw of Summer Fun"
					//Attributes IgnoreFlag
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_target"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_Knockout
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
			}
		}
		WaveSpawn // Dummy
		{
			TotalCount 0
			SpawnCount 0
			WaitBeforeStarting 9999
			Where mainspawn_middle
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Class Scout
					}
				}
			}
		}
	}
	Wave // Wave 2
    {
        WaitWhenDone 65
		Checkpoint Yes
        StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		SpawnTemplate "sentryblocker1_exp"
		Explanation [$SIGSEGV]
        {
            //Line "{EDEA15}-- WARNING! --"
			//Line "{red}- Certain RED Robots now have better, enhanced AI."
			//Line "{red}- Giant Snipers can now Headshot Robots!"

			//Line "{red}- RED Bots can now switch between their weapons!"
			//Line "{red}- RED Medic shield now deals damage to Robots!"
			//Line "{EDEA15}-- PROCEED WITH CAUTION! --"
			//Line "{}_____________________________"
			//Line "{EDEA15} -- CURRENT OBJECTIVE --"
			//Line "{red}- Protect VIP Giant during the wave!"
			//Line "{blue}- 2 Super Heavyweight Champs"
			//Line "{blue}- 2 Giant Rapid Homing Soldiers"
			//Line "{blue}- 1 Giant Burst Fire Demoman"
			//Line "{blue}- Infinite Support: Conch Soldier"
			//Line "{red}- Lose all of the VIP results into a wave failure!"
			//Line "{}_____________________________"
        }
		// Dummy wave
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "timer_w1_changer"
				Action Trigger
			}
		}
		//WaveSpawn
		//{
		//	WaitBeforeStarting 3
		//	FirstSpawnOutput
		//	{
		//		Target "start_wave2"
		//		Action Trigger
		//	}
		//}
		WaveSpawn
		{
			Name tele_start_here
			FirstSpawnOutput
			{
				Target "hint_telethingy"
				Action Show
			}
		}
		WaveSpawn
		{
			Name start_hudhint
			FirstSpawnOutput
			{
				Target "hudhintloop_wave"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name DisableForceField
			WaitForAllSpawned b1_5
			FirstSpawnOutput
			{
				Target "disablebarriers"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name DeployTheBomb
			WaitForAllDead b3_1
			FirstSpawnOutput
			{
				Target "youcandeploynow"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name LastVIP
			WaitForAllSpawned blu_4
			FirstSpawnOutput
			{
				Target "hint_last_vip"
				Action Show
			}
		}
		WaveSpawn
		{
			Name YouLose
			WaitForAllDead blu_4
			FirstSpawnOutput
			{
				Target "redwin_relay"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name incoming_tank
			WaitForAllSpawned b3_1
			FirstSpawnOutput
			{
				Target "incoming_tank"
				Action Show
			}
		}
		WaveSpawn
		{
			Name ClosePitPlease
			WaitForAllSpawned b1_5
			FirstSpawnOutput
			{
				Target "wave_close_pit"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name OpenPitPlease
			WaitForAllDead b3_4
			FirstSpawnOutput
			{
				Target "wave_open_pit"
				Action Trigger
			}
		}
		// The "Randomguy" Sorting Icons
		WaveSpawn // Fake Icon 
        {
            Name z1_1
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon red2_lite}
        }
		WaveSpawn // Fake Icon 
        {
            Name z1_2
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon sentry_gun_red_nys}
        }
		WaveSpawn // Infinite Buff Soldier
		{
			Name ninetynine_1
			WaitForAllSpawned b3_3
			TotalCurrency 0
			TotalCount 9999
			MaxActive 3
			SpawnCount 2
			Support 1
			Where mainspawn_left
			Where mainspawn_middle
			Where mainspawn_right
			WaitBeforeStarting 4
			WaitBetweenSpawns 9
			TFBot
			{
				Template T_TFBot_Red_Soldier_Extended_Buff_Banner
				//Item "The Man in Slacks"
				//Item "Fancy Dress Uniform"
				Item "Chieftain's Challenge"
				Skill Normal
				Attributes IgnoreFlag
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Infinite Pyro
		{
			Name ninetynine_2
			WaitForAllSpawned b3_4
			TotalCurrency 0
			TotalCount 9999
			MaxActive 6
			SpawnCount 3
			Support 1
			Where mainspawn_left
			Where mainspawn_middle
			Where mainspawn_right
			WaitBeforeStarting 6
			WaitBetweenSpawns 8
			TFBot
			{
				Class Pyro
				Skill Hard
				//Item "The Sub Zero Suit"
				Item "The Burning Question"
				//Item "The Bone Dome"
				Attributes DisableDodge
				Attributes AlwaysFireWeapon
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Infinite Winger Scout for the funnies
		{
			Name ninetynine_3
			WaitForAllSpawned b3_4
			TotalCurrency 0
			TotalCount 9999
			MaxActive 4
			SpawnCount 2
			Support 1
			Where mainspawn_giant
			Where gate_door
			Where fuel_door
			WaitBeforeStarting 7
			WaitBetweenSpawns 7
			TFBot
			{
				Class Scout
				ClassIcon scout_winger_lite
				Name "Winger Scout"
				Skill Normal
				Health 650
				Scale 1.4
				Item "The Winger"
				Item "The Track Terrorizer"
				Item "Blizzard Britches"
				//Item "The Bottle Cap"
				Attributes IgnoreFlag
				Attributes DisableDodge
				MaxVisionRange 800
				WeaponRestrictions SecondaryOnly
				AddCond [$SIGSEGV] { Index 43 } 
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"head scale" 0.7
					"move speed bonus" 1.25
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
            	}
			}
		}
		// BLU Support
		WaveSpawn // Conch Soldier
		{
			Name Blu_support_2
			TotalCurrency 0
			TotalCount 6
			MaxActive 4
			SpawnCount 2
			WaitBeforeStarting 8
			WaitBetweenSpawns 8
			Where spawnbot
			Where spawnbot_house
			Support 1
			TFBot
			{
				Template T_TFBot_Soldier_Extended_Concheror
				ClassIcon blu2_lite
				Item "Soldier Samurai Hat"
				//Item "The Shogun's Shoulder Guard"
				ClassIcon blu2_lite
				CharacterAttributes
				{
					
					
					"crit mod disabled" 0
				}
			}
		}
		WaveSpawn // Fake Icon
		{
			Name VIP
			TotalCurrency 0 
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 9999
			WaitBetweenSpawns 60
			support 1
			TFBot
			{
				Class Scout
				ClassIcon vip_blu
			}
		}
		WaveSpawn // Super heavyweight champ
		{
			Name blu_1
			TotalCurrency 0
			TotalCount 3
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBetweenSpawns 2
			Support Limited
			FirstSpawnOutput
			{
				Target "vip_wave_two"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Boxing_Heavy_Kindacombo
						Attributes UseBossHealthBar
						AlwaysGlow 1
						Item "Weight Room Warmer"
						Item "The Heavy-Weight Champ"
						ClassIcon vip_blu
						CharacterAttributes
						{
							"health regen" 40
							
							"health from healers reduced" 0.1
							"health from packs decreased" 0.1 
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}
		}
		WaveSpawn // GRapid Homing Soldier
		{
			Name blu_2
			WaitForAllDead blu_1
			TotalCurrency 0
			TotalCount 3
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			Where spawnbot_house
			//WaitBetweenSpawns 4
			Support Limited
			FirstSpawnOutput
			{
				Target "vip_died_three"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Homing_Soldier_Spammer
						Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						AddCond [$SIGSEGV] { name TF_COND_SODAPOPPER_HYPE }
                		RocketCustomParticle eyeboss_projectile
						ItemAttributes
	        			{
			    			ItemName "warbird_rocketlauncher_warhawk"
							"mod weapon blocks healing" 1
						}
           				HomingRockets [$SIGSEGV]
						{
                			Enable 1
							IgnoreDisguisedSpies 1
							IgnoreStealthedSpies 1
							RocketSpeed 0.50 // Multiplier of rocket speed. 1 for default speed
							TurnPower 45 //How fast should the rocket rotate to face the target
							MaxAimError 90 //Max angle between rocket and the target
                			AimTime 2.5 //How long should the rocket be aiming (Default: 9999)
						}
						CharacterAttributes
						{
							"health regen" 20
							
							"health from healers reduced" 0.2
							"health from packs decreased" 0.2 
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}
		}
		WaveSpawn // GBurst Demo
		{
			Name blu_3
			WaitForAllDead blu_2
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			//WaitBetweenSpawns 4
			Support Limited
			FirstSpawnOutput
			{
				Target "vip_died_four"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Demo_Burst
						Attributes UseBossHealthBar
						AlwaysGlow 1
						Item "Conjurer's Cowl"
						Item "The Sub Zero Suit"
						ClassIcon vip_blu
						ItemAttributes
	        			{
			    			ItemName "tf_weapon_grenadelauncher"
							"mod weapon blocks healing" 1
						}
						CharacterAttributes
						{
							"health regen" 20
							
							"health from healers reduced" 0.1
							"health from packs decreased" 0.1 
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}
		}
		WaveSpawn // GBurst Demo
		{
			Name blu_4
			WaitForAllDead blu_3
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			//WaitBetweenSpawns 4
			Support Limited
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Demo_Burst
						Attributes UseBossHealthBar
						AlwaysGlow 1
						Item "Conjurer's Cowl"
						Item "The Sub Zero Suit"
						ClassIcon vip_blu
						ItemAttributes
	        			{
			    			ItemName "tf_weapon_grenadelauncher"
							"mod weapon blocks healing" 1
						}
						CharacterAttributes
						{
							"health regen" 20
							
							"health from healers reduced" 0.1
							"health from packs decreased" 0.1 
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}
		}
		// RED Main Wave
		WaveSpawn // Gburst demo
		{
			Name b1_1
			TotalCurrency 10
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 8
			//WaitBetweenSpawns 16
			Where stair_main
			TFBot
			{
				Template T_TFBot_Giant_Demo_Burst
				ClassIcon demo_burst_red
				Item "Conjurer's Cowl"
				Item "The Sub Zero Suit"
				Attributes DisableDodge
				Item "The Chargin' Targe"
				Action EscortFlag [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 }
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Tag bot_giant
				CharacterAttributes
           		{
					//"no self blast dmg" 2
					"damage force reduction" 0
               		"crit mod disabled" 0
					
					"voice pitch scale" 0
           		}
			}
		}
		WaveSpawn // Gburst demo
		{
			Name b1_2
			WaitForAllDead b1_1
			TotalCurrency 10
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 6
			Where factory_main
			TFBot
			{
				Template T_TFBot_Giant_Demo_Burst
				ClassIcon demo_burst_red
				Item "Conjurer's Cowl"
				Item "The Sub Zero Suit"
				Attributes DisableDodge
				Item "The Chargin' Targe"
				Action EscortFlag [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 }
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Tag bot_giant
				CharacterAttributes
           		{
					//"no self blast dmg" 2
					"damage force reduction" 0
               		"crit mod disabled" 0
					
					"voice pitch scale" 0
           		}
			}
		}
		WaveSpawn // Bazooka Soldier
		{
			Name b1_3
			TotalCurrency 60
			TotalCount 24
			MaxActive 6
			SpawnCount 3
			WaitBeforeStarting 3
			WaitBetweenSpawns 5
			Where stair_flank
			Where outside_middle
			Where stair_main
			Where factory_main
			TFBot
			{
				Template T_TFBot_Red_Bazooka_Soldier
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Soda Scout
		{
			Name b1_4
			TotalCurrency 70
			TotalCount 36
			MaxActive 7
			SpawnCount 3
			WaitBeforeStarting 3
			WaitBetweenSpawns 4
			Where factory_main
			Where stair_flank
			Where stair_main
			TFBot
			{
				Class Scout
				ClassIcon scout_cola_nys //scout_pop
				Name "Soda Popper Scout"
				Skill Normal
				Item "The Soda Popper"
				Item "Crit-a-Cola"
				Item "The Bottle Cap"
				//Item "The Track Terrorizer"
				//Item "Blizzard Britches"
				Attributes DisableDodge
				MaxVisionRange 800
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 }
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Gdragon Pyro + shield med 1st
		{
			Name b1_5
			WaitForAllDead b1_2
			TotalCurrency 20
			TotalCount 2
			MaxActive 2
			SpawnCount 2
			WaitBeforeStarting 8
			Where factory_main
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Dragon_Pyro
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
        			}
				}
				TFBot
				{
					Template T_TFBot_Red_Shield_Medic
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Gdragon Pyro + shield med 2nd
		{
			Name b2_1
			WaitForAllSpawned b1_5
			TotalCurrency 80
			TotalCount 6
			MaxActive 4
			SpawnCount 2
			WaitBeforeStarting 12
			WaitBetweenSpawns 14
			Where outside_middle_two
			Where no_trespassing
			Where littlebarn_truck
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Dragon_Pyro
					//Attributes IgnoreFlag
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
        			}
				}
				TFBot
				{
					Template T_TFBot_Red_Shield_Medic
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Rapid Bowman 1st
		{
			Name b1_6
			WaitForAllSpawned b1_5
			TotalCurrency 20
			TotalCount 2
			MaxActive 2
			SpawnCount 2
			WaitBeforeStarting 3
			Where factory_truck
			TFBot
			{
				Template T_TFBot_Red_Sniper_Huntsman_Spammer
				Item "Down Tundra Coat"
				//Item "The Classy Capper"
				Attributes DisableDodge
				AimAt Head [$SIGSEGV]
				ItemAttributes
				{
					ItemName "The Huntsman"
					"Arrow mastery" 1
				}
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Rapid Bowman 2nd
		{
			Name b2_2
			WaitForAllSpawned b1_6
			TotalCurrency 80
			TotalCount 10
			MaxActive 4
			SpawnCount 2
			WaitBeforeStarting 12
			WaitBetweenSpawns 8
			Where outside_middle_two
			Where littlebarn_truck
			Where no_trespassing
			TFBot
			{
				Template T_TFBot_Red_Sniper_Huntsman_Spammer
				Item "Down Tundra Coat"
				//Item "The Handsome Hitman"
				//Item "The Classy Capper"
				Attributes IgnoreFlag
				Attributes DisableDodge
				AimAt Head [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				ItemAttributes
				{
					ItemName "The Huntsman"
					"Arrow mastery" 1
				}
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Combo Pyro
		{
			Name b2_3
			WaitForAllSpawned b1_5
			TotalCurrency 200
			TotalCount 36
			MaxActive 8
			SpawnCount 4
			WaitBeforeStarting 7
			WaitBetweenSpawns 4
			Where fuel_door
			Where outside_middle_two
			Where factory_truck
			Where no_trespassing
			TFBot
			{
				Class Pyro
				ClassIcon pyro_degreaser_flare_red
				Name "Combo Pyro"
				Skill Expert
				Attributes DisableDodge
				UseBestWeapon 1 [$SIGSEGV]
				UseMeleeThreatPrioritization 1 [$SIGSEGV]
				Item "The Degreaser"
				Item "The Flare Gun"
				Item "The Axtinguisher"
				Item "The Burning Question"
				Item "Trickster's Turnout Gear"
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				ItemAttributes
				{
					ItemName "The Degreaser" 
					"fire input on hit" "combo_primary_to_melee^Trigger^"
					"airblast disabled" 1
				}
				CharacterAttributes
            	{
					//"mult dmg vs giants" 1.5 
					"deploy time decreased" 0.001
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
            	}
			}
		}
		WaveSpawn // Gsniper
		{
			Name b2_4a
			WaitForAllSpawned b1_5
			TotalCurrency 200
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 4
			Where no_trespassing
			Where littlebarn_truck
			TFBot
			{
				Template T_TFBot_Red_Giant_Isolated_Sniper
				Attributes IgnoreFlag
				Attributes DisableDodge
				//Attributes SuppressFire
				AlwaysGlow 1
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
        		}
				FireWeapon [$SIGSEGV]
				{
					Delay 4
					Cooldown 2
					Repeats 0
					IfSeeTarget 1
					Duration 0.1
					Type "Primary"
				}
			}
		}
		WaveSpawn // Gsniper
		{
			Name b2_4b
			WaitForAllSpawned b1_5
			TotalCurrency 200
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 4
			Where gate_door
			Where fuel_door
			TFBot
			{
				Template T_TFBot_Red_Giant_Isolated_Sniper
				Attributes IgnoreFlag
				Attributes DisableDodge
				//Attributes SuppressFire
				AlwaysGlow 1
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
        		}
				FireWeapon [$SIGSEGV]
				{
					Delay 4
					Cooldown 3
					Repeats 0
					IfSeeTarget 1
					Duration 0.1
					Type "Primary"
				}
			}
		}
		WaveSpawn // GBurst Demo + Gkritz med
		{
			Name b3_1
			WaitForAllSpawned b2_1
			TotalCurrency 200
			TotalCount 3
			MaxActive 3
			SpawnCount 3
			WaitBeforeStarting 12
			Where near_hatch
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Demo_Burst
					ClassIcon demo_burst_red
					Item "The Black Watch"
					//Item "The Gaelic Golf Bag"
					Item "The Gaelic Garb"
					Attributes DisableDodge
					Action EscortFlag [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 }
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_giant
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"damage force reduction" 0
                		"crit mod disabled" 0
						
						"voice pitch scale" 0
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Giant_Kritzkrieg_Medic
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Giant_Kritzkrieg_Medic
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Red Tank
		{
			Name b3_2
			WaitForAllSpawned b3_1
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 6
			Tank
			{
				ClassIcon tank_red
				Name "Redtank"
				Health 26000
				Speed 75
				Teamnum 2
				Skin 0
				Model "models/bots/boss_bot/boss_tankred.mdl"
				StartingPathTrackNode "red_tank_path_a_1"
				OnBombDroppedOutput
				{
					Target "nuke_thingy"
					Action Trigger
				}
			}
		}
		WaveSpawn // Conch Soldier
		{
			Name b3_3
			WaitForAllSpawned b3_1
			TotalCurrency 150
			TotalCount 16
			MaxActive 4
			SpawnCount 2
			WaitBeforeStarting 3
			WaitBetweenSpawns 6
			Where mainspawn_right
			Where mannco_door
			Where gate_door
			TFBot
			{
				Template T_TFBot_Soldier_Extended_Concheror
				Item "Soldier Samurai Hat"
				//Item "The Shogun's Shoulder Guard"
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 43 }
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Hybrid Knight
		{
			Name b3_4
			WaitForAllSpawned b3_1
			TotalCurrency 150
			TotalCount 24
			MaxActive 9
			SpawnCount 2
			WaitBetweenSpawns 5
			Where mainspawn_left
			Where mainspawn_right
			Where gate_door
			TFBot
			{
				Template T_TFBot_Red_Hybrid_Knight
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Dummy
		{
			TotalCount 0
			SpawnCount 0
			WaitBeforeStarting 9999
			Where mainspawn_middle
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Class Scout
					}
				}
			}
		}
    }
	Wave // Wave 3
	{
		WaitWhenDone 65
		Checkpoint	Yes
        StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		//SpawnTemplate "check_cars"
		// Amplyboxes
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "2296.2 -2044.45 -389.31"
			Angles "0 270 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "1098.24 -2351.47 -383.84"
			Angles "0 270 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "1340.43 -1252.5 -386"
			Angles "0 215 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "704 -448 -287.7"
			Angles "0 180 0"
		}
		//Spawntemplate
		//{
		//	Name "another_amplybox"
		//	Origin "1941.56 -1049.82 -103.7"
		//	Angles "0 90 0"
		//}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-10 -860 -255.7"
			Angles "0 270 0"
		}
		//Spawntemplate
		//{
		//	Name "another_amplybox"
		//	Origin "1623.78 -585.065 -118.208"
		//	Angles "0 0 0"
		//}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-238.846 282.884 -287.7"
			Angles "0 180 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "1273 261 -302.01"
			Angles "0 180 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-1030 2280 -32"
			Angles "0 270 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-65 1575 -240"
			Angles "0 180 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "550 2280 -48"
			Angles "6 180 -5"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-1300 1028 -32.4605"
			Angles "0 270 0"
		}
		// pew pew
		SpawnTemplate "sentryblocker2_exp"
		SpawnTemplate "check_cars"
		Explanation [$SIGSEGV]
        {
			Line "{EDEA15}-- WARNING! --"
			Line "{red}- RED Engineers have set up their Amplifiers on the area."
			Line "{red}- Their Amplifiers grants RED Bots Crits nearby."
			Line "{red}- RED Engineers now show up with their own weapons to defend."
			//Line "{EDEA15}-- PROCEED WITH CAUTION! --"
			//Line "{}_____________________________"
			//Line "{EDEA15} -- CURRENT OBJECTIVE --"
			//Line "{red}- Destroy total 90 Engineers in order to advance the wave!"
			//Line "{red}- Protect VIP Giant during the wave! VIP will Ignore Bomb!"
			//Line "{red}- VIP will ignore the bomb!"
			//Line "{blue}- 4 Giant Burst Buff Soldiers"
			//Line "{blue}- 1 Major Bomber"
			//Line "{blue}- Infinite Support: Steel Gauntlets"
			//Line "{red}- Lose all of the VIP results into a wave failure!"
			//Line "{}_____________________________"
        }
		// Dummy Wave
		//WaveSpawn
		//{
		//	WaitBeforeStarting 3
		//	FirstSpawnOutput
		//	{
		//		Target "start_wave3"
		//		Action Trigger
		//	}
		//}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "timer_w1_changer"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name tele_start_here
			FirstSpawnOutput
			{
				Target "hint_telethingy"
				Action Show
			}
		}
		WaveSpawn
		{
			Name start_this_instead
			FirstSpawnOutput
			{
				Target "objective_change_one"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name start_hudhint
			FirstSpawnOutput
			{
				Target "hudhintloop_wave"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name HeyDestroyBox
			WaitBeforeStarting 2
			FirstSpawnOutput
			{
				Target "hint_amplybox"
				Action Show
			}
		}
		WaveSpawn
		{
			Name YouLose
			WaitForAllDead blu_2
			//WaitBeforeStarting 2
			FirstSpawnOutput
			{
				Target "nuke_thingy"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name LastVIP
			WaitForAllSpawned blu_2
			FirstSpawnOutput
			{
				Target "hint_last_vip"
				Action Show
			}
		}
		WaveSpawn
		{
			Name ClosePitPlease
			WaitForAllSpawned c1_3
			FirstSpawnOutput
			{
				Target "wave_close_pit"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name OpenPitPlease
			WaitForAllDead stoopid_1
			FirstSpawnOutput
			{
				Target "wave_open_pit"
				Action Trigger
			}
		}
		// The "Randomguy" Sorting Icons
		WaveSpawn // Fake Icon 
        {
            Name z1_1
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon red2_lite}
        }
		WaveSpawn // Fake Icon 
        {
            Name z1_2
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon sentry_gun_lvl2_red_lite}
        }
		WaveSpawn // Faker
		{
			Name faker
            TotalCurrency 0
            TotalCount 1
			Support 1
            Where spawnbot
            WaitBeforeStarting 9999
            TFBot{Class scout Attributes AlwaysCrit ClassIcon amp_lite}
		}
		WaveSpawn // Infinite Burst Fire Demo
		{
			Name ninetynine_1
			WaitForAllSpawned c3_5
			TotalCurrency 0
			TotalCount 9999
			MaxActive 9
			SpawnCount 3
			Support 1
			Where mainspawn_left
			Where mainspawn_middle
			Where mainspawn_right
			WaitBeforeStarting 5
			WaitBetweenSpawns 7
			TFBot
			{
				Template T_TFBot_Red_Demo_Burst
				Skill Hard
				Item "The Black Watch"
				//Item "The Gaelic Golf Bag"
				Item "The Gaelic Garb"
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				//StripItemSlot 2
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Infinite Gmangler Soldier
		{
			Name ninetynine_2
			WaitForAllSpawned stoopid_1
			TotalCurrency 0
			TotalCount 9999
			MaxActive 2
			SpawnCount 1
			Support 1
			Where mainspawn_giant
			Where mannco_door
			WaitBeforeStarting 4
			WaitBetweenSpawns 26
			TFBot
			{
				Template T_TFBot_Red_Giant_Rapid_Mangler_Soldier
				//StripItemSlot 2
				FireWeapon
				{
					Delay 7
					Cooldown 18
					Repeats 0
					IfSeeTarget 1
					Duration 4
					Type "Secondary"
				}
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
                	"crit mod disabled" 0
					
            	}
			}
		}
		// Blu Support
		WaveSpawn // Steel Gauntlets
		{
			Name Blu_support_2
			TotalCurrency 0
			TotalCount 6
			MaxActive 3
			SpawnCount 1
			WaitBeforeStarting 8
			WaitBetweenSpawns 10
			Where spawnbot
			Where spawnbot_house
			Support 1
			TFBot
			{
				Template T_TFBot_Heavyweapons_Fist
				Item "The Siberian Sophisticate"
				Item "Pilotka"
				ClassIcon blu2_lite
				ItemAttributes
				{
					ItemName "Fists of Steel"
					//"damage causes airblast" 1
					"damage bonus" 1.5
				}	
				CharacterAttributes
				{
					
					
					"crit mod disabled" 0
				}
			}
		}
		WaveSpawn // Fake Icon
		{
			Name VIP
			TotalCurrency 0 
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 9999
			WaitBetweenSpawns 60
			support 1
			TFBot
			{
				Class Scout
				ClassIcon vip_blu
			}
		}
		WaveSpawn // GBanner Burst Soldier
		{
			Name blu_1
			TotalCurrency 0
			TotalCount 3
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 4
			WaitBetweenSpawns 3
			Support limited
			FirstSpawnWarningSound "vo/mvm/norm/soldier_mvm_dominationengineer03.mp3"
			//DoneWarningSound "vo/mvm/norm/soldier_mvm_paincrticialdeath01.mp3"
			FirstSpawnOutput
			{
				Target "vip_wave_three"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Burst_Banner_Soldier
						Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						Attributes IgnoreFlag
						Action Mobber [$SIGSEGV]
						ItemAttributes
						{
							ItemName "tf_weapon_rocketlauncher"
							"damage bonus" 2
							"fire rate bonus" 0.2
							"mod weapon blocks healing" 1
						}
						ItemAttributes
						{
							ItemName "The Buff Banner"
							"mod weapon blocks healing" 1
						}
						CharacterAttributes
						{
							"health regen" 30
							"deploy time increased" 0.5
							
							"health from healers reduced" 0.1
							"health from packs decreased" 0.1 
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}
		}
		WaveSpawn // GBanner Burst Soldier
		{
			Name blu_2
			WaitForAllDead blu_1
			TotalCurrency 0
			TotalCount 3
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 4
			WaitBetweenSpawns 3
			Support limited
			//FirstSpawnWarningSound "vo/mvm/norm/soldier_mvm_dominationengineer03.mp3"
			DoneWarningSound "vo/mvm/norm/soldier_mvm_paincrticialdeath01.mp3"
			FirstSpawnOutput
			{
				Target "vip_wave_three"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Burst_Banner_Soldier
						Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						Attributes IgnoreFlag
						Action Mobber [$SIGSEGV]
						ItemAttributes
						{
							ItemName "tf_weapon_rocketlauncher"
							"mod weapon blocks healing" 1
						}
						ItemAttributes
						{
							ItemName "The Buff Banner"
							"mod weapon blocks healing" 1
						}
						CharacterAttributes
						{
							"health regen" 30
							"deploy time increased" 0.5
							
							"health from healers reduced" 0.1
							"health from packs decreased" 0.1 
							
							"crit mod disabled" 0
						}
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 1000
							Type "Help"
						}
					}
				}
			}
		}
		WaveSpawn // Major Bomber
		{
			Name blu_3
			WaitForAllDead blu_2
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 4
			Support limited
			FirstSpawnWarningSound "vo/mvm/norm/demoman_mvm_dominationengineer01.mp3"
			DoneWarningSound "vo/mvm/norm/demoman_mvm_paincrticialdeath05.mp3"
			FirstSpawnOutput
			{
				Target "vip_wave_three_last"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Kinda_Metalbeard
						//Attributes UseBossHealthBar
						AlwaysGlow 1
						ClassIcon vip_blu
						Attributes IgnoreFlag
						Action Mobber [$SIGSEGV]
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 7
							Repeats 420
							IfHealthBelow 10000
							Type "Help"
						}
					}
				}
			}
		}
		// RED Main Wave
		WaveSpawn // Gburst Ranger Engi + GDirect Soldier
		{
			Name c1_1
			TotalCurrency 25
			TotalCount 2
			MaxActive 2
			SpawnCount 2
			Where factory_main
			WaitBeforeStarting 5
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Burst_Ranger_Engineer
					ClassIcon engineer_upgraded
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "count_cars"
				}
				TFBot
				{
					Template T_TFBot_Red_Giant_Direct_Soldier
					Attributes DisableDodge
					Tag bot_giant
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"damage force reduction" 0
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Gburst Ranger Engi + GDirect Soldier
		{
			Name c1_2
			TotalCurrency 25
			TotalCount 2
			MaxActive 2
			SpawnCount 2
			Where outside_middle
			WaitBeforeStarting 10
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Burst_Ranger_Engineer
					ClassIcon engineer_upgraded
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					SpawnTemplate "count_cars"
				}
				TFBot
				{
					Template T_TFBot_Red_Giant_Direct_Soldier
					Attributes DisableDodge
					Tag bot_giant
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"damage force reduction" 0
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // GFrontier Engineer
		{
			Name c1_3
			WaitForAllDead c1_1
			TotalCurrency 15
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where factory_main
			WaitBeforeStarting 6
			TFBot
			{
				Template T_TFBot_Red_Giant_Frontier_Justice_Engineer
				ClassIcon engineer_upgraded
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				SpawnTemplate "count_cars"
			}
		}
		WaveSpawn // GWidowmaker Engineer
		{
			Name c1_4
			WaitForAllDead c1_2
			TotalCurrency 15
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where outside_middle
			WaitBeforeStarting 6
			TFBot
			{
				Template T_TFBot_Red_Giant_Widowmaker_Engineer
				ClassIcon engineer_upgraded
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
				{
					
            	}
				SpawnTemplate "count_cars"
			}
		}
		WaveSpawn // GBattalion Soldier
		{
			Name c1_6
			WaitForAllDead c1_1
			TotalCurrency 15
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where factory_main
			WaitBeforeStarting 6
			TFBot
			{
				Template T_TFBot_Red_Giant_Direct_Soldier
				Attributes DisableDodge
				Tag bot_giant
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // GBattalion Soldier
		{
			Name c1_7
			WaitForAllDead c1_2
			TotalCurrency 15
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where stair_flank
			WaitBeforeStarting 6
			TFBot
			{
				Template T_TFBot_Red_Giant_Direct_Soldier
				Attributes DisableDodge
				Tag bot_giant
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Combo Enigneer
		{
			Name c1_8
			TotalCurrency 40
			TotalCount 8
			MaxActive 4
			SpawnCount 1
			Where factory_truck
			Where outside_middle
			WaitBeforeStarting 8
			WaitBetweenSpawns 8
			TFBot
			{
				Template T_TFBot_Red_Short_Combo_Engineer
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
           		{
					"cannot pick up intelligence" 1
               		"crit mod disabled" 0
					
           		}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 5
                    Repeats 1
					Type "Secondary"
				}
				FireWeapon [$SIGSEGV]  //Periodically fires weapon
                {
                    Delay 7
                    Repeats 1 
					IfSeeTarget 0
                    Duration 6 
					Type "Secondary" 
				}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 17
                    Repeats 1
					Type "Primary"
				}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 27
					Cooldown 15
                    Repeats 0
					Type "Secondary"
				}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 37
					Cooldown 10
                    Repeats 0
					Type "Primary"
				}
				FireWeapon [$SIGSEGV]  //Periodically fires weapon
                {
                    Delay 28
					Cooldown 10
                    Repeats 0 
					IfSeeTarget 1
                    Duration 8 
					Type "Secondary" 
				}
				SpawnTemplate "count_cars"
			}
		}
		WaveSpawn // Randomchoice Engineers
		{
			Name c1_9
			TotalCurrency 50
			TotalCount 24
			MaxActive 7
			SpawnCount 3
			Where stair_main
			Where stair_flank
			Where factory_main
			Where factory_truck
			waitbeforestarting 8
			WaitBetweenSpawns 4
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Red_Shotgun_Engineer
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars"
				}
				TFBot
				{
					Template T_TFBot_Red_Shotgun_Engineer
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars"
				}
				TFBot
				{
					Template T_TFBot_Red_Frontier_Justice_Engineer
					Attributes DisableDodge
					ClassIcon heavy_shotgun_red
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars"
				}
				TFBot
				{
					Template T_TFBot_Red_Frontier_Justice_Engineer
					Attributes DisableDodge
					ClassIcon heavy_shotgun_red
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars"
				}
				TFBot
				{
					Template T_TFBot_Red_Widowmaker_Engineer
					Attributes DisableDodge
					ClassIcon heavy_shotgun_red
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars"
				}
			}
		}
		WaveSpawn // Hybrid knight mk2
		{
			Name c1_10
            TotalCurrency 100
            TotalCount 32
			MaxActive 5
			SpawnCount 2
			waitbeforestarting 5
			WaitBetweenSpawns 6
			//Where factory_truck // They fall into the pit lmao
            Where outside_middle
			Where factory_main
			Where stair_main
            TFBot
			{
				Template T_TFBot_Red_Hybrid_Knight_mk2
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
           		{
					"cannot pick up intelligence" 1
               		"crit mod disabled" 0
					
           		}
			}
		}
		WaveSpawn // GRapid Soldier
		{
			Name c2_1
			WaitForAllDead c1_3
			TotalCurrency 50
			TotalCount 5
			MaxActive 2
			SpawnCount 1
			Where no_trespassing
			Where outside_middle_two 
			Where littlebarn_truck
			WaitBeforeStarting 7
			WaitBetweenSpawns 14
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Spammer
				Item "The War Pig"
				Item "The Man in Slacks"
				Attributes DisableDodge
				Action Mobber [$SIGSEGV]
				Tag bot_giant
				Addcond [$SIGSEGV] { Index 43 }
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Sticky Demo
		{
			Name c2_2
			WaitForAllSpawned c1_10
			TotalCurrency 75
			TotalCount 24
			MaxActive 9
			SpawnCount 4
			Where no_trespassing
			Where outside_middle_two 
			Where littlebarn_truck
			WaitBeforeStarting 12
			WaitBetweenSpawns 7
			TFBot
			{
				Template T_TFBot_Red_Sticky_Demoman
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Tomislav Heavy
		{
			Name c2_3
			WaitForAllSpawned c1_10
			TotalCurrency 75
			TotalCount 14
			MaxActive 5
			SpawnCount 2
			Where mannco_door
			Where no_trespassing
			Where outside_middle_two
			WaitBeforeStarting 12
			WaitBetweenSpawns 6
			TFBot
			{
				Class HeavyWeapons
				ClassIcon heavy_accurate_lite
				Skill Hard
				Name "Tomislav Heavy"
				Item "Tomislav"
				Item "The Siberian Sophisticate"
				//Item "The Mann of the House"
				Item "The Federal Casemaker"
				Attributes DisableDodge
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Rapid Bison Soldier
		{
			Name c2_4
			WaitForAllSpawned c1_8
			TotalCurrency 25
			TotalCount 16
			MaxActive 4
			SpawnCount 2
			Where mannco_door
			Where no_trespassing
			WaitBeforeStarting 5
			WaitBetweenSpawns 8
			TFBot
			{
				Template T_TFBot_Red_Bison_Soldier_v2
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
               		"crit mod disabled" 0
            	}
			}
		}
		WaveSpawn // GWidowmaker Engineer
		{
			Name c3_1
			WaitForAllSpawned c2_1
			TotalCurrency 60
			TotalCount 3
			MaxActive 2
			SpawnCount 1
			Where gate_door
			Where no_trespassing
			WaitBeforeStarting 7
			WaitBetweenSpawns 14
			TFBot
			{
				Template T_TFBot_Red_Giant_Widowmaker_Engineer
				ClassIcon engineer_upgraded
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				SpawnTemplate "powerup_logic_critbuff_recipient"
				SpawnTemplate "count_cars_two"
			}
		}
		WaveSpawn // GFrontier Engineer
		{
			Name c3_2
			WaitForAllDead c3_1
			TotalCurrency 40
			TotalCount 2
			MaxActive 2
			SpawnCount 2
			Where mainspawn_giant
			Where gate_door
			WaitBeforeStarting 5
			TFBot
			{
				Template T_TFBot_Red_Giant_Frontier_Justice_Engineer
				ClassIcon engineer_upgraded
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				SpawnTemplate "powerup_logic_critbuff_recipient"
				SpawnTemplate "count_cars_two"
			}
		}
		WaveSpawn // Boss Engineer
		{
			Name c3_3
			WaitForAllDead c3_2
			TotalCurrency 150
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Support limited
			Where near_hatch
			WaitBeforeStarting 3
			FirstSpawnWarningSound "vo/mvm/norm/engineer_mvm_dominationspy01.mp3"
			DoneWarningSound "vo/mvm/norm/engineer_mvm_paincriticaldeath02.mp3"
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						SpawnTemplate "powerup_logic_critbuff_recipient"
						Template T_TFBot_Red_Giant_Boss_Engineer
						//ClassIcon engineer_upgraded
						Attributes DisableDodge
						UseMeleeThreatPrioritization 1 [$SIGSEGV]
						AddCond [$SIGSEGV] { Index 52 Duration 3 }
					}
				}
			}
		}
		WaveSpawn // Count this one
		{
			Name stoopid_1
			WaitForAllDead c3_3
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where mainspawn_middle
			WaitBeforeStarting 3
			FirstSpawnWarningSound "vo/mvm/norm/engineer_mvm_dominationheavy09.mp3"
			TFBot
			{
				SpawnTemplate "count_cars_two"
				Name "Overcharged Plasma Voltage"
				ClassIcon engineer_upgraded
				Class Scout
				health 10
				Attributes MiniBoss
				Scale 0.01
				AddCond [$SIGSEGV] { Index 43 } 
				Action Mobber [$SIGSEGV]
				NoIdleSound 1 [$SIGSEGV]
				UseCustomModel "models/empty.mdl" 
				DeathSound "common/null.wav"
				CharacterAttributes
				{
					"is suicide counter" 10
				}
			}
		}
		WaveSpawn // Combo Enigneer
		{
			Name c3_4
			WaitForAllSpawned c2_2
			TotalCurrency 100
			TotalCount 8
			MaxActive 4
			SpawnCount 1
			Where mainspawn_giant
			Where gate_door
			WaitBeforeStarting 6
			WaitBetweenSpawns 8
			TFBot
			{
				SpawnTemplate "powerup_logic_critbuff_recipient"
				Template T_TFBot_Red_Short_Combo_Engineer
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
           		{
					"cannot pick up intelligence" 1
               		"crit mod disabled" 0
					
           		}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 5
                    Repeats 1
					Type "Secondary"
				}
				FireWeapon [$SIGSEGV]  //Periodically fires weapon
                {
                    Delay 7
                    Repeats 1 
					IfSeeTarget 0
                    Duration 6 
					Type "Secondary" 
				}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 17
                    Repeats 1
					Type "Primary"
				}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 27
					Cooldown 15
                    Repeats 0
					Type "Secondary"
				}
				WeaponSwitch [$SIGSEGV]  //Periodically switches weapon
                {
                    Delay 37
					Cooldown 10
                    Repeats 0
					Type "Primary"
				}
				FireWeapon [$SIGSEGV]  //Periodically fires weapon
                {
                    Delay 28
					Cooldown 10
                    Repeats 0 
					IfSeeTarget 1
                    Duration 8 
					Type "Secondary" 
				}
				SpawnTemplate "count_cars_two"
			}
		}
		WaveSpawn // Randomchoice Engineers
		{
			Name c3_5
			WaitForAllSpawned c2_2
			TotalCurrency 100
			TotalCount 40
			MaxActive 7
			SpawnCount 2
			Where mainspawn_middle
			Where fuel_door
			Where gate_door
			waitbeforestarting 7
			WaitBetweenSpawns 5
			RandomChoice
			{
				TFBot
				{
					SpawnTemplate "powerup_logic_critbuff_recipient"
					Template T_TFBot_Red_Shotgun_Engineer
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars_two"
				}
				TFBot
				{
					SpawnTemplate "powerup_logic_critbuff_recipient"
					Template T_TFBot_Red_Shotgun_Engineer
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars_two"
				}
				TFBot
				{
					SpawnTemplate "powerup_logic_critbuff_recipient"
					Template T_TFBot_Red_Burst_Panic_Engineer
					Attributes DisableDodge
					ClassIcon heavy_shotgun_red
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars_two"
				}
				TFBot
				{
					SpawnTemplate "powerup_logic_critbuff_recipient"
					Template T_TFBot_Red_Frontier_Justice_Engineer
					Attributes DisableDodge
					ClassIcon heavy_shotgun_red
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars_two"
				}
				TFBot
				{
					SpawnTemplate "powerup_logic_critbuff_recipient"
					Template T_TFBot_Red_Frontier_Justice_Engineer
					Attributes DisableDodge
					ClassIcon heavy_shotgun_red
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars_two"
				}
				TFBot
				{
					SpawnTemplate "powerup_logic_critbuff_recipient"
					Template T_TFBot_Red_Widowmaker_Engineer
					Attributes DisableDodge
					ClassIcon heavy_shotgun_red
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "count_cars_two"
				}
			}
		}
		WaveSpawn // GBurst Conch Soldier
		{
			Name c3_7
			WaitForAllSpawned c3_1
			TotalCurrency 50
			TotalCount 4
			MaxActive 2
			SpawnCount 1
			Where fuel_door
			Where gate_door
			Where mainspawn_giant
			WaitBeforeStarting 5
			WaitBetweenSpawns 24
			TFBot
			{
				SpawnTemplate "powerup_logic_critbuff_recipient"
				Template T_TFBot_Red_Giant_Soldier_Spammer_Reload
				Attributes DisableDodge
				Attributes SpawnWithFullCharge
				ClassIcon soldier_burstfire_conch
				Name "Giant Burst Conch Soldier"
				Item "Soldier Samurai Hat"
				Item "The Shogun's Shoulder Guard"
				//Item "The Man in Slacks"
				Item "The Concheror"
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"increase buff duration" 9
					"cannot pick up intelligence" 1
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Phlog Pyro
		{
			Name c3_8
			WaitForAllSpawned c2_3
			TotalCurrency 150
			TotalCount 24
			MaxActive 5
			SpawnCount 2
			Where gate_door
			Where mainspawn_giant
			Where mainspawn_left
			Where mainspawn_right
			WaitBeforeStarting 5
			WaitBetweenSpawns 8
			TFBot
			{
				SpawnTemplate "powerup_logic_critbuff_recipient"
				Class Pyro
				ClassIcon pyro_phlog
				Skill Expert
				Name "Phlogistinator Pyro"
				Item "The Bubble Pipe"
				Item "The Sub Zero Suit"
				Item "The Phlogistinator"
				Item "The Manmelter"
				//Item "The Third Degree"
				UseBestWeapon 1 [$SIGSEGV]
				Attributes DisableDodge
				Attributes SpawnWithFullCharge
				AddCond [$SIGSEGV] { Index 43 } 
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 52 Duration 1.5 }
				Tag bot_noteleport
				ItemAttributes
				{
					ItemName "The Phlogistinator"
					//"damage bonus" 2
					"airblast disabled" 0
				}
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
            	}
			}
		}
		WaveSpawn // Tokamak Heavy
		{
			Name c3_9
			WaitForAllSpawned c2_3
			TotalCurrency 25
			TotalCount 14
			MaxActive 5
			SpawnCount 2
			Where mainspawn_giant
			Where gate_door
			Where fuel_door
			WaitBeforeStarting 5
			WaitBetweenSpawns 8
			TFBot
			{
				Template T_TFBot_Red_Tokamak_Heavy
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
               		"crit mod disabled" 0
            	}
			}
		}
		WaveSpawn // Dummy
		{
			TotalCount 0
			SpawnCount 0
			WaitBeforeStarting 9999
			Where mainspawn_middle
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Class Scout
					}
				}
			}
		}
	}
	Wave // Wave 4
	{
		WaitWhenDone 65
		Checkpoint	Yes
        StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		SpawnTemplate "tank_thingy"
		Explanation [$SIGSEGV]
        {
            //Line "{EDEA15}-- CURRENT OBJECTIVE --"
			Line "{EDEA15}- Alternating the Objective! Switching to a Tank deployment!"
			Line "{blue}- Protect and Escort your tank!"
			Line "{red}- Failing to protect the Tanks results into a wave failure!"
			//Line "{red}- Certain RED Robots will now focus on the Tank!"
			//Line "{blue}- Giant Scouts will assist you during this wave."
			//Line "{blue}- Infinite Support: Giant Shortstop Scout, Giant Soda Scout, Major League Scout."
        }
		// pew pew
		SpawnTemplate "sentryblocker2_exp"
        // Dummy Wave
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "timer_w1_changer"
				Action Trigger
			}
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "disablebomb"
				Action Trigger
			}
		}
		//WaveSpawn
		//{
		//	WaitBeforeStarting 3
		//	FirstSpawnOutput
		//	{
		//		Target "start_wave4"
		//		Action Trigger
		//	}
		//}
		WaveSpawn
		{
			Name tele_start_here
			FirstSpawnOutput
			{
				Target "hint_telethingy"
				Action Show
			}
		}
		WaveSpawn
		{
			Name start_this_instead
			FirstSpawnOutput
			{
				Target "objective_change_two"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name start_hudhint
			FirstSpawnOutput
			{
				Target "hudhintloop_wave"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name ClosePitPlease
			WaitForAllSpawned d1_3
			FirstSpawnOutput
			{
				Target "wave_close_pit"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name OpenPitPlease
			WaitForAllDead d3_7
			FirstSpawnOutput
			{
				Target "wave_open_pit"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name disable_pitstop_one
			WaitForAllDead d1_3
			FirstSpawnOutput
			{
				Target "disable_pitstop_one"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name disable_pitstop_two
			WaitForAllDead d2_2
			FirstSpawnOutput
			{
				Target "disable_pitstop_two"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name disable_pitstop_three
			WaitForAllDead d3_1
			FirstSpawnOutput
			{
				Target "disable_pitstop_three"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name DisableThisShit
			FirstSpawnOutput
			{
				Target "disable_this_shit"
				Action Trigger
			}	
		}
		WaveSpawn
		{
			Name LastTank
			WaitForAllSpawned blutank_2
			FirstSpawnOutput
			{
				Target "hint_last_tank"
				Action Show
			}
		}
		WaveSpawn
		{
			Name YouLose
			WaitForAllDead blutank_2
			//WaitBeforeStarting 2
			FirstSpawnOutput
			{
				Target "nuke_thingy"
				Action Trigger
			}
		}
		// The "Randomguy" Sorting Icons
		WaveSpawn // Fake Icon 
        {
            Name z1_1
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon red2_lite}
        }
		WaveSpawn // Fake Icon 
        {
            Name z1_2
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon sentry_gun_lvl2_red_lite}
        }
		WaveSpawn // Infinite Heavy
		{
			Name ninetynine_1
			WaitForAllDead d2_3
			TotalCurrency 0
			TotalCount 9999
			MaxActive 7
			SpawnCount 2
			Support 1
			Where mainspawn_left
			Where mainspawn_middle
			Where mainspawn_right
			WaitBeforeStarting 7
			WaitBetweenSpawns 8
			TFBot
			{
				//Template T_TFBot_Carbine_Sniper
				Class HeavyWeapons
				Skill Normal
				Attributes DisableDodge
				//Item "Commissar's Coat"
				Item "Officer's Ushanka"
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
				}
				//FireWeapon [$SIGSEGV]  //Periodically fires weapon
                //{
                //    Delay 3 
                //    Cooldown 5 
                //    Repeats 0
				//	IfSeeTarget 1 
                //    Duration 0.1
				//	Type "Secondary" 
				//}
			}
		}
		WaveSpawn // Infinite Shortstop scout
		{
			Name ninetynine_2
			WaitForAllDead d3_2
			TotalCurrency 0
			TotalCount 9999
			MaxActive 4
			SpawnCount 2
			Support 1
			Where mainspawn_giant
			Where gate_door
			WaitBeforeStarting 4
			WaitBetweenSpawns 9
			TFBot
			{
				Template T_TFBot_Red_Scout_Shortstop
				Skill Normal
				Attributes DisableDodge
				Attributes IgnoreFlag
				Item "The Frenchman's Formals"
				//Item "The Cotton Head"
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
				}
			}
		}
		WaveSpawn // Infinite Giant Demo
		{
			Name ninetynine_3
			WaitForAllSpawned d3_1
			TotalCurrency 0
			TotalCount 9999
			MaxActive 2
			SpawnCount 1
			Support 1
			Where mainspawn_giant
			Where gate_door
			WaitBeforeStarting 7
			WaitBetweenSpawns 30
			TFBot
			{
				Template T_TFBot_Red_Giant_Demoman
				ClassIcon demo_spammer
				Attributes DisableDodge
				Item "The Chargin' Targe"
				//Item "The Razor Cut"
				Item "The Sub Zero Suit"
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				ItemAttributes
				{
					ItemName "TF_WEAPON_GRENADELAUNCHER"
					"faster reload rate" -0.4
					"fire rate bonus" 0.6
				}
				CharacterAttributes
            	{
					"damage force reduction" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		// Blu Support
		WaveSpawn // RandomChoice Giant Scout
		{
			Name blu_support_1
			TotalCurrency 0
			TotalCount 3
			MaxActive 3
			SpawnCount 1
			Where spawnbot
			Where spawnbot_house
			WaitBeforeStarting 3
			WaitBetweenSpawns 12
			Support 1
			Randomchoice
			{
				TFBot
				{
					Template T_TFBot_Giant_Milkman_Scout
					ClassIcon blu2_lite
					Attributes IgnoreFlag
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Cola_Popper_Scout
					ClassIcon blu2_lite
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Scout_Baseball
					ClassIcon blu2_lite
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Scout_Baseball
					ClassIcon blu2_lite
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
				}
			}
		}
		WaveSpawn // Tank
		{
			Name blutank_1
			Support limited
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 2
			FirstSpawnOutput
			{
				Target "vip_wave_four"
				Action Trigger
			}
			DoneOutput
			{
				Target "vip_tank_died"
				Action Trigger
			}
			Tank
			{
				Name "tank_boss_thingy"
				Health 110000
				Speed 105
				StartingPathTrackNode tank_path_a_1
				Skin 0	// Only Use Skin 1 as the final tank
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger                         
				}
			}
		}
		WaveSpawn // Tank
		{
			Name blutank_2
			WaitForAllDead blutank_1
			Support limited
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 3
			FirstSpawnOutput
			{
				Target "vip_wave_four_last"
				Action Trigger
			}
			DoneOutput
			{
				Target "vip_tank_died"
				Action Trigger
			}
			Tank
			{
				Name "tank_boss_thingy"
				Health 60000
				Speed 120
				StartingPathTrackNode tank_path_b_1
				Skin 0	// Only Use Skin 1 as the final tank
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger                         
				}
			}
		}
		WaveSpawn // Fake Icon
		{
			Name VIP
			TotalCurrency 0 
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 9999
			WaitBetweenSpawns 60
			support 1
			TFBot
			{
				Class Scout
				ClassIcon scout_giant
			}
		}
		// RED Main Wave
		WaveSpawn // GRapid Buff Soldier + meds
		{
			Name d1_1
			TotalCurrency 125
			TotalCount 16
			MaxActive 4
			SpawnCount 4
			WaitBeforeStarting 4
			WaitBetweenSpawns 18
			Where outside_middle
			Where stair_flank
			Where factory_main
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Soldier_Spammer
					Attributes DisableDodge
					Attributes SpawnWithFullCharge
					ClassIcon soldier_buff_spammer_giant
					Name "Giant Rapid Buff Soldier"
					Item "Tyrantium Helmet"
					Item "The Buff Banner"
					Tag bot_giant
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"increase buff duration" 9
						"damage force reduction" 0
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Naggenvatcher"
					//Item "Medical Monarch"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Naggenvatcher"
					//Item "Medical Monarch"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Naggenvatcher"
					//Item "Medical Monarch"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Punchie Gauntlet
		{
			Name d1_2
			TotalCurrency 69
			TotalCount 12
			MaxActive 6
			SpawnCount 2
			WaitBeforeStarting 8
			WaitBetweenSpawns 4
			Where outside_middle
			Where factory_main
			Where stair_flank
			TFBot
			{
				Template T_TFBot_Red_Combo_Gauntlet
				Attributes DisableDodge
				Attributes IgnoreFlag
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Punchie Gauntlet
		{
			Name d1_3
			WaitForAllSpawned d1_2
			TotalCurrency 131
			TotalCount 20
			MaxActive 9
			SpawnCount 3
			WaitBeforeStarting 4
			WaitBetweenSpawns 8
			Where outside_middle
			Where stair_flank
			Where factory_main
			TFBot
			{
				Template T_TFBot_Red_Combo_Gauntlet
				Attributes DisableDodge
				Attributes IgnoreFlag
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Not so Hybrid Knight
		{
			Name d1_4
			TotalCurrency 75
			TotalCount 36
			MaxActive 6
			SpawnCount 3
			WaitBeforeStarting 7
			WaitBetweenSpawns 6
			Where outside_middle
			Where factory_main
			Where stair_main
			Where stair_flank
			TFBot
			{
				Template T_TFBot_Red_Not_So_Hybrid_Knight
				Skill Hard
				Attributes DisableDodge
				//Item "The Ullapool Caber"
				AddCond [$SIGSEGV] { Index 52 Duration 1.5 }
				//StripItemSlot 2
				CharacterAttributes
            	{
					//"deploy time increased" 0.001
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
            	}
			}
		}
		WaveSpawn // Bazooka Homing Soldier
		{
			Name d1_5
			TotalCurrency 50
			TotalCount 18
			MaxActive 5
			SpawnCount 2
			WaitBeforeStarting 10
			WaitBetweenSpawns 5
			Where outside_middle
			Where factory_stairs
			TFBot
			{
				Template T_TFBot_Red_Bazooka_Homing_Soldier
				Attributes DisableDodge
				ExtAttr IgnoreNPC [$SIGSEGV] // Ignores Tank
				UseMeleeThreatPrioritization 1 [$SIGSEGV]
				AddCond [$SIGSEGV] { name TF_COND_SODAPOPPER_HYPE }
            	RocketCustomParticle eyeboss_projectile
				StripItemSlot 2
           		HomingRockets [$SIGSEGV]
				{
                	Enable 1
					IgnoreDisguisedSpies 1
					IgnoreStealthedSpies 1
					RocketSpeed 0.65 // Multiplier of rocket speed. 1 for default speed
					TurnPower 45 //How fast should the rocket rotate to face the target=
					MaxAimError 90 //Max angle between rocket and the target
                	AimTime 2 //How long should the rocket be aiming (Default: 9999)
				}
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Gburst shotgun Heavy + Kritz meds
		{
			Name d2_1
			WaitForAllSpawned d1_1
			TotalCurrency 150
			TotalCount 12
			MaxActive 4
			SpawnCount 4
			Where outside_middle_two
			Where no_trespassing
			Where littlebarn_truck
			WaitBeforeStarting 8
			WaitBetweenSpawns 22
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Burstshotgun_Heavy
					ClassIcon heavy_shotgun_red_burst
					Attributes DisableDodge
					Tag bot_giant
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
            		AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"damage force reduction" 0
						"cannot pick up intelligence" 1
						"voice pitch scale" 0
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Armoured_Kritz_Medic
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Armoured_Kritz_Medic
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Armoured_Kritz_Medic
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Gcombo Pyro
		{
			Name d2_2
			WaitForAllSpawned d1_1
			TotalCurrency 200
			Totalcount 6
			MaxActive 2
			SpawnCount 1
			Where mannco_door
			Where littlebarn_truck
			Where no_trespassing
			WaitBeforeStarting 7
			WaitBetweenSpawns 14
			TFBot
			{
				Template T_TFBot_Red_Giant_Combo_Pyro
				Attributes IgnoreFlag
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
                	"crit mod disabled" 0
            	}
			}
		}
		WaveSpawn // Burst Mortar Demo 
		{
			Name d2_3
			WaitForAllSpawned d1_4
			TotalCurrency 125
			Totalcount 36
			MaxActive 9
			SpawnCount 3
			Where outside_middle_two
			Where no_trespassing
			Where littlebarn_truck
			Where mannco_door
			WaitBeforeStarting 8
			WaitBetweenSpawns 6
			TFBot
			{
				Template T_TFBot_Red_Demoman
				ClassIcon demo_burst_red
				Name "Burst Mortar Demoman"
				//Attributes IgnoreFlag
				Attributes DisableDodge
				AimLeadProjectileSpeed 1513 [$SIGSEGV]
				AimAt Body [$SIGSEGV]
				Item "Tartan Tyrolean"
				Item "The Juggernaut Jacket"
				Item "The Loch-n-Load"
				ItemAttributes
				{
					ItemName "The Loch-n-Load"
					"damage bonus" 1.2
					"dmg bonus vs buildings" 1
					"grenade explode on impact" 1
					"sticky air burst mode" 0
					"faster reload rate" 1.75 // Wtf
					"fire rate bonus" 0.05
					"projectile spread angle penalty" 3
				}
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // GRapid Stun Soldier + Uber med
		{
			Name d3_1
			WaitForAllSpawned d2_2
            TotalCurrency 240
            TotalCount 12
			MaxActive 8
			SpawnCount 4
            Where mainspawn_giant
			Where gate_door
			WaitBeforeStarting 12
			WaitBetweenSpawns 24
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Spammer_Stun_Soldier
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"voice pitch scale" 0
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Naggenvatcher"
					//Item "Medical Monarch"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Naggenvatcher"
					//Item "Medical Monarch"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_QuickUber
					Item "Das Naggenvatcher"
					//Item "Medical Monarch"
					Attributes IgnoreFlag
					Attributes IgnoreEnemies
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Gdeflector Heavy
		{
			Name d3_1
			WaitForAllSpawned d2_2
			TotalCurrency 175
			Totalcount 3
			MaxActive 2
			SpawnCount 1
			Where mainspawn_giant
			Where gate_door
			WaitBeforeStarting 16
			WaitBetweenSpawns 14
			TFBot
			{
				Template T_TFBot_Red_Giant_Heavyweapons_Deflector
				Item "The Mann of the House"
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
					"voice pitch scale" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Funny Player
		{
			Name d3_2
			WaitForAllSpawned d2_2
			TotalCurrency 10
			Totalcount 1
			MaxActive 1
			SpawnCount 1
			Where mainspawn_left
			WaitBeforeStarting 8
			TFBot
			{
				Template T_TFBot_Red_Player_Scout
				AlwaysGlow 1
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				DeathSound "mvm\mvm_player_died.wav"
			}
		}
		WaveSpawn // Funny Player
		{
			Name d3_2
			WaitForAllSpawned d2_2
			TotalCurrency 10
			Totalcount 1
			MaxActive 1
			SpawnCount 1
			Where mainspawn_right
			WaitBeforeStarting 8
			TFBot
			{
				Template T_TFBot_Red_Player_Engineer
				AlwaysGlow 1
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				DeathSound "mvm\mvm_player_died.wav"
			}
		}
		WaveSpawn // Funny Player
		{
			Name d3_2
			WaitForAllSpawned d2_2
			TotalCurrency 10
			Totalcount 1
			MaxActive 1
			SpawnCount 1
			Where mainspawn_left
			Where mainspawn_right
			WaitBeforeStarting 8
			TFBot
			{
				Template T_TFBot_Red_Player_Pyro
				AlwaysGlow 1
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				DeathSound "mvm\mvm_player_died.wav"
			}
		}
		WaveSpawn // Funny Player
		{
			Name d3_2
			WaitForAllSpawned d2_2
			TotalCurrency 10
			Totalcount 1
			MaxActive 1
			SpawnCount 1
			Where mainspawn_middle
			WaitBeforeStarting 8
			TFBot
			{
				Template T_TFBot_Red_Player_Soldier
				AlwaysGlow 1
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				DeathSound "mvm\mvm_player_died.wav"
			}
		}
		WaveSpawn // Funny Player
		{
			Name d3_2
			WaitForAllSpawned d2_2
			TotalCurrency 20
			Totalcount 2
			MaxActive 2
			SpawnCount 2
			Where mainspawn_middle
			WaitBeforeStarting 8
			Squad
			{
				ShouldPreserveSquad 1
				TFBot
				{
					Template T_TFBot_Red_Player_Heavy
					AlwaysGlow 1
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					DeathSound "mvm\mvm_player_died.wav"
				}
				TFBot
				{
					Template T_TFBot_Red_Player_Medic
					AlwaysGlow 1
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					DeathSound "mvm\mvm_player_died.wav"
				}
			}
		}
		WaveSpawn // Dummy
		{
			TotalCount 0
			SpawnCount 0
			WaitBeforeStarting 9999
			Where mainspawn_middle
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Class Scout
					}
				}
			}
		}
	}
	Wave // Wave 5 UBER TANK
	{
		WaitWhenDone	65
		Checkpoint	Yes
        StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		// Amplyboxes
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "2296.2 -2044.45 -389.31"
			Angles "0 270 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "1098.24 -2351.47 -383.84"
			Angles "0 270 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "1340.43 -1252.5 -386"
			Angles "0 215 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "704 -448 -287.7"
			Angles "0 180 0"
		}
		//Spawntemplate
		//{
		//	Name "another_amplybox"
		//	Origin "1941.56 -1049.82 -103.7"
		//	Angles "0 90 0"
		//}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-10 -860 -255.7"
			Angles "0 270 0"
		}
		//Spawntemplate
		//{
		//	Name "another_amplybox"
		//	Origin "1623.78 -585.065 -118.208"
		//	Angles "0 0 0"
		//}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-238.846 282.884 -287.7"
			Angles "0 180 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "1273 261 -302.01"
			Angles "0 180 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-1030 2280 -32"
			Angles "0 270 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-65 1575 -240"
			Angles "0 180 0"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "550 2280 -48"
			Angles "6 180 -5"
		}
		Spawntemplate
		{
			Name "another_amplybox"
			Origin "-1300 1028 -32.4605"
			Angles "0 270 0"
		}
		// pew pew
		//SpawnTemplate "sentryblocker3"
		SpawnTemplate "tank_thingy"
		SpawnTemplate "ubertank"
		SpawnTemplate "cutscenetank"
		Explanation [$SIGSEGV]
        {
			Line "{EDEA15}-- WARNING! --"
			Line "{red}- Detected another set of their Amplifiers on the area!"
			//Line "{red}- RED Robots will do everything to stop the Tank!"
			//Line "{blue}- Fortunately BLU Engineers have implemented an Uber Tank."
			Line "{blue}- Fortunately, We can deploy {red}1 Prototype {blue} Uber Tank."
			//Line "{red}- Do Not lose that Prototype Tank! Failure is not an Option."
			Line "{blue}- The Tank is powered by the Chieftain Heavy Transmitter."
			Line "{blue}- He will assist you, {red}but losing him deactivates the Uber!"
        }
		// Dummy Wave
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "timer_w1_changer"
				Action Trigger
			}
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "disablebomb"
				Action Trigger
			}
		}
		WaveSpawn
		{
			WaitBeforeStarting 17
			FirstSpawnOutput
			{
				Target "start_wave5"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name start_this_instead
			WaitBeforeStarting 15
			FirstSpawnOutput
			{
				Target "objective_change_two"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name start_hudhint
			WaitBeforeStarting 15
			FirstSpawnOutput
			{
				Target "hudhintloop_wave"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name ClosePitPlease
			WaitForAllSpawned e1_1
			FirstSpawnOutput
			{
				Target "wave_close_pit"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name OpenPitPlease
			WaitForAllDead e3_3
			FirstSpawnOutput
			{
				Target "wave_open_pit"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name tank_thingy_again
			FirstSpawnOutput
			{
				Target "tank_cutscene"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name DisableThisShit
			FirstSpawnOutput
			{
				Target "disable_this_shit"
				Action Trigger
			}	
		}
		WaveSpawn
		{
			Name engi_nearing_my_fucking_limit
			WaitForAllSpawned blutank_1
			FirstSpawnOutput
			{
				Target "im_fucking_invincible"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name doktor_turn_off_my_pain_inhibitors
			WaitForAllDead what_this_is_madness_you
			//FirstSpawnWarningSound "player\invulnerable_off.wav"
			FirstSpawnOutput
			{
				Target "do_it"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name disable_pitstop_one
			WaitForAllDead e1_3
			FirstSpawnOutput
			{
				Target "disable_pitstop_one"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name disable_pitstop_two
			WaitForAllDead e2_3
			FirstSpawnOutput
			{
				Target "disable_pitstop_two"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name disable_pitstop_three
			WaitForAllDead e3_1
			FirstSpawnOutput
			{
				Target "disable_pitstop_three"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name YouLose
			WaitForAllDead blutank_1
			FirstSpawnOutput
			{
				Target "nuke_thingy"
				Action Trigger
			}
		}
		// The "Randomguy" Sorting Icons
		WaveSpawn // Fake Icon 
        {
            Name z1_1
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon red2_lite}
        }
		WaveSpawn // Faker
		{
			Name faker
            TotalCurrency 0
            TotalCount 1
			Support 1
            Where spawnbot
            WaitBeforeStarting 9999
            TFBot{Class scout Attributes AlwaysCrit ClassIcon amp_lite}
		}
		WaveSpawn // Infinite Demo/Soldier
		{
			Name ninetynine_2
			WaitForAllSpawned e3_2
			TotalCurrency 0
			TotalCount 9999
			MaxActive 9
			SpawnCount 3
			Support 1
			Where mainspawn_middle
			Where mainspawn_left
			Where mainspawn_right
			WaitBeforeStarting 4
			WaitBetweenSpawns 7
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Red_Soldier
					ClassIcon soldier_and_demo
					Attributes DisableDodge
					Item "Full Metal Drill Hat"
					//Item "The Man in Slacks"
					//Item "Fancy Dress Uniform"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Soldier
					ClassIcon soldier_and_demo
					Attributes DisableDodge
					Item "Full Metal Drill Hat"
					//Item "The Man in Slacks"
					//Item "Fancy Dress Uniform"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Soldier
					Name "Direct Hit Soldier"
					Skill Expert
					ClassIcon soldier_and_demo
					Attributes DisableDodge
					Item "The Direct Hit"
					Item "Tyrantium Helmet"
					//Item "The Man in Slacks"
					//Item "Fancy Dress Uniform"
					AimAt Feet [$SIGSEGV]
					AimLeadProjectileSpeed 1980
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Soldier
					ClassIcon soldier_and_demo
					Skill Expert
					Name "Burst Fire Soldier"
					Attributes DisableDodge
					Attributes HoldFireUntilFullReload
					Item "Full Metal Drill Hat"
					//Item "The Man in Slacks"
					//Item "Fancy Dress Uniform"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					ItemAttributes
           			{
                		ItemName "TF_WEAPON_ROCKETLAUNCHER"
                		"faster reload rate" 0.6
                		"fire rate bonus" 0.2
                		"clip size upgrade atomic" 5
            		}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Demoman
					Skill Hard
					ClassIcon soldier_and_demo
					Attributes DisableDodge
					Item "The Sub Zero Suit"
					//Item "The Tundra Top"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Demoman
					Skill Hard
					ClassIcon soldier_and_demo
					Attributes DisableDodge
					Item "The Sub Zero Suit"
					//Item "The Tundra Top"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Demoman
					Name "Chargin Demo"
					Skill Expert
					ClassIcon soldier_and_demo
					Attributes DisableDodge
					Attributes HoldFireUntilFullReload
					Item "The Chargin' Targe"
					//Item "The Razor Cut"
					Item "The Sub Zero Suit"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					ItemAttributes
                	{
                 		ItemName "The Chargin' Targe"
                    	"charge recharge rate increased" 2
                	}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Red_Demo_Burst
					ClassIcon soldier_and_demo
					Attributes DisableDodge
					Item "The Sub Zero Suit"
					//Item "The Tundra Top"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
			}
		}
		WaveSpawn // Infinite Giant Heavy
		{
			Name ninetynine_1
			WaitForAllSpawned e3_1
			TotalCurrency 0
			TotalCount 9999
			MaxActive 2
			SpawnCount 1
			Support 1
			Where mainspawn_giant
			Where gate_door
			Where fuel_door
			WaitBeforeStarting 8
			WaitBetweenSpawns 22
			TFBot
			{
				Template T_TFBot_Red_Giant_Heavyweapons
				Item "The Heavy Artillery Officer's Cap"
				Item "The Mann of the House"
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"damage force reduction" 0
					"cannot pick up intelligence" 1
					"voice pitch scale" 0
                	"crit mod disabled" 0
					
            	}
			}
		}
		// Blu Support
		WaveSpawn // Random Banner Soldier
		{
			Name blu_support_1 
			TotalCurrency 0
			TotalCount 3
			MaxActive 2
			SpawnCount 1
			Where spawnbot
			Where spawnbot_house
			Support 1
			WaitBeforeStarting 50
			WaitBetweenSpawns 18
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Extended_Buff_Banner
					ClassIcon blu2_lite
					Attributes IgnoreFlag
					Action Mobber [$SIGSEGV]
					//Item "The Diplomat"
					Item "Tyrantium Helmet"
					CharacterAttributes
					{
						"deploy time increased" 0.5
						"health from packs decreased" 0.4 
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Extended_Buff_Banner
					ClassIcon blu2_lite
					Attributes IgnoreFlag
					Action Mobber [$SIGSEGV]
					//Item "The Diplomat"
					Item "Tyrantium Helmet"
					CharacterAttributes
					{
						"deploy time increased" 0.5
						"health from packs decreased" 0.4 
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Extended_Buff_Banner
					ClassIcon blu2_lite
					Attributes IgnoreFlag
					Action Mobber [$SIGSEGV]
					//Item "The Diplomat"
					Item "Tyrantium Helmet"
					CharacterAttributes
					{
						"deploy time increased" 0.5
						"health from packs decreased" 0.4 
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Extended_Concheror
					ClassIcon blu2_lite
					Attributes IgnoreFlag
					Action Mobber [$SIGSEGV]
					Item "Soldier Samurai Hat"
					//Item "The Shogun's Shoulder Guard"
					CharacterAttributes
					{
						"deploy time increased" 0.5
						"health from packs decreased" 0.4 
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Extended_Concheror
					ClassIcon blu2_lite
					Attributes IgnoreFlag
					Action Mobber [$SIGSEGV]
					Item "Soldier Samurai Hat"
					//Item "The Shogun's Shoulder Guard"
					CharacterAttributes
					{
						"deploy time increased" 0.5
						"health from packs decreased" 0.4 
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Extended_Battalion
					ClassIcon blu2_lite
					Attributes IgnoreFlag
					Action Mobber [$SIGSEGV]
					//Item "Fancy Dress Uniform"
					Item "Armored Authority"
					CharacterAttributes
					{
						"deploy time increased" 0.5
						"health from packs decreased" 0.4 
					}
				}
			}
		}
		WaveSpawn // Gshotgun heavy
		{
			Name blu_support_2
			Support 1
			TotalCurrency 0
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			Where spawnbot_house
			WaitBeforeStarting 60
			WaitBetweenSpawns 12
			TFBot
			{
				Template T_TFBot_Giant_Heavyweapons_Shotgun_Normal
				ClassIcon blu2_lite
				Attributes IgnoreFlag
				Action Mobber [$SIGSEGV]
				CharacterAttributes
				{
					"crit mod disabled" 0
				}
			}
		}
		WaveSpawn // Uber Tank
		{
			Name blutank_1
			Support limited
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 12
			FirstSpawnWarningSound "player\invulnerable_on.wav"
			FirstSpawnOutput
			{
				Target "vip_wave_five"
				Action Trigger
			}
			Tank
			{
				Classicon tank_uber_lite
				Name "tank_boss_thingy"
				Health 25000
				Speed 55
				StartingPathTrackNode tank_path_a_1
				Skin 2
				Model "models/bots/boss_bot/boss_tank_ubered.mdl"
				OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger                         
				}
				SpawnTemplate "sillyhat_tank"
			}
		}
		WaveSpawn // Chieftain Heavy
		{
			Name what_this_is_madness_you
            TotalCurrency 0
            TotalCount 1
			MaxActive 1
			SpawnCount 1
			Support limited
            Where spawnbot_giant
            WaitBeforeStarting 12
			DoneWarningSound "player\invulnerable_off.wav"
			DoneOutput
			{
				Target "vip_wave_five_last"
				Action Trigger
			}
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Template T_TFBot_Giant_Chieftain_Atomic_Heavy
						AlwaysGlow 1
						ClassIcon vip_blu
						Attributes IgnoreFlag
						Action Mobber [$SIGSEGV]
						VoiceCommand [$SIGSEGV]  //Periodacally uses voice commands
						{
							Delay 0 
							Cooldown 15
							Repeats 420
							IfHealthBelow 20000
							Type "Help"
						}
						Message //Displays message in the chat
						{
							Name "{blue}TRANSMITTING UBER TO TANK: ACTIVE" //Message in the chat displayed
							Delay 0 //Time before the message is first displayed (Default: 10)
							Repeats 1 //How many times should bot display the message (Default: 0 - Infinite)
						}
						InterruptAction // Stop current bot ai and force the bot to move to a location
						{
							Target "1200 -1925 -305"
							Delay 1 // Time before the first task starts (Default: 10)
							Repeats 1 // How many times should bot do the task in total (Default: 0 - Infinite)
							Cooldown 1 //Time between each task (Default: 10)
							Duration 180 // How long should the ai be interrupted
							WaitUntilDone 1
						}
						InterruptAction // Stop current bot ai and force the bot to move to a location
						{
							Target "-165 230 -210"
							Delay 190 // Time before the first task starts (Default: 10)
							Repeats 1 // How many times should bot do the task in total (Default: 0 - Infinite)
							Cooldown 1 //Time between each task (Default: 10)
							Duration 180 // How long should the ai be interrupted
							WaitUntilDone 1
						}
					}
				}
			}		
		}
		// RED Main Wave
		WaveSpawn // Yet Another Tank!
		{
			Name e1_1
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 1
			Tank
			{
				ClassIcon tank_red_drill_lite
				Name "reddrilltank"
				Health 24000
				Speed 0
				TeamNum 2
				Skin 1
				Model "models/bots/boss_bot/boss_tankred.mdl" 
				SpawnTemplate "drilltank"
				StartingPathTrackNode "red_tank_path_drill_1"
				OnBombDroppedOutput
				{
					Target "nuke_thingy"
					Action Trigger
				}
			}
		}
		WaveSpawn // Yet Another blimp!
		{
			Name e1_2
			//WaitForAllDead e1_1
            TotalCurrency 0
            TotalCount 1
			MaxActive 1
			SpawnCount 1
            WaitBeforeStarting 6
			FirstSpawnWarningSound "ambient_mp3/alarms/doomsday_lift_alarm.mp3"
			Tank
			{
				ClassIcon blimp2_red_rocket_lite_2
				Name "redreocketblimp"
				Health 20000
				Speed 50
				TeamNum 2
				Skin 6
				MaxTurnRate 15
				Gravity 0
				DisableSmokestack 1
				DisableTracks 1
				ReplaceModelCollisions 1  
				DisableChildModels 1  
				EngineLoopSound "npc\combine_gunship\dropship_engine_distant_loop1.wav"  
				PingSound "npc\combine_gunship\ping_search.wav"
				Model "models/bots/boss_bot/boss_blimp.mdl"
				SpawnTemplate "rocketblimp"
				StartingPathTrackNode "blimp_path_b_1"
				OnBombDroppedOutput
				{
					Target "nuke_thingy"
					Action Trigger
				}
			}
		}
		WaveSpawn // Gburst Demo + king meds
		{
			Name e1_3
			WaitForAllSpawned e1_2
			TotalCurrency 100
			TotalCount 16
			MaxActive 4
			SpawnCount 4
			WaitBeforeStarting 14
			WaitBetweenSpawns 12
			Where gate_door
			Where fuel_door
			Where outside_middle_two
			Squad
			{
				FormationSize 300
				TFBot
				{
					Template T_TFBot_Red_Giant_Demo_Burst
					Item "The Razor Cut"
					Item "The Sub Zero Suit"
					ClassIcon demo_burst_red
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 43 }
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"damage force reduction" 0
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_target"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_kingmaker
					Attributes IgnoreFlag
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_kingmaker
					Attributes IgnoreFlag
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_kingmaker
					Attributes IgnoreFlag
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
			}
		}
		WaveSpawn // Illegal Scout
		{
			Name e1_4
			WaitForAllSpawned e1_2
			TotalCurrency 40
			TotalCount 6
			MaxActive 6
			SpawnCount 6
			Where outside_middle_two
			WaitBeforeStarting 8
			//WaitBetweenSpawns 12
			TFBot
			{
				Template T_TFBot_Red_Giant_Threeruneblade_Scout
				Attributes DisableDodge
				ExtAttr IgnoreNPC
				ExtAttr IgnoreBuildings
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_target"
			}		
		}
		WaveSpawn // Direct hit Soldier
		{
			Name e1_5
			WaitForAllSpawned e1_2
			TotalCurrency 125
			TotalCount 28
			MaxActive 5
			SpawnCount 2
			Where no_trespassing
			Where mannco_door
			Where outside_middle_two
			WaitBeforeStarting 12
			WaitBetweenSpawns 7
			TFBot
			{
				Class Soldier
				ClassIcon soldier_directhit_lite
				Name "Direct Hit Soldier"
				Skill Hard
				Item "Tyrantium Helmet"
				Item "The Direct Hit"
				Attributes DisableDodge
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 1.5 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
            	}
				SpawnTemplate "powerup_logic_target"
			}
		}
		WaveSpawn // Dragon Pyro
		{
			Name e1_6
			WaitForAllSpawned e1_2
			TotalCurrency 25
			TotalCount 36
			MaxActive 7
			SpawnCount 3
			WaitBeforeStarting 12
			WaitBetweenSpawns 8
			Where mannco_door
			Where littlebarn_truck
			Where outside_middle_two
			TFBot
			{
				Template T_TFBot_Red_Dragon_Pyro
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_target"
			}
		}
		WaveSpawn // Illegal Scout
		{
			Name e1_7
			WaitForAllDead e1_4
			TotalCurrency 35
			TotalCount 6
			MaxActive 6
			SpawnCount 6
			Where gate_door
			WaitBeforeStarting 12
			//WaitBetweenSpawns 12
			TFBot
			{
				Template T_TFBot_Red_Giant_Threeruneblade_Scout
				Attributes DisableDodge
				ExtAttr IgnoreNPC
				ExtAttr IgnoreBuildings
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_target"
			}		
		}
		WaveSpawn // Illegal Scout
		{
			Name e2_1
			WaitForAllSpawned e1_3
			TotalCurrency 50
			TotalCount 12
			MaxActive 4
			SpawnCount 2
			Where mainspawn_giant
			Where gate_door
			Where littlebarn_truck
			WaitBeforeStarting 18
			WaitBetweenSpawns 16
			TFBot
			{
				Template T_TFBot_Red_Giant_Threeruneblade_Scout
				Attributes DisableDodge
				ExtAttr IgnoreNPC
				ExtAttr IgnoreBuildings
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_target"
			}
		}
		WaveSpawn // GHoK Heavy 
		{
			Name e2_1
			WaitForAllSpawned e1_5
			TotalCurrency 25
			TotalCount 3
			MaxActive 2
			SpawnCount 1
			Where no_trespassing
			Where mannco_door
			Where littlebarn_truck
			WaitBeforeStarting 6
			WaitBetweenSpawns 16
			TFBot
			{
				Template T_TFBot_Red_Giant_Heavyweapons_HealOnKill
				//Item "The Sandvich Safe"
				Attributes DisableDodge
				ExtAttr IgnoreNPC
				ExtAttr IgnoreBuildings
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				ItemAttributes
				{
					ItemName "Deflector"
					"heal on kill" 2500
				}
				CharacterAttributes
            	{
					"damage force reduction" 0
                	"crit mod disabled" 0
            	}
				SpawnTemplate "powerup_logic_target"
			}
		}
		WaveSpawn // Conch Samurai Demo 
		{
			Name e2_2
			WaitForAllSpawned e1_3
			TotalCurrency 100
			TotalCount 14
			MaxActive 5
			SpawnCount 2
			WaitBeforeStarting 12
			WaitBetweenSpawns 8
			Where mainspawn_giant
			Where gate_door
			TFBot
			{
				Template T_TFBot_Red_Demoman_Samurai
				ClassIcon soldier_samurai_conch
				Name "Conch Samurai Demo"
				Attributes DisableDodge
				Attributes SpawnWithFullCharge
				Item "Mann of the Seven Sees"
				Item "The Concheror"
				ItemAttributes
				{
					ItemName "The Half-Zatoichi"
					"honorbound" 0
				}
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"deploy time decreased" 0.5
					"increase buff duration" 9
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Burst shotgun heavies
		{
			Name e2_3
			WaitForAllSpawned e1_5
			TotalCurrency 100
			TotalCount 28
			MaxActive 8
			SpawnCount 4
			Where littlebarn_truck
			Where no_trespassing
			Where mannco_door
			Where fuel_door
			WaitBeforeStarting 8
			WaitBetweenSpawns 6
			TFBot
			{
				Template T_TFBot_Red_Burst_Shotgun_Heavy
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
            	}
			}
		}
		WaveSpawn // Colonel barrage + King meds
		{
			Name e3_1
			WaitForAllSpawned e2_1
			TotalCurrency 150
			TotalCount 12
			MaxActive 8
			SpawnCount 4
			Where mainspawn_giant
			Where gate_door
			WaitBeforeStarting 7
			WaitBetweenSpawns 16
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_SlowBarrage
					Item "The Diplomat"
					Item "The Patriot Peak"
					//Item "The Man in Slacks"
					Tag bot_giant
					Attributes DisableDodge
					Action Mobber [$SIGSEGV]
					Addcond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
						"voice pitch scale" 0
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_target"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_kingmaker
					Attributes IgnoreFlag
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_kingmaker
					Attributes IgnoreFlag
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
				TFBot
				{
					Template T_TFBot_Red_Medic_kingmaker
					Attributes IgnoreFlag
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
			}
		}
		WaveSpawn // GBrass Heavy + Also gmed
		{
			Name e3_1
			WaitForAllSpawned e2_1
			TotalCurrency 200
			TotalCount 4
			MaxActive 2
			SpawnCount 2
			Where mainspawn_giant
			WaitBeforeStarting 4
			WaitBetweenSpawns 12
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Heavyweapons_BrassBeast
					ClassIcon heavy_brass_nys
					Attributes DisableDodge
					ExtAttr IgnoreNPC // Keep
					Item "The Eliminators Safeguard"
					Item "Combat Slacks"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					ItemAttributes
					{
						ItemName "The Brass Beast"
						"damage bonus"	1.7
					}
					CharacterAttributes
            		{
						"damage force reduction" 0
						"cannot pick up intelligence" 1
						"voice pitch scale" 0
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_target"
				}
				TFBot
				{
					Template T_TFBot_Red_Giant_Medic
					Attributes DisableDodge
					Attributes IgnoreEnemies
					Item "Field Practice"
					Item "Medical Monarch"
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					CharacterAttributes
            		{
						"damage force reduction" 0
                		"crit mod disabled" 0
						
            		}
					//SpawnTemplate "powerup_logic_medic"
				}
			}
		}
		WaveSpawn // Deflector Heavy
		{
			Name e3_2
			WaitForAllSpawned e2_3
			TotalCurrency 75
			TotalCount 24
			MaxActive 6
			SpawnCount 2
			Where mainspawn_middle
			Where mainspawn_left
			Where mainspawn_right
			waitbeforestarting 7
			WaitBetweenSpawns 5
			TFBot
			{
				Class Heavy
				ClassIcon heavy_deflector
				Skill Hard
				Name "Deflector Heavy"
				Item "The U-clank-a"
				//Item "Commissar's Coat"
				Item "Deflector"
				Attributes DisableDodge
				MaxVisionRange 1200
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 }
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				ItemAttributes
				{
					ItemName "Deflector"
					"attack projectiles" 1	// force ability to shoot down projectiles
				}
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_target"
			}
		}
		WaveSpawn // Rapid Bison Soldier
		{
			Name e3_3
			WaitForAllSpawned e2_3
			TotalCurrency 75
			TotalCount 16
			MaxActive 4
			SpawnCount 1
			Where gate_door
			Where mainspawn_giant
			WaitBeforeStarting 6
			WaitBetweenSpawns 14
			TFBot
			{
				SpawnTemplate "powerup_logic_target"
				Template T_TFBot_Red_Bison_Soldier_v2
				Skill Expert
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
           		{
					"cannot pick up intelligence" 1
            		"crit mod disabled" 0
           		}
			}	
		}
		WaveSpawn // Dummy
		{
			TotalCount 0
			SpawnCount 0
			WaitBeforeStarting 9999
			Where mainspawn_middle
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Class Scout
					}
				}
			}
		}
	}
	Wave // Wave 6
	{
		WaitWhenDone	65
		Checkpoint	Yes
        StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		SpawnTemplate "bombdeploymentpoint"
		// pew pew
		//SpawnTemplate "sentryblocker3"
		SpawnTemplate "terror_relay"
		Explanation [$SIGSEGV]
        {
			//Line "{EDEA15}-- Capture point test --"
			Line "{EDEA15}-- WARNING! --"
			Line "{red}- Mann Co has grown tired of you demolishing their property -"
			Line "{red}- They have developed more deadly type of robots."
			//Line "{red}- SECURITY BREACH AT CARRIER TANK! -"
			//Line "{red}- Modules/Robot resources lost! -"
			//Line "{red}- RED Bots Upgraded it with our modules! -"
			Line "{EDEA15}- Setting up a new objective! -"
			//Line "{EDEA15}- Time Limit set to 10 minutes! -"
			Line "{blue}- Defeat RED Robots and Destroy Mann Co. Base once and for all! -" // Send them back to hell
			Line "{blue}- We can only send limited amount of Blu Robots to assist you."
        }
		// Dummy Wave
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target "timer_w2_changer"
				Action Trigger
			}
		}
		WaveSpawn 
		{
			//WaitForAllSpawned f3_2
			WaitBeforeStarting 3
			FirstSpawnOutput
			{
				Target "start_wave6"
				Action Trigger
			}
		}
		WaveSpawn
		{
			WaitBeforeStarting 5
			FirstSpawnOutput
			{
				Target "hint_basething"
				Action Show
			}
		}
		WaveSpawn
		{
			WaitForAllDead f1_2
			WaitBeforeStarting 3
			FirstSpawnOutput
			{
				Target "hint_basething_two"
				Action Show
			}
		}
		WaveSpawn // This one can stay
		{
			Name ClosePitPlease
			FirstSpawnOutput
			{
				Target "wave_close_pit"
				Action Trigger
			}
		}
		WaveSpawn // Objective change
		{
			Name differentname
			FirstSpawnOutput
			{
				Target "wave_six_first"
				Action Trigger
			}
		}
		WaveSpawn // Objective change
		{
			Name start_this_instead
			FirstSpawnOutput
			{
				Target "wave_six_last"
				Action Trigger
			}
		}
		WaveSpawn // Objective change
		{
			Name start_hudhint
			WaitBeforeStarting 1
			FirstSpawnOutput
			{
				Target "hudhintloop_wave"
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name DisableForceField
			WaitForAllSpawned f1_4
			FirstSpawnOutput
			{
				Target "disablebarriers"
				Action Trigger
			}
		}
		// The "Randomguy" Sorting Icons
		WaveSpawn // Fake Icon 
        {
            Name z1_1
            TotalCurrency 0
            TotalCount 1
            Where spawnbot
			Support 1
            WaitBeforeStarting 9999
            TFBot{Class scout ClassIcon red2_lite}
        }
		WaveSpawn // Only Caber knights
		{
			Name caberknight
			WaitForAllSpawned f3_2
			Support 1
			TotalCurrency 0
			TotalCount 72
			MaxActive 10
			SpawnCount 10
			Where mainspawn_middle
			WaitBeforeStarting 22
			WaitBetweenSpawns 24
			TFBot
			{
				Template T_TFBot_Red_Caber_Knight
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 1.5 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Shotties/KGB only
		{
			Name limited_red2
			WaitForAllDead f3_2
			Support 1
			TotalCurrency 0
			TotalCount 72
			MaxActive 12
			SpawnCount 3
			Where no_trespassing
			Where stair_flank
			WaitBeforeStarting 4
			WaitBetweenSpawns 16
			TFBot
			{
				Tag bot_noteleport
				Template T_TFBot_Red_Combo_Gauntlet
				Attributes DisableDodge
				//Attributes AlwaysCrit
				//MaxVisionRange 800
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					"mult dmg vs giants" 2
            	}
			}
		}
		WaveSpawn // Because Fuck you Sniper
		{
			Name ninetynine_2
			WaitForAllSpawned f3_2
			TotalCurrency 0
			TotalCount 9999
			MaxActive 4
			SpawnCount 4
			Support 1
			Where mainspawn_left
			Where mainspawn_middle
			Where mainspawn_right
			WaitBeforeStarting 15
			WaitBetweenSpawns 45
			RandomChoice
			{
				TFBot
				{
					Tag bot_noteleport
					ClassIcon spy_sniper
					Template T_TFBot_Sniper
					Skill Expert // Because fuck you
					MaxVisionRange 2500
					Attributes DisableDodge
					Item "The Triggerman's Tacticals"
            		Item "The Birdman of Australiacatraz"
					Action Sniper [$SIGSEGV]
					AimAt Head [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					ItemAttributes
					{
						ItemName "tf_weapon_sniperrifle"
						"sniper fires tracer HIDDEN" 1
						"mult dmg vs giants" 1.5
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
            		}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon spy_sniper
					Template T_TFBot_Sniper
					Skill Expert // Because fuck you
					MaxVisionRange 2500
					Attributes DisableDodge
					Item "The Triggerman's Tacticals"
            		Item "The Birdman of Australiacatraz"
					Action Sniper [$SIGSEGV]
					AimAt Head [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					ItemAttributes
					{
						ItemName "tf_weapon_sniperrifle"
						"sniper fires tracer HIDDEN" 1
						"mult dmg vs giants" 1.5
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
            		}
				}
				TFBot 
				{
					Tag bot_noteleport
					ClassIcon spy_sniper
					Template T_TFBot_Sniper_Razorback
					Skill Expert // Because fuck you
					MaxVisionRange 2500
					Attributes DisableDodge
					Item "The Triggerman's Tacticals"
            		Item "The Birdman of Australiacatraz"
					Action Sniper [$SIGSEGV]
					AimAt Head [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 3 }
					ItemAttributes
					{
						ItemName "tf_weapon_sniperrifle"
						"sniper fires tracer HIDDEN" 1
						"mult dmg vs giants" 1.5
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
            		}
				}
			}
		}
		WaveSpawn // Frenchie
		{
			Name spies
			WaitForAllSpawned f3_2
			TotalCurrency 0
			TotalCount 9999
			MaxActive 2
			SpawnCount 2
			Support 1
			Where mainspawn_middle
			Where no_trespassing
			Where fuel_door
			Where gate_door
			RandomSpawn 1
			WaitBeforeStarting 20
			WaitBetweenSpawns 40
			TFBot
			{
				Tag bot_noteleport
				ClassIcon spy_sniper
				Template T_TFBot_Spy
				Name "Power Spy"
				Item "Fancy Fedora"
				Item "The Ambassador"
				Attributes DisableDodge
				Attributes IgnoreFlag
				Action Spy [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				Addcond [$SIGSEGV] { Index 64 Duration 3 }
				CharacterAttributes
            	{
			   		"crit mod disabled" 0
					"armor piercing" 100 // ??
            	}
			}
		}
		// BLU Support
		WaveSpawn // Fake Icon
		{
			Name bomb_service
			TotalCurrency 0 
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where spawnbot
			WaitBeforeStarting 9999
			WaitBetweenSpawns 60
			support 1
			TFBot
			{
				Class Scout
				ClassIcon blu2_lite
			}
		}
		WaveSpawn // I am very lazy to make a good infinite support
		{
			Name blu_limited
			WaitForAllSpawned f3_2
			TotalCurrency 0
			TotalCount 60
			MaxActive 6
			SpawnCount 2
			Support Limited
			WaitBeforeStarting 10
			WaitBetweenSpawns 1
			Where spawnbot
			Where spawnbot_house
			RandomChoice
			{
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Heavyweapons_Shotgun
					Item "The Law"
					Skill Expert
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Heavyweapons_Shotgun
					Item "The Law"
					Skill Expert
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Soldier
					Skill Expert
					Item "Full Metal Drill Hat"
					UseBestWeapon 1 [$SIGSEGV]
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Soldier
					Skill Expert
					Item "Full Metal Drill Hat"
					UseBestWeapon 1 [$SIGSEGV]
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Soldier
					Name "Burst Fire Soldier"
					Skill Expert
					Attributes HoldFireUntilFullReload
					Item "Full Metal Drill Hat"
					Action Mobber [$SIGSEGV]
					ItemAttributes
           			{
                		ItemName "TF_WEAPON_ROCKETLAUNCHER"
                		"faster reload rate" 0.6
                		"fire rate bonus" 0.2
                		"clip size upgrade atomic" 5
            		}
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Pyro
					Skill Expert
					Item "The Flamboyant Flamenco"
					UseBestWeapon 1 [$SIGSEGV]
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Pyro
					Skill Expert
					Item "The Flamboyant Flamenco"
					UseBestWeapon 1 [$SIGSEGV]
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Demoman
					Item "Prince Tavish's Crown"
					Item "The Chargin' Targe"
					Skill Hard
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Demoman
					Item "Prince Tavish's Crown"
					Item "The Chargin' Targe"
					Skill Hard
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Demo_Burst
					Item "Prince Tavish's Crown"
					Item "The Chargin' Targe"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class Demoman
					Item "Prince Tavish's Crown"
					Item "The Chargin' Targe"
					Skill Hard
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class HeavyWeapons
					Item "Officer's Ushanka"
					Skill Normal
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class HeavyWeapons
					Item "Officer's Ushanka"
					Skill Normal
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Class HeavyWeapons
					Item "Officer's Ushanka"
					Skill Normal
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
			}
		}
		WaveSpawn // Too long list of shit giant support
		{
			Name Blu_limted2
			WaitForAllSpawned f3_2
			TotalCurrency 0
			TotalCount 15
			MaxActive 3
			SpawnCount 1
			Support Limited
			WaitBeforeStarting 7
			WaitBetweenSpawns 12
			Where spawnbot
			Where spawnbot_house
			RandomChoice
			{
				// Scout
				TFBot
				{
					Tag bot_noteleport
					Template T_TFBot_Giant_Milkman_Scout
					ClassIcon random_lite
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					Template T_TFBot_Giant_Cola_Popper_Scout
					ClassIcon random_lite
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					Template T_TFBot_Giant_Scout_Baseball
					ClassIcon random_lite
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					Template T_TFBot_Giant_Scout_Baseball
					ClassIcon random_lite
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				// Soldier
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Soldier_Spammer
					Item "The War Pig"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Soldier_Spammer
					Item "The War Pig"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Soldier_Spammer_Reload
					Item "Tyrantium Helmet"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				// Pyro 
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Attributes AlwaysFireWeapon
					Template T_TFBot_Giant_Pyro
					Item "The Sub Zero Suit"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Pyro
					Name "Giant Deflector Pyro"
					Item "The U-clank-a"
					//Item "The Sub Zero Suit"
					Action Mobber [$SIGSEGV]
					ItemAttributes
					{
						ItemName "tf_weapon_flamethrower"
						"airblast_destroy_projectile" 1
					}
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Pyro_Flare_Spammer
					Item "The Sub Zero Suit"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Pyro_Flare_Spammer
					Item "The Sub Zero Suit"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				// Demoman
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_DemoMan_PrinceTavish
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_DemoMan_PrinceTavish
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Demoman
					Item "Glengarry Bonnet"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Demo_Burst
					Item "The Bomber Knight"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				// Heavy 
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Burstshotgun_Heavy
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Heavyweapons
					Item "The Heavy Artillery Officer's Cap"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
				TFBot
				{
					Tag bot_noteleport
					ClassIcon random_lite
					Template T_TFBot_Giant_Heavyweapons_Deflector
					Item "The Mann of the House"
					Action Mobber [$SIGSEGV]
					CharacterAttributes
					{
						"crit mod disabled" 0
						
						
					}
				}
			}
		}
		// RED Main wave
		WaveSpawn // Illegal hybrid Knights
		{
			Name f1_1
			TotalCurrency 100
			TotalCount 24
			MaxActive 12
			SpawnCount 4
			Where stair_flank
			Where stair_main
			Where factory_stairs
			WaitBeforeStarting 7
			WaitBetweenSpawns 6
			RandomChoice
			{
				TFBot // Buff
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk3
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Buff
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk3
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Buff
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk3
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Buff
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk3
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Conch
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk4
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Conch
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk4
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Conch
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk4
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Battalion
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk5
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot // Battalion
				{
					Template T_TFBot_Red_Illegal_Hybrid_Knight_mk5
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
			}
		}
		WaveSpawn // Illegal Atomic Rain Soldier + Kingmaker Medic
		{
			Name f1_2
			TotalCurrency 25
			TotalCount 4
			MaxActive 2
			SpawnCount 2
			Where outside_middle
			Where factory_main
			WaitBeforeStarting 7
			WaitBetweenSpawns 26
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Multishot_Mangler_Soldier
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_target"
				}
				TFBot
				{
					Template T_TFBot_Red_Giant_Medic_Kingmaker
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_medic"
				}
			}
		}
		WaveSpawn // Illegal Super shotgun Scout
		{
			Name f1_3
			TotalCurrency 50
			TotalCount 6
			MaxActive 2
			SpawnCount 1
			WaitBeforeStarting 7
			WaitBetweenSpawns 18
			Where factory_truck
			Where outside_middle
			TFBot
			{
				Template T_TFBot_Red_Giant_Rapid_Scout
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Tag bot_noteleport
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_critbuff_recipient"
			}
		}
		WaveSpawn // Illegal Phlog Pyro
		{
			Name f1_4
			TotalCurrency 50
			TotalCount 28
			MaxActive 6
			SpawnCount 3
			Where factory_stairs
			Where outside_middle
			Where stair_flank
			WaitBeforeStarting 7
			WaitBetweenSpawns 5
			TFBot
			{
				Class Pyro
				ClassIcon pyro_phlog
				Skill Expert
				Name "Phlogistinator Pyro"
				Item "The Bubble Pipe"
				Item "The Sub Zero Suit"
				Item "The Phlogistinator"
				Item "The Manmelter"
				//Item "The Third Degree" // Rip Trolling Medics
				UseBestWeapon 1 [$SIGSEGV]
				Attributes DisableDodge
				Attributes SpawnWithFullCharge
				AddCond [$SIGSEGV] { Index 43 } 
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 52 Duration 1.5 }
				Tag bot_noteleport
				ItemAttributes
				{
					ItemName "The Phlogistinator"
					//"damage bonus" 2
					"airblast disabled" 0
				}
				ItemAttributes
				{
					ItemName "The Manmelter"
					"mult projectile count" 3
					"projectile spread angle penalty" 3
				}
				CharacterAttributes
            	{
					"deploy time increased" 0.001
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Illegal Gburst Soldier with GBurst shotgun heavy
		{
			Name f2_1
			WaitForAllSpawned f1_2
			TotalCurrency 50
			TotalCount 6
			MaxActive 3
			SpawnCount 3
			Where no_trespassing
			Where littlebarn_truck
			waitbeforestarting 12
			WaitBetweenSpawns 30
			Squad
			{
				TFBot
				{
					Template T_TFBot_Red_Giant_Crit_Banner_Burst_Soldier
					Attributes DisableDodge
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
				}
				TFBot
				{
					Template T_TFBot_Giant_Burstshotgun_Heavy
					ClassIcon heavy_shotgun_red_burst
					Attributes DisableDodge
					Tag bot_giant
					tag bot_noteleport
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
            		AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"damage force reduction" 0
						"cannot pick up intelligence" 1
						"voice pitch scale" 0
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot
				{
					Template T_TFBot_Giant_Burstshotgun_Heavy
					ClassIcon heavy_shotgun_red_burst
					Attributes DisableDodge
					Tag bot_giant
					tag bot_noteleport
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
            		AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"damage force reduction" 0
						"cannot pick up intelligence" 1
						"voice pitch scale" 0
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
			}
		}
		WaveSpawn // Illegal Burst Mortar Demo
		{
			Name f2_1
			WaitForAllSpawned f1_2
			TotalCurrency 50
			TotalCount 4
			MaxActive 2
			SpawnCount 2
			Where outside_middle_two
			Where no_trespassing
			Where littlebarn_truck
			waitbeforestarting 8
			WaitBetweenSpawns 14
			TFBot
			{
				Template T_TFBot_Red_Giant_Burst_Mortar_Demo
				Attributes DisableDodge
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				Tag bot_noteleport
				CharacterAttributes
            	{
					"damage force reduction" 0
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
				SpawnTemplate "powerup_logic_critbuff_recipient"
			}
		}
		WaveSpawn // Illegal Heavy
		{
			Name f2_1
			WaitForAllSpawned f1_4
			TotalCurrency 50
			TotalCount 24
			MaxActive 7
			SpawnCount 2
			Where no_trespassing
			Where littlebarn_truck
			Where mannco_door
			WaitBeforeStarting 7
			WaitBetweenSpawns 6
			RandomChoice
			{
				TFBot
				{
					Class HeavyWeapons
					Attributes DisableDodge
					Skill Expert
					Item "The Heavy Artillery Officer's Cap"
					Item "The Mann of the House"
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 }
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot
				{
					Class HeavyWeapons
					Skill Expert
					Name "Deflector Heavy"
					Item "The U-clank-a"
					Item "Commissar's Coat"
					Item "Deflector"
					Attributes DisableDodge
					MaxVisionRange 1200
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 }
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					ItemAttributes
					{
						ItemName "Deflector"
						"attack projectiles" 1	// force ability to shoot down projectiles
					}
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot
				{
					Class HeavyWeapons
					Skill Expert
					Name "Heater Heavy"
					Item "The Bunsen Brave"
					Item "EOTL_sheavyshirt"
					//Item "The Mann of the House"
					Item "The Huo Long Heatmaker"
					MaxVisionRange 1200
					Attributes DisableDodge
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 1.5 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot
				{
					Class HeavyWeapons
					Name "Brass Beast Heavy"
					Skill Expert
					Item "The Brass Beast"
					Item "The Outdoorsman"
					Item "The Apparatchik's Apparel"
					Attributes DisableDodge
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
				TFBot
				{
					Class HeavyWeapons
					Skill Expert
					Name "Tomislav Heavy"
					Item "Tomislav"
					Item "The Siberian Sophisticate"
					//Item "The Mann of the House"
					Item "The Federal Casemaker"
					Attributes DisableDodge
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
					AddCond [$SIGSEGV] { Index 52 Duration 2 }
					Tag bot_noteleport
					CharacterAttributes
            		{
						"cannot pick up intelligence" 1
                		"crit mod disabled" 0
						
            		}
					SpawnTemplate "powerup_logic_critbuff_recipient"
				}
			}
		}
		WaveSpawn // Illegal Rapid Bowman
		{
			Name f2_1
			WaitForAllSpawned f1_1
			TotalCurrency 50
			TotalCount 16
			MaxActive 4
			SpawnCount 2
			Where no_trespassing
			Where littlebarn_truck
			Where mannco_door
			TFBot
			{
				SpawnTemplate "powerup_logic_critbuff_recipient"
				Template T_TFBot_Red_Sniper_Huntsman_Spammer
				Item "Down Tundra Coat"
				Item "The Classy Capper"
				Attributes DisableDodge
				AimAt Head [$SIGSEGV]
				ItemAttributes
				{
					ItemName "The Huntsman"
					"Arrow mastery" 1
				}
				AddCond [$SIGSEGV] { Index 52 Duration 2 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
			
		}
		// Boss Only Don't Touch!
		WaveSpawn // Fake Crits Death
		{
			Name f3_1
			WaitForAllDead f2_1
			TotalCurrency 0
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where mainspawn_giant
			WaitBeforeStarting 5
			FirstSpawnOutput
			{
				Target "fake_crits_death"
				Action Trigger
			}
			DoneOutput
			{
				Target "oops_i_died"
				Action Trigger
			}
			TFBot
			{
				Template T_TFBot_Red_Fake_Crits
				AlwaysGlow 1
				Tag bot_noteleport
			}
		}
		WaveSpawn // Cancel timer to show the yakuza title
		{
			WaitForAllSpawned f3_1
			FirstSpawnOutput
			{
				Target "realtimer"
				Action CancelPending
			}
		}
		WaveSpawn // Titanium Terror
		{
			Name f3_2
			WaitForAllDead f3_1
			TotalCurrency 777
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			Where mainspawn_giant
			DoneOutput
			{
				Target "terror_died"
				Action Trigger
			}
			TFBot
			{
				Template T_TFBot_Red_Titanium_Terror
				AlwaysGlow 1 // Important to kill the boss
				//AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					
            	}
			}
		}
		WaveSpawn // Resume timer
		{
			WaitForAllSpawned f3_2
			WaitBeforeStarting 6
			FirstSpawnOutput
			{
				Target "realtimer"
				Action Trigger
			}
		}
		// From here place bots to defend the point?
		WaveSpawn // Boss Demo?
		{
			Name f4_1
			WaitForAllDead f3_2
			TotalCurrency 133
			Totalcount 1
			MaxActive 1
			SpawnCount 1
			Where tunnel_spawn
			DoneOutput
			{
				Target "demo_boss_died"
				Action Trigger
			}
			TFBot
			{
				Template T_TFBot_Red_Giant_Burst_Atomic_Demo
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				Alwaysglow 1
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
               		"crit mod disabled" 0
					
            	}
				Tag bot_noteleport
			}
		}
		WaveSpawn // Illegal GBurst Homing Soldier
		{
			Name f4_2
			WaitForAllSpawned f4_1
			TotalCurrency 50
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			Where tunnel_spawn
			WaitBeforeStarting 3
			WaitBetweenSpawns 12
			FirstSpawnWarningSound "mvm\mvm_tele_deliver.wav"
			TFBot
			{
				Template T_TFBot_Red_Giant_Burst_Homing_Soldier
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				CharacterAttributes
            	{
					"cannot pick up intelligence" 1
               		"crit mod disabled" 0
					
            	}
				HomingRockets [$SIGSEGV]
				{
               		Enable 1
					IgnoreDisguisedSpies 1
					IgnoreStealthedSpies 1
					RocketSpeed 0.65 // Multiplier of rocket speed. 1 for default speed
					TurnPower 30 //How fast should the rocket rotate to face the target
					MaxAimError 75 //Max angle between rocket and the target
               		AimTime 2.5 //How long should the rocket be aiming (Default: 9999)
				}
			}
		}
		WaveSpawn // GBurst shotgun heavy
		{
			Name f4_3
			WaitForAllSpawned f4_1
			TotalCurrency 25
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			Where stair_flank
			Where stair_main
			WaitBeforeStarting 7
			WaitBetweenSpawns 15
			TFBot
				{
					Template T_TFBot_Giant_Burstshotgun_Heavy
					ClassIcon heavy_shotgun_red_burst
					Attributes DisableDodge
					Tag bot_giant
					tag bot_noteleport
					Action Mobber [$SIGSEGV]
					AddCond [$SIGSEGV] { Index 43 } 
            		AddCond [$SIGSEGV] { Index 52 Duration 2 }
					CharacterAttributes
            		{
						"damage force reduction" 0
						"cannot pick up intelligence" 1
						"voice pitch scale" 0
                		"crit mod disabled" 0
						
            		}
				}
		}
		WaveSpawn // Illegal Combo Pyro
		{
			name f4_4
			WaitForAllSpawned f4_1
			TotalCurrency 90
			TotalCount 16
			MaxActive 12
			SpawnCount 4
			Where tinyhouse_flank
			Where stair_flank
			Where stair_main
			WaitBeforeStarting 5
			WaitBetweenSpawns 6
			TFBot
			{
				Tag bot_noteleport
				Class Pyro
				ClassIcon pyro_degreaser_flare_red
				Name "Combo Pyro"
				Skill Expert
				//Attributes AlwaysFireWeapon
				Attributes DisableDodge
				UseBestWeapon 1 [$SIGSEGV]
				UseMeleeThreatPrioritization 1 [$SIGSEGV]
				Item "The Degreaser"
				Item "The Flare Gun"
				Item "The Axtinguisher"
				Item "The Burning Question"
				Item "Trickster's Turnout Gear"
				Tag bot_noteleport
				Action Mobber [$SIGSEGV]
				AddCond [$SIGSEGV] { Index 43 } 
				AddCond [$SIGSEGV] { Index 52 Duration 3 }
				ItemAttributes
				{
					ItemName "The Degreaser" 
					"fire input on hit" "combo_primary_to_melee^Trigger^"
					"airblast disabled" 1
				}
				CharacterAttributes
            	{
					"mult dmg vs giants" 1.5
					"deploy time decreased" 0.001
					"cannot pick up intelligence" 1
                	"crit mod disabled" 0
					
            	}
			}
		}
		WaveSpawn // Dummy
		{
			TotalCount 0
			SpawnCount 0
			WaitBeforeStarting 9999
			Where mainspawn_middle
			RandomChoice
			{
				RandomChoice
				{
					TFBot
					{
						Class Scout
					}
				}
			}
		}
	}
}
